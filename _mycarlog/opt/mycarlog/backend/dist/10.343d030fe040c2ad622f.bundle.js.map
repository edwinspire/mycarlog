{"version":3,"sources":["webpack://utomotive_og/wrapper.ts","webpack://utomotive_og/./src/widgets/fueling/FuelingLog.ts","webpack://utomotive_og/./src/widgets/FuelingLog.ts"],"names":["__webpack_require__","d","__webpack_exports__","wrapper","_global__WEBPACK_IMPORTED_MODULE_0__","nameOnGlobal","constructor","bind","FuelingLog_FuelingLog","WidgetBase","[object Object]","this","url","Params","idvehicle","columnConfig","id","title","filterable","sortable","resizable","setTimeout","invalidate","paramsString","window","location","hash","split","searchParams","URLSearchParams","get","res","fetch","method","headers","Content-Type","data","json","console","log","_fetcher","Object","utils","vdom","toolbar","heading","collapseWidth","Icon","label","classes","ShowLabel","onClick","e","href","grid","fetcher","height","onRowSelect","items","idfueling","rowkey","factory","properties","Profile_m","Menu"],"mappings":"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","file":"10.343d030fe040c2ad622f.bundle.js","sourcesContent":["import global from '../global';\nimport has from '../../core/has';\n\nexport default function wrapper(nameOnGlobal: string, constructor = false, bind = false): any {\n\tif (has('test')) {\n\t\tif (constructor) {\n\t\t\treturn function(...args: any[]) {\n\t\t\t\treturn new global[nameOnGlobal](...args);\n\t\t\t};\n\t\t} else {\n\t\t\treturn function(...args: any[]) {\n\t\t\t\treturn global[nameOnGlobal](...args);\n\t\t\t};\n\t\t}\n\t}\n\n\treturn bind ? global[nameOnGlobal].bind(global) : global[nameOnGlobal];\n}\n","import { v, w } from '@dojo/framework/core/vdom';\nimport WidgetBase from '@dojo/framework/core/WidgetBase';\nimport Grid from '@dojo/widgets/grid';\nimport { createFetcher } from '@dojo/widgets/grid/utils';\nimport ToolBar from '@dojo/widgets/toolbar';\nimport IconX from '.././Icon/Icon';\n\nexport interface FuelingLogProperties {\n\tidvehicle: string;\n}\n\nexport default class FuelingLog extends WidgetBase <FuelingLogProperties> {\n\n\tprivate url: string = '/fuelinglog';\n\tprivate Params = {\n\t\tidvehicle: '0'\n\t}\n\tprivate columnConfig = [\n\t{\n\t\tid: 'date_reg',\n\t\ttitle: 'Fecha',\n\t\tfilterable: true,\n\t\tsortable: true,\n\t\t//editable: true,\n\t\tresizable: true\n\t},\t\n\t{\n\t\tid: 'odometer',\n\t\ttitle: 'Odometer',\n\t\tfilterable: true,\n\t\tsortable: true,\n\t\t//editable: true,\n\t\tresizable: true\n\t},\n\t{\n\t\tid: 'quantity',\n\t\ttitle: 'Cantidad',\n\t\tfilterable: true,\n\t\tsortable: true,\n\t\t//editable: true,\n\t\tresizable: true\n\t},\n\t{\n\t\tid: 'price_by_unit',\n\t\ttitle: 'Precio x Unidad',\n\t\tfilterable: true,\n\t\tsortable: true,\n\t\t//editable: true,\n\t\tresizable: true\n\t},\n\n\t{\n\t\tid: 'total',\n\t\ttitle: 'Total',\n\t\tfilterable: true,\n\t\tsortable: true,\n\t\t//editable: true,\n\t\tresizable: true\n\t},\n\t{\n\t\tid: 'address',\n\t\ttitle: 'Dirección',\n\t\t//filterable: true,\n\t\tsortable: true,\n\t\t//editable: true,\n\t\tresizable: true\n\t}\t,\n\t{\n\t\tid: 'note',\n\t\ttitle: 'Notas',\n\t\t//filterable: true,\n\t\tsortable: true,\n\t\t//editable: true,\n\t\tresizable: true\n\t}\n\t];\n\n\tprivate _fetcher: any;\n\n\tasync onAttach() {\n\n\t\tsetTimeout(()=>{\n\t\t\tthis.columnConfig = [\n\t\t\t{\n\t\t\t\tid: 'date_reg',\n\t\t\t\ttitle: 'Fecha',\n\t\t\t\tfilterable: false,\n\t\t\t\tsortable: true,\n\t\t\t\t//editable: true,\n\t\t\t\tresizable: true\n\t\t\t},\t\n\t\t\t{\n\t\t\t\tid: 'odometer',\n\t\t\t\ttitle: 'Odometer',\n\t\t\t\tfilterable: false,\n\t\t\t\tsortable: true,\n\t\t\t\t//editable: true,\n\t\t\t\tresizable: true\n\t\t\t},\n\t\t\t{\n\t\t\t\tid: 'quantity',\n\t\t\t\ttitle: 'Cantidad',\n\t\t\t\tfilterable: false,\n\t\t\t\tsortable: true,\n\t\t\t\t//editable: true,\n\t\t\t\tresizable: true\n\t\t\t},\n\t\t\t{\n\t\t\t\tid: 'total',\n\t\t\t\ttitle: 'Total',\n\t\t\t\tfilterable: false,\n\t\t\t\tsortable: true,\n\t\t\t\t//editable: true,\n\t\t\t\tresizable: true\n\t\t\t},\n\t\t\t{\n\t\t\t\tid: 'address',\n\t\t\t\ttitle: 'Dirección',\n\t\t\t\t//filterable: true,\n\t\t\t\tsortable: false,\n\t\t\t\t//editable: true,\n\t\t\t\tresizable: true\n\t\t\t}\n\t\t\t];\n\n\t\t\tthis.invalidate();\n\n\t\t}, 10000)\n\n\n\t\tvar paramsString = window.location.hash.split('?')[1];\n\t\tvar searchParams = new URLSearchParams(paramsString);\n\t\tthis.Params.idvehicle = searchParams.get(\"idvehicle\")||'-2';\n\n\t\tconst res = await fetch(\n\t\t\tthis.url+'?idvehicle='+this.Params.idvehicle,{\n\t\t\t\tmethod: 'GET',\n\t\t\t\theaders: {\n\t\t\t\t\t'Content-Type': 'application/json'\n\t\t\t\t}\n\t\t\t}\n\t\t\t);\n\t\tlet data = await res.json();\n\t\tconsole.log(data);\n\t\tthis._fetcher = createFetcher(data);\n\t\tthis.invalidate(); \n\t}\n\n\tprotected render(){\n\n\t\treturn v('div', { }, [\n\t\t\tw(ToolBar, {heading: 'ABASTECIMIENTOS', collapseWidth: 150}, [\n\t\t\t\tw(IconX, {label: 'NUEVO', classes: ['fas', 'fa-user-plus'], ShowLabel: true,\n\t\t\t\t\tonClick: (e)=>{    \n\t\t\t\t\t\twindow.location.href = \"/#fueling?idfueling=0&rowkey=0\";\n\t\t\t\t\t}\n\t\t\t\t})\n\t\t\t\t]),\n\t\t\tv('div', { }, [\n\t\t\t\tthis._fetcher ? w(Grid, {\n\t\t\t\t\tcolumnConfig: this.columnConfig,\n\t\t\t\t\tfetcher: this._fetcher,\n\t\t\t\t\theight: 400,\n\t\t\t\t\tonRowSelect: (items: any[]) => {\n\t\t\t\t\t\tconsole.log(items, this._fetcher)\n\t\t\t\t\t\twindow.location.href = \"/#fueling?idfueling=\"+items[0].idfueling+\"&rowkey=\"+items[0].rowkey;\n\t\t\t\t\t}\n\t\t\t\t}) : null\n\t\t\t\t])\n\t\t\t]);\n\t}\n\n}","import { create, v, w } from '@dojo/framework/core/vdom';\nimport FL from './fueling/FuelingLog';\nimport * as css from './styles/Profile.m.css';\nimport Menu from './Menu';\n\nconst factory = create();\n\nexport default factory(function Profile({ properties }) {\n\treturn v('div', { classes: [css.root] }, [\n\t\tw(Menu, {}),\n\t\tw(FL, {idvehicle: '0'})\n\t\t]);\n});\n"],"sourceRoot":""}