{"version":3,"sources":["webpack://pen_onitoring_ystem/./src/widgets/VehicleSummary/VehicleSummary.ts","webpack://pen_onitoring_ystem/./src/widgets/Home.ts"],"names":["VehicleSummary_VehicleSummary","WidgetBase","[object Object]","this","Params","idaccount","account","date_start","date_end","idvehicle","license_plate","year","color","fuel_tank_capacity","vin","name","idmark","mark_label","idmodel","model_label","idcontact","firstname","lastname","identification","birthday","lfname","idcontacttype","contacttype_label","idgender","gender_label","idfueltype","fueltype_label","idunit_measure_fuel_tank","unit_measure_fuel_tank_label","_openSnack","_MsgSnackBar","msg","console","log","invalidate","setTimeout","properties","window","GlobalStore","get","path","res","fetch","method","body","JSON","stringify","headers","Content-Type","data","json","length","SnackBar","Object","vdom","toolbar","heading","collapseWidth","Icon","label","classes","ShowLabel","onClick","e","Profile_m","text_input","type","value","readOnly","disabled","required","placeholder","onChange","d","v","key","snackbar","open","leading","messageRenderer","tslib_es6","watch","factory","__webpack_exports__","Menu","localStorage","getItem"],"mappings":"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","file":"12.87928285eba5442deb7d.bundle.js","sourcesContent":["import { v, w } from \"@dojo/framework/core/vdom\";\nimport WidgetBase from \"@dojo/framework/core/WidgetBase\";\nimport * as cssProfile from \"../styles/Profile.m.css\";\nimport TextInput from \"@dojo/widgets/text-input\";\n//import Textarea from \"@dojo/widgets/text-area\";\nimport SBar from \"@dojo/widgets/snackbar\";\nimport watch from \"@dojo/framework/core/decorators/watch\";\nimport Icon from \"../Icon/Icon\";\nimport ToolBar from \"@dojo/widgets/toolbar\";\n\nexport interface VehicleSummaryProperties {\n  idvehicle: string;\n}\n\nexport default class VehicleSummary extends WidgetBase<\n  VehicleSummaryProperties\n> {\n  @watch() private Params = {\n    idaccount: 0,\n    account: \"\",\n    date_start: \"\",\n    date_end: \"\",\n    idvehicle: \"\",\n    license_plate: \"\",\n    year: \"\",\n    color: \"\",\n    fuel_tank_capacity: \"\",\n    vin: \"\",\n    name: \"\",\n    idmark: \"\",\n    mark_label: \"\",\n    idmodel: \"\",\n    model_label: \"\",\n    idcontact: \"\",\n    firstname: \"\",\n    lastname: \"\",\n    identification: \"\",\n    birthday: \"\",\n    lfname: \"\",\n    idcontacttype: \"\",\n    contacttype_label: \"\",\n    idgender: \"\",\n    gender_label: \"\",\n    idfueltype: \"\",\n    fueltype_label: \"\",\n    idunit_measure_fuel_tank: \"\",\n    unit_measure_fuel_tank_label: \"\",\n  };\n\n  @watch() private _openSnack = false;\n  private _MsgSnackBar = \"-\";\n\n  private SnackBar(msg: string) {\n    console.log(\"SnackBar \" + msg);\n    this._openSnack = true;\n    this._MsgSnackBar = msg;\n    this.invalidate();\n    setTimeout(() => {\n      this._openSnack = false;\n      this.invalidate();\n    }, 4000);\n  }\n\n  async onAttach() {\n    console.log(this.properties.idvehicle);\n\n    let idaccount = window.GlobalStore.get(\n      window.GlobalStore.path(\"root\", \"user\", \"idaccount\")\n    );\n    this.Params.idaccount = idaccount;\n\n    if (this.properties.idvehicle) {\n      var url = \"/vehicle_summary\";\n\n      const res = await fetch(url, {\n        method: \"POST\",\n        body: JSON.stringify(this.Params),\n        headers: {\n          \"Content-Type\": \"application/json\",\n        },\n      });\n      let data = await res.json();\n      console.log(data);\n      if (data.length > 0) {\n        this.Params = data[0];\n        this.invalidate();\n      } else {\n        this.SnackBar(\"No se ha encontrado datos\");\n      }\n      //console.log(data);\n    }\n  }\n\n  protected render() {\n    return v(\"div\", {}, [\n      w(ToolBar, { heading: \"VEHÍCULO\", collapseWidth: 150 }, [\n        w(Icon, {\n          label: \"NUEVO\",\n          classes: [\"fas\", \"fa-car\"],\n          ShowLabel: true,\n          onClick: (e) => {},\n        }),\n        v(\"span\", {}, [\"|\"]),\n      ]),\n      v(\"div\", { classes: [cssProfile.container] }, [\n        v(\"div\", { classes: [cssProfile.container_field_reset] }, [\n          w(\n            TextInput,\n            {\n              type: \"text\",\n              label: \"Propietario\",\n              value: this.Params.idcontact,\n              readOnly: false,\n            },\n            []\n          ),\n        ]),\n        v(\"div\", { classes: [cssProfile.row] }, [\n          v(\"div\", { classes: [cssProfile.column2] }, [\n            w(\n              TextInput,\n              {\n                type: \"text\",\n                label: \"Placa\",\n                disabled: false,\n                readOnly: false,\n                required: true,\n                placeholder: \"Placa\",\n                value: this.Params.license_plate,\n                onChange: (d) => {\n                  this.Params.license_plate = d as string;\n                  this.invalidate();\n                },\n              },\n              []\n            ),\n          ]),\n          v(\"div\", { classes: [cssProfile.column2] }, [\n            w(\n              TextInput,\n              {\n                label: \"Marca\",\n                value: this.Params.idmark,\n                readOnly: false,\n              },\n              []\n            ),\n          ]),\n        ]),\n        v(\"div\", { classes: cssProfile.row }, [\n          v(\"div\", { classes: [cssProfile.column2] }, [\n            w(\n              TextInput,\n              {\n                type: \"number\",\n                label: \"Año\",\n                disabled: false,\n                readOnly: false,\n                value: this.Params.year as any,\n                onChange: (v) => {\n                  this.Params.year = v as string;\n                  this.invalidate();\n                },\n              },\n              []\n            ),\n          ]),\n          v(\"div\", { classes: [cssProfile.column2] }, [\n            w(\n              TextInput,\n              {\n                type: \"text\",\n                label: \"VIN\",\n                disabled: false,\n                readOnly: false,\n                value: this.Params.vin as any,\n                onChange: (v) => {\n                  this.Params.vin = v as string;\n                  this.invalidate();\n                },\n              },\n              []\n            ),\n          ]),\n        ]),\n        v(\"div\", { classes: cssProfile.row }, [\n          v(\"div\", { classes: [cssProfile.column2] }, [\n            w(\n              TextInput,\n              {\n                label: \"Color\",\n                //type: \"color\",\n                readOnly: true,\n                value: this.Params.color,\n              },\n              []\n            ),\n          ]),\n          v(\"div\", { classes: [cssProfile.column2] }, [\n            w(\n              TextInput,\n              {\n                label: \"Tipo de combustible\",\n                value: this.Params.fueltype_label,\n                readOnly: true,\n              },\n              []\n            ),\n          ]),\n        ]),\n        v(\"div\", { classes: cssProfile.row }, [\n          v(\"div\", { classes: [cssProfile.column2] }, [\n            w(\n              TextInput,\n              {\n                key: \"t6\",\n                type: \"number\",\n                label: \"Capacidad del tanque\",\n                disabled: false,\n                readOnly: false,\n                value: this.Params.fuel_tank_capacity as any,\n                onChange: (v) => {\n                  this.Params.fuel_tank_capacity = v as string;\n                  this.invalidate();\n                },\n              },\n              []\n            ),\n          ]),\n          v(\"div\", { classes: [cssProfile.column2] }, [\n            w(\n              TextInput,\n              {\n                label: \"Unidad de medida del tanque\",\n                readOnly: true,\n                value: this.Params.unit_measure_fuel_tank_label,\n              },\n              []\n            ),\n          ]),\n        ]),\n        w(SBar, {\n          open: this._openSnack,\n          leading: false,\n          type: \"error\",\n          messageRenderer: () => this._MsgSnackBar,\n        }),\n      ]),\n    ]);\n  }\n}\n","import { create, w, v } from '@dojo/framework/core/vdom';\nimport Summary from './VehicleSummary/VehicleSummary';\nimport Menu from './Menu';\n\nconst factory = create();\n\nexport default factory(function Profile() {\n\treturn  v('div', {}, [\n\t\tw(Menu, {}),\n\t\tw(Summary, {idvehicle: localStorage.getItem(\"1\") as string}, [])\n\t\t]) ;\n});\n"],"sourceRoot":""}