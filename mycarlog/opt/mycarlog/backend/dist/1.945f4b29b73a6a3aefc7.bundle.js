/*!
 * 
 * [Dojo](https://dojo.io/)
 * Copyright [JS Foundation](https://js.foundation/) & contributors
 * [New BSD license](https://github.com/dojo/meta/blob/master/LICENSE)
 * All rights reserved
 * 
 */
(window.dojoWebpackJsonpy_ar_og=window.dojoWebpackJsonpy_ar_og||[]).push([[1],{101:function(e,t,i){i(102),e.exports={" _key":"@dojo/widgets/grid",rootFixed:"grid-m__rootFixed__2GZXD",headerFixed:"grid-m__headerFixed__2X7jF"}},102:function(e,t,i){},104:function(e,t,i){"use strict";var r=i(20),o=i(19),s=i(18),a=i(21),n=i(23),d=i(22),c=i(108),l=i(38),h=i(52),g=(i(42),i(2)),_=i(35),p=i(28);i(1);const u=new p.b,m=Symbol("value");const b="State updates are not available on legacy browsers";function f(e,t,i,r,o,s){const{apply:a,get:n,path:d,at:c}=i;function l(e,t,r){return e(i)(t)}return async h=>{const u=[],f=[...t];let j=[],y=f.shift(),O=null;const w=s?s(h):h;if(r){let t=r(w,i,e);t&&await t}function v(){const e=new p.b,t=new p.b,i=[],r=o=>({get(i,s){const a=o?d(o,s):d(s),c=a.path;if("symbol"==typeof s&&s===m)return t.get(c);let l=o||i.hasOwnProperty(s)?i[s]:n(a);if("object"==typeof l&&null!==l){let o;return e.has(c)?o=e.get(c):(l=Array.isArray(l)?l.slice():Object.assign({},l),o=new Proxy(l,r(a)),e.set(c,o),t.set(c,l)),i[s]=l,o}return i[s]=l,l},set:(e,t,r)=>(r=function e(t){if("object"==typeof t&&null!==t){t[m]&&(t=t[m]);const i=Array.isArray(t)?[]:{},r=Object.keys(t);for(let o=0;o<r.length;o++)i[r[o]]=e(t[r[o]]);t=i}return t}(r),i.push(Object(_.c)(o?d(o,t):d(t),r)),e[t]=r,!0),deleteProperty:(e,t)=>(i.push(Object(_.b)(o?d(o,t):d(t))),delete e[t],!0)});return{proxy:new Proxy({},r()),operations:i}}try{for(;y;){let e=[];let t;t=(e=(Array.isArray(y)?y:[y]).map(e=>{let t,i=[];if("undefined"!=typeof Proxy){const{operations:e,proxy:r}=v();t=r,i=e}let r=e({at:c,get:n,path:d,payload:w,get state(){if("undefined"==typeof Proxy)throw new Error(b);return t}});return Object(g.isThenable)(r)?r.then(e=>e=e?[...i,...e]:[...i]):r=r&&Array.isArray(r)?[...i,...r]:[...i]})).some(g.isThenable)?await Promise.all(e):e;for(let i=0;i<e.length;i++)u.push(...t[i]),j=[...a(t[i]),...j];i.invalidate(),y=f.shift()}}catch(e){if(e.message===b)throw e;O={error:e,command:y}}return o&&o(O,{undoOperations:j,store:i,id:e,operations:u,apply:a,at:c,get:n,path:d,executor:l,payload:w}),Promise.resolve({store:i,undoOperations:j,id:e,error:O,operations:u,apply:a,at:c,get:n,path:d,executor:l,payload:w})}}function j(e,t,i){const r=(i=Array.isArray(i)?i:i?[i]:[]).length?i.reduce((t,i)=>(function(e,t){const{before:i,after:r}=e();return e=>{const{before:o,after:s}=e?e():{};return()=>({after(e,t){s&&s(e,t),r&&r(e,t)},before(e,r){o&&o(e,r,t),i&&i(e,r,t)}})}})(i,e)(t)):void 0,{before:o,after:s}=r?r():{};return u.set(e,[e,t,o,s]),(i,r)=>f(e,t,i,o,s,r)}var y=i(32);const O=function(e){return e},w=O(({path:e,get:t,payload:{id:i,page:r}})=>{return r!==t(e(i,"meta","page"))?[Object(_.c)(e(i,"meta","page"),r)]:[]}),v=O(({path:e,get:t,payload:{id:i,page:r}})=>{const o=t(e(i,"meta","fetchedPages"))||[];if(-1===o.indexOf(r))return[Object(_.c)(e(i,"meta","fetchedPages"),[...o,r]),Object(_.c)(e(i,"meta","page"),r)];throw Error("The page has already been requested")}),x=O(({at:e,path:t,get:i,payload:{id:o,fetcher:s,page:a,pageSize:n}})=>r.__awaiter(void 0,void 0,void 0,function*(){let e;if(i(t(o,"meta","isSorting")))throw Error("The grid is being sorted or filtered");{const r=i(t(o,"meta","sort")),d=i(t(o,"meta","filter"));try{e=yield s(a,n,{sort:r,filter:d})}catch(e){return[Object(_.b)(t(o,"data","pages",`page-${a}`))]}return[Object(_.c)(t(o,"data","pages",`page-${a}`),e.data),Object(_.c)(t(o,"meta","total"),e.meta.total),Object(_.c)(t(o,"meta","pageSize"),n)]}})),k=O(({at:e,path:t,get:i,payload:{id:r,columnId:o,direction:s}})=>{const a=i(t(r,"meta","page"));return[Object(_.b)(t(r,"data","pages")),Object(_.b)(t(r,"meta","selection")),Object(_.c)(t(r,"meta","fetchedPages"),1===a?[1]:[a,a-1]),Object(_.c)(t(r,"meta","sort","columnId"),o),Object(_.c)(t(r,"meta","sort","direction"),s),Object(_.c)(t(r,"meta","isSorting"),!0)]}),S=O(({at:e,path:t,get:i,payload:{id:r,filterOptions:o}})=>[Object(_.b)(t(r,"data","pages")),Object(_.b)(t(r,"meta","selection")),Object(_.c)(t(r,"meta","fetchedPages"),[1]),Object(_.c)(t(r,"meta","filter",o.columnId),o.value),Object(_.c)(t(r,"meta","currentFilter"),o),Object(_.c)(t(r,"meta","page"),1),Object(_.c)(t(r,"meta","isSorting"),!0)]),R=O(({at:e,path:t,get:i,payload:o,state:s})=>r.__awaiter(void 0,void 0,void 0,function*(){const{id:r,fetcher:a,columnId:n,direction:d}=o,c=i(t(r,"meta","page"));if(1===c)return C({at:e,get:i,path:t,payload:o,state:s});const l=i(t(r,"meta","pageSize")),h=i(t(r,"meta","filter"));let g;try{const e={sort:{columnId:n,direction:d},filter:h},t=a(c-1,l,e),i=a(c,l,e);g=yield Promise.all([t,i])}catch(e){return[]}return[Object(_.c)(t(r,"data","pages",`page-${c-1}`),g[0].data),Object(_.c)(t(r,"data","pages",`page-${c}`),g[1].data),Object(_.c)(t(r,"meta","sort","columnId"),n),Object(_.c)(t(r,"meta","sort","direction"),d),Object(_.c)(t(r,"meta","total"),g[1].meta.total),Object(_.c)(t(r,"meta","page"),c),Object(_.c)(t(r,"meta","isSorting"),!1)]})),C=O(({at:e,path:t,get:i,payload:{id:o,fetcher:s,columnId:a,direction:n}})=>r.__awaiter(void 0,void 0,void 0,function*(){const e=i(t(o,"meta","pageSize")),r=i(t(o,"meta","filter"));let d;try{d=yield s(1,e,{sort:{columnId:a,direction:n},filter:r})}catch(e){return[]}return[Object(_.c)(t(o,"data","pages","page-1"),d.data),Object(_.c)(t(o,"meta","sort","columnId"),a),Object(_.c)(t(o,"meta","sort","direction"),n),Object(_.c)(t(o,"meta","total"),d.meta.total),Object(_.c)(t(o,"meta","page"),1),Object(_.c)(t(o,"meta","isSorting"),!1)]})),P=O(({at:e,path:t,get:i,payload:{id:o,fetcher:s,filterOptions:a}})=>r.__awaiter(void 0,void 0,void 0,function*(){const e=i(t(o,"meta","pageSize")),r=i(t(o,"meta","sort")),n=i(t(o,"meta","filter"));let d;try{d=yield s(1,e,{sort:r,filter:n})}catch(e){return[]}if(a!==i(t(o,"meta","currentFilter")))throw new Error;return[Object(_.b)(t(o,"data","pages")),Object(_.c)(t(o,"data","pages","page-1"),d.data),Object(_.c)(t(o,"meta","total"),d.meta.total),Object(_.c)(t(o,"meta","isSorting"),!1)]})),z=O(({at:e,path:t,get:i,payload:{id:r,updater:o,columnId:s,value:a,page:n,rowNumber:d}})=>{const c=i(e(t(r,"data","pages",`page-${n}`),d)),l=Object.assign({},c,{[s]:a});return[Object(_.c)(e(t(r,"data","pages",`page-${n}`),d),l),Object(_.c)(t(r,"meta","editedRow","page"),n),Object(_.c)(t(r,"meta","editedRow","index"),d),Object(_.c)(t(r,"meta","editedRow","item"),Object.assign({},c))]}),F=O(({at:e,path:t,get:i,payload:{id:o,updater:s,columnId:a,value:n,page:d,rowNumber:c}})=>r.__awaiter(void 0,void 0,void 0,function*(){const r=i(e(t(o,"data","pages",`page-${d}`),c));try{yield s(r)}catch(r){const s=i(t(o,"meta","editedRow","item"));return[Object(_.c)(e(t(o,"data","pages",`page-${d}`),c),s)]}return[Object(_.c)(t(o,"meta","editedRow"),void 0)]})),I=O(({payload:{id:e,index:t,type:i},get:r,path:o})=>{let s=[...r(o(e,"meta","selection"))||[]];if("single"===i)s=-1===s.indexOf(t)?[t]:s.length>1?[t]:[];else{const e=Object(y.b)(s,e=>e===t);-1===e?s=[...s,t]:s.splice(e,1)}return[Object(_.c)(o(e,"meta","selection"),s)]}),$=O(({payload:{id:e},path:t})=>[Object(_.b)(t(e,"meta","selection"))]),M=j("grid-update",[z,F]),W=j("grid-fetch",[v,x]),D=j("grid-filter",[S,P]),N=j("grid-sort",[k,R]),T=j("grid-selection",[I]),E=(j("clear-selection",[$]),j("grid-page-change",[w]));var L=i(24),A=i(0),V=i(106),H=i(51),B=i(34);const K=Object.freeze({delta:Object.freeze({x:0,y:0}),isDragging:!1});function X(e){return{client:{x:e.clientX,y:e.clientY},offset:{x:e.offsetX,y:e.offsetY},page:{x:e.pageX,y:e.pageY},screen:{x:e.screenX,y:e.screenY}}}function G(e,t){return{x:t.client.x-e.client.x,y:t.client.y-e.client.y}}const J=new class{constructor(){this._nodeMap=new H.a,this._dragging=void 0,this._onDragStart=(e=>{const{_dragging:t}=this;if(!e.isPrimary&&t){const e=this._nodeMap.get(t);return e.dragResults.isDragging=!1,e.invalidate(),void(this._dragging=void 0)}if(0!==e.button)return;const i=this._getData(e.target);if(i){const{state:t,target:r}=i;this._dragging=r,t.last=t.start=X(e),t.dragResults.delta={x:0,y:0},t.dragResults.start=Object(L.b)({},t.start),t.dragResults.isDragging=!0,t.invalidate(),e.preventDefault(),e.stopPropagation()}}),this._onDrag=(e=>{const{_dragging:t}=this;if(!t)return;const i=this._nodeMap.get(t);i.last=X(e),i.dragResults.delta=G(i.start,i.last),i.dragResults.start||(i.dragResults.start=Object(L.b)({},i.start)),i.invalidate(),e.preventDefault(),e.stopPropagation()}),this._onDragStop=(e=>{const{_dragging:t}=this;if(!t)return;const i=this._nodeMap.get(t);i.last=X(e),i.dragResults.delta=G(i.start,i.last),i.dragResults.start||(i.dragResults.start=Object(L.b)({},i.start)),i.dragResults.isDragging=!1,i.invalidate(),this._dragging=void 0,e.preventDefault(),e.stopPropagation()});const e=A.default.window;e.addEventListener("pointerdown",this._onDragStart),e.addEventListener("pointermove",this._onDrag,!0),e.addEventListener("pointerup",this._onDragStop,!0)}_getData(e){return this._nodeMap.has(e)?{state:this._nodeMap.get(e),target:e}:e.parentElement?this._getData(e.parentElement):void 0}get(e,t){const{_nodeMap:i}=this;if(!i.has(e))return i.set(e,function(e){return{dragResults:Object(L.b)({},K),invalidate:e,last:{client:{x:0,y:0},offset:{x:0,y:0},page:{x:0,y:0},screen:{x:0,y:0}},start:{client:{x:0,y:0},offset:{x:0,y:0},page:{x:0,y:0},screen:{x:0,y:0}}}}(t)),function(e){e.style.touchAction="none",e.setAttribute("touch-action","none")}(e),K;const r=i.get(e),o=Object(V.a)({},r.dragResults);return r.start=r.last,r.dragResults.delta={x:0,y:0},delete r.dragResults.start,o}};var Y=class extends B.a{constructor(){super(...arguments),this._boundInvalidate=this.invalidate.bind(this)}get(e){const t=this.getNode(e);return t?J.get(t,this._boundInvalidate):K}},U=i(30),Z=i(29),q=i(64),Q=i(67);let ee=class extends(Object(a.d)(o.b)){constructor(){super(...arguments),this._sortRenderer=((e,t,i)=>{const{theme:r,classes:o}=this.properties;return Object(s.j)("button",{classes:this.theme(q.sort),onclick:i},[Object(s.k)(Z.a,{theme:r,classes:o,type:"asc"===t?"upIcon":"downIcon",altText:`Sort by ${this._getColumnTitle(e)}`})])}),this._filterRenderer=((e,t,i,r)=>{const{theme:o,classes:a}=this.properties;return Object(s.k)(U.a,{key:"filter",theme:o,classes:a,extraClasses:{root:q.filter},label:`Filter by ${r}`,labelHidden:!0,type:"search",value:t,onInput:i})})}_getColumnTitle(e){return"function"==typeof e.title?e.title():e.title}_sortColumn(e){const{sort:t,sorter:i}=this.properties;i(e,t?t.columnId!==e?"desc":"desc"===t.direction?"asc":"desc":"desc")}render(){const{columnConfig:e,sort:t,filterer:i,filter:r={},sortRenderer:o=this._sortRenderer,filterRenderer:a=this._filterRenderer,columnWidths:n,onColumnResize:d}=this.properties,c=n&&Object.keys(n).reduce((e,t)=>e+n[t],0);return Object(s.j)("div",{styles:c?{width:`${c}px`}:{},classes:[this.theme(q.root),Q.rootFixed],role:"row"},e.map((e,c)=>{const l=this._getColumnTitle(e);let h={};const g=t&&t.columnId===e.id,_=Boolean(t&&t.columnId===e.id&&"asc"===t.direction);e.sortable&&(h={classes:[Q.column,this.theme(q.sortable),g?this.theme(q.sorted):null,g&&!_?this.theme(q.desc):null,_?this.theme(q.asc):null],onclick:()=>{this._sortColumn(e.id)}});const p=g?_?"asc":"desc":void 0,u=Object.keys(r).indexOf(e.id)>-1?r[e.id]:"";if(e.resizable){const t=this.meta(Y).get(`${e.id}-resize`);t.isDragging&&0!==t.delta.x&&d&&d(c,t.delta.x)}return Object(s.j)("div",{"aria-sort":g?_?"ascending":"descending":null,classes:[this.theme(q.cell),Q.cellFixed],role:"columnheader",styles:n?{flex:`0 1 ${n[e.id]}px`}:{}},[Object(s.j)("div",h,[l,e.sortable?o(e,p,()=>{this._sortColumn(e.id)}):null]),e.filterable?a(e,u,t=>{i(e.id,t)},l):null,e.resizable&&Object(s.j)("span",{key:`${e.id}-resize`,classes:[Q.resize]})])}))}};var te=ee=r.__decorate([Object(a.f)(q)],ee),ie=i(70);let re=class extends(Object(a.d)(o.b)){render(){return Object(s.j)("div",{classes:this.theme(ie.root)},[Object(s.j)("div",{classes:this.theme(ie.loading)})])}};var oe=re=r.__decorate([Object(a.f)(ie)],re),se=i(26),ae=i(25),ne=i(111),de=i(73),ce=i(76);let le=class extends(Object(a.d)(Object(se.a)(o.b))){constructor(){super(...arguments),this._editing=!1,this._editingValue="",this._idBase=Object(L.c)(),this._onEdit=(()=>{const{editable:e}=this.properties;e&&(this._editing=!0,this._callFocus("input"),this._editingValue=this.properties.rawValue,this.invalidate())})}_callFocus(e){this._focusKey=e,this.focus()}_onBlur(){this._editing&&this._onSave()}_onInput(e){this._editingValue=e}_onKeyDown(e){e===ae.a.Enter?(this._onSave(),this._callFocus("button")):e===ae.a.Escape&&(this._editing=!1,this._callFocus("button"),this.invalidate())}_onSave(){this._editing=!1,this.properties.updater(this._editingValue),this.invalidate()}renderContent(){const{value:e}=this.properties;return Object(s.j)("div",{key:"content",id:this._idBase,ondblclick:this._onEdit},[e])}render(){let{editable:e,rawValue:t,theme:i,classes:r,width:o}=this.properties;return Object(s.j)("div",{role:"cell",styles:o?{flex:`0 1 ${o}px`}:{},classes:[this.theme(ce.root),de.rootFixed]},[this._editing?Object(s.k)(U.a,{key:"input",theme:i,classes:r,label:`Edit ${t}`,labelHidden:!0,extraClasses:{input:this.theme(ce.input)},focus:"input"===this._focusKey?this.shouldFocus:()=>!1,value:this._editingValue,onInput:this._onInput,onBlur:this._onBlur,onKeyDown:this._onKeyDown}):this.renderContent(),e&&!this._editing?Object(s.k)(ne.a,{key:"button",theme:i,classes:r,aria:{describedby:this._idBase},focus:"button"===this._focusKey?this.shouldFocus:()=>!1,type:"button",extraClasses:{root:this.theme(ce.edit)},onClick:this._onEdit},[Object(s.k)(Z.a,{type:"editIcon",altText:"Edit",classes:r,theme:i})]):null])}};var he=le=r.__decorate([Object(a.f)(ce)],le),ge=i(79),_e=i(82);let pe=class extends(Object(a.d)(o.b)){_onRowSelect(e){const{onRowSelect:t}=this.properties,i=e.ctrlKey||e.metaKey?"multi":"single";t&&t(i)}render(){const{item:e,columnConfig:t,id:i,theme:r,classes:o,columnWidths:a,onRowSelect:n,selected:d}=this.properties;let c=t.map(t=>{let n=`${e[t.id]}`;return t.renderer&&(n=t.renderer({value:n})),Object(s.k)(he,{theme:r,key:t.id,classes:o,updater:e=>{this.properties.updater(i,t.id,e)},value:n,editable:t.editable,rawValue:`${e[t.id]}`,width:a?a[t.id]:void 0})},[]);return Object(s.j)("div",{key:"root",classes:[this.theme(_e.root),d&&this.theme(_e.selected),ge.rootFixed],role:"row",onclick:n?this._onRowSelect:void 0,"aria-rowindex":`${i+1}`},c)}};var ue=pe=r.__decorate([Object(a.f)(_e)],pe),me=i(43),be=i(44);const fe=e=>Object(s.k)(oe,{key:e});let je=class extends(Object(a.d)(o.b)){constructor(){super(...arguments),this._start=0,this._end=100,this._resetScroll=!1}_updater(e,t,i){const r=Math.max(Math.ceil(e/this.properties.pageSize),1),o=e-(r-1)*this.properties.pageSize;this.properties.updater(r,o,t,i)}_onScroll(e){const{totalRows:t=0,onScroll:i}=this.properties,r=e.target.scrollTop,o=e.target.scrollLeft,s=Math.round(r/this._rowHeight),a=s+this._rowsInView;s<=this._start&&(this._start=Math.max(0,s-this._renderPageSize),this._end=Math.min(t,this._start+2*this._renderPageSize)),a>=this._end&&(this._start=Math.min(s,t-this._renderPageSize),this._end=Math.min(t,this._start+2*this._renderPageSize)),i&&i(o),this.invalidate()}_onDiffTotalRows(){this._start=0,this._end=100,this._resetScroll=!0}_renderRows(e,t){const{pageSize:i,fetcher:r,pages:o,columnConfig:a,placeholderRowRenderer:n=fe,pageChange:d,totalRows:c,theme:l,classes:h,columnWidths:g,onRowSelect:_,selectedRows:p=[]}=this.properties,u=Math.max(Math.ceil(e/i),1),m=Math.ceil(t/i);let b=o[`page-${u}`]||[];if(!b.length&&(void 0===c||c>0)&&r(u,i),u!==m){const t=o[`page-${m}`]||[];t.length||r(m,i),d(Math.max(Math.ceil((e+this._rowsInView/2)/i),1)),b=[...b,...t]}else d(u);const f=[];for(let r=e;r<t;r++){const e=b[r-(u*i-i)];e?f.push(Object(s.k)(ue,{id:r,key:r,theme:l,classes:h,item:e,columnConfig:a,updater:this._updater,columnWidths:g,onRowSelect:_?e=>{_&&_(r,e)}:void 0,selected:-1!==p.indexOf(r)})):(void 0===c||r>-1&&r<c)&&f.push(n(r))}return f}render(){const{placeholderRowRenderer:e=fe,totalRows:t=0,pageSize:i,height:r,width:a,columnWidths:n}=this.properties,d=n&&Object.keys(n).reduce((e,t)=>e+n[t],0);if(!this._rowHeight){const t=(e=>{const t=Object(s.b)(()=>Object(s.k)(class extends o.b{render(){return e}},{})),i=A.default.document.createElement("div");i.style.position="absolute",A.default.document.body.appendChild(i),t.mount({domNode:i,sync:!0});const r=i.getBoundingClientRect();return A.default.document.body.removeChild(i),r})(e(0));this._rowHeight=t.height,this._rowsInView=Math.ceil(r/this._rowHeight),this._renderPageSize=2*this._rowsInView}const c=this._renderRows(this._start,this._end),l=this._rowHeight*this._start;let h=0;t>=i&&(h=t*this._rowHeight-l-(this._end-this._start)*this._rowHeight);let g={key:"root",classes:[this.theme(be.root),me.rootFixed],role:"rowgroup",onscroll:this._onScroll,styles:a?{height:`${r}px`,width:`${a}px`}:{height:`${r}px`}};return this._resetScroll&&(this._resetScroll=!1,g=Object.assign({},g,{scrollTop:0})),Object(s.j)("div",g,[Object(s.j)("div",{styles:d?{width:`${d}px`}:{}},[Object(s.j)("div",{key:"top",styles:{height:`${l}px`}}),...c,Object(s.j)("div",{key:"bottom",styles:{height:`${h}px`}})])])}};r.__decorate([Object(n.b)("totalRows",d.a),r.__metadata("design:type",Function),r.__metadata("design:paramtypes",[]),r.__metadata("design:returntype",void 0)],je.prototype,"_onDiffTotalRows",null);var ye=je=r.__decorate([Object(a.f)(be),Object(n.b)("pages",d.b)],je),Oe=i(89);let we=class extends(Object(a.d)(o.b)){render(){const{total:e,page:t,pageSize:i}=this.properties,r=void 0!==e?`Page ${t} of ${Math.ceil(e/i)}. Total rows ${e}`:`Page ${t} of ?`;return Object(s.j)("div",{classes:this.theme(Oe.root)},[r])}};var ve=we=r.__decorate([Object(a.f)(Oe)],we),xe=i(92),ke=i(95);let Se=class extends(Object(a.c)(o.a)){_renderPageControl(e){const{onPageChange:t,page:i}=this.properties,r=e===i;return Object(s.j)("button",{key:r?"current":`${e}`,disabled:r,onclick:()=>{t(e)},"aria-current":r?"page":void 0,"aria-label":r?`Current Page, Page ${e}`:`Goto Page ${e}`,classes:[this.theme(ke.pageNumber),r&&this.theme(ke.active)]},[`${e}`])}_renderPaginationControls(e){const{page:t}=this.properties;return t<4?[this._renderPageControl(1),e>1&&this._renderPageControl(2),e>2&&this._renderPageControl(3),e>3&&this._renderPageControl(4),e>4&&this._renderPageControl(5),e>5&&Object(s.j)("span",{key:"more","aria-hidden":!0,classes:[this.theme(ke.more),xe.moreFixed]},["..."]),e>5&&this._renderPageControl(e)]:t>e-3?[this._renderPageControl(1),Object(s.j)("span",{key:"less","aria-hidden":!0,classes:[this.theme(ke.more),xe.moreFixed]},["..."]),this._renderPageControl(e-4),this._renderPageControl(e-3),this._renderPageControl(e-2),this._renderPageControl(e-1),this._renderPageControl(e)]:[this._renderPageControl(1),Object(s.j)("span",{key:"less","aria-hidden":!0,classes:[this.theme(ke.more),xe.moreFixed]},["..."]),this._renderPageControl(t-1),this._renderPageControl(t),this._renderPageControl(t+1),Object(s.j)("span",{key:"more","aria-hidden":!0,classes:[this.theme(ke.more),xe.moreFixed]},["..."]),this._renderPageControl(e)]}render(){const{onPageChange:e,page:t,total:i,pageSize:r}=this.properties;if(void 0===i)return null;const o=Math.ceil(i/r),a=1===t?"1":`${(t-1)*r+1}`,n=1===t?r:t*r,d=i?this._renderPaginationControls(o):[];return Object(s.j)("div",{classes:[this.theme(ke.root),xe.rootFixed]},[Object(s.j)("div",{classes:[xe.containerFixed,this.theme(ke.details),xe.detailsFixed]},[i?`${a} - ${i<n?i:n} of ${i} Results`:"0 Results"]),Object(s.j)("nav",{role:"navigation","aria-label":"Pagination Navigation",classes:[this.theme(ke.pagination)]},[Object(s.j)("ul",{classes:[xe.containerFixed,this.theme(ke.paginationList),xe.paginationListFixed]},[Object(s.j)("li",{classes:[xe.itemFixed,this.theme(ke.item)]},[o>1&&Object(s.j)("button",{key:"previous",disabled:1===t,onclick:()=>{e(t-1)},"aria-label":`Goto Page ${t-1}`,classes:[this.theme(ke.pageNav),xe.pageNavFixed]},["<"]),...d,o>1&&Object(s.j)("button",{key:"next",disabled:t===o,onclick:()=>{e(t+1)},"aria-label":`Goto Page ${t+1}`,classes:[this.theme(ke.pageNav),xe.pageNavFixed]},[">"])])])])])}};var Re=Se=r.__decorate([Object(a.f)(ke)],Se);const Ce=e=>Object(s.k)(oe,{key:e});let Pe=class extends(Object(a.d)(o.b)){_updater(e,t,i){const r=Math.max(Math.ceil(e/this.properties.pageSize),1),o=e-(r-1)*this.properties.pageSize;this.properties.updater(r,o,t,i)}_onScroll(e){const t=e.target.scrollLeft;this.properties.onScroll(t)}_renderRows(){const{pageSize:e,fetcher:t,pages:i,columnConfig:r,placeholderRowRenderer:o=Ce,pageNumber:a,theme:n,classes:d,columnWidths:c,onRowSelect:l,selectedRows:h=[]}=this.properties;let g=i[`page-${a}`];g||t(a,e);let _=[];const p=g?g.length:e;for(let e=0;e<p;e++)g?_.push(Object(s.k)(ue,{id:e,key:e,theme:n,classes:d,item:g[e],columnConfig:r,columnWidths:c,updater:this._updater,onRowSelect:l?t=>{l&&l(e,t)}:void 0,selected:-1!==h.indexOf(e)})):_.push(o(e));return _}render(){const{height:e,width:t,columnWidths:i}=this.properties,r=i&&Object.keys(i).reduce((e,t)=>e+i[t],0);return Object(s.j)("div",{key:"root",classes:[this.theme(be.root),me.rootFixed],role:"rowgroup",onscroll:this._onScroll,styles:t?{height:`${e}px`,width:`${t}px`}:{height:`${e}px`}},[Object(s.j)("div",{styles:r?{width:`${r}px`}:{}},[Object(s.j)("div"),...this._renderRows()])])}};var ze=Pe=r.__decorate([Object(a.f)(be),Object(n.b)("pages",d.b)],Pe),Fe=i(98),Ie=i(101);const $e={page:1,total:void 0,sort:void 0,filter:void 0,isSorting:!1,editedRow:void 0,selection:[]};let Me=class extends(Object(a.d)(o.b)){constructor(){super(),this._store=new c.a,this._scrollLeft=0,this._pageSize=100,this._gridWidth=0,this._handle=this._store.onChange(this._store.path("_grid"),this.invalidate.bind(this))}onStoreProperty(e,t){const{storeId:i="_grid"}=t;this._handle.remove(),this._store=t.store,this._handle=this._store.onChange(this._store.path(i),()=>{this.invalidate()})}_getProperties(){const{storeId:e="_grid"}=this.properties;return Object.assign({},this.properties,{storeId:e})}_getBodyDimensions(){const{height:e}=this.properties,t=this.meta(l.b).get("header"),i=this.meta(l.b).get("header-wrapper"),r=this.meta(l.b).get("footer");return{headerWidth:i.size.width,bodyHeight:e-t.size.height-r.size.height,bodyWidth:t.size.width}}_onColumnResize(e,t){const{columnConfig:i}=this.properties;if(!this._columnWidths)return;const r=this._columnWidths[i[e].id];r<=100&&t<0||(r+t<=100&&(t-=r+t-100),this._columnWidths=Object.assign({},this._columnWidths,{[i[e].id]:r+t}),this.invalidate())}_fetcher(e,t){const{storeId:i,fetcher:r}=this._getProperties();W(this._store)({id:i,fetcher:r,page:e,pageSize:t})}_sorter(e,t){const{storeId:i,fetcher:r,onRowSelect:o}=this._getProperties();if(o){(this._store.get(this._store.path(i,"meta","selection"))||[]).length&&o([])}N(this._store)({id:i,fetcher:r,columnId:e,direction:t})}_filterer(e,t){const{storeId:i,fetcher:r,onRowSelect:o}=this._getProperties();if(o){(this._store.get(this._store.path(i,"meta","selection"))||[]).length&&o([])}D(this._store)({id:i,fetcher:r,filterOptions:{columnId:e,value:t}})}_updater(e,t,i,r){const{storeId:o,updater:s}=this._getProperties();M(this._store)({id:o,page:e,columnId:i,rowNumber:t,value:r,updater:s})}_pageChange(e){const{storeId:t}=this._getProperties();E(this._store)({id:t,page:e})}_selection(e,t){const{storeId:i,onRowSelect:r}=this._getProperties();T(this._store)({id:i,index:e,type:t});const o=this._store.get(this._store.path(i,"meta","selection"))||[],s=[],a=this._store.get(this._store.path(i,"data","pages"));for(let e=0;e<o.length;e++){const t=o[e],i=Math.floor(t/this._pageSize)+1,r=t-(i-1)*this._pageSize;a[`page-${i}`]&&s.push(a[`page-${i}`][r])}r&&r(s)}_onScroll(e){this._scrollLeft=e,this.invalidate()}render(){const{columnConfig:e,storeId:t,theme:i,classes:r,pagination:o=!1,customRenderers:a={},onRowSelect:n}=this._getProperties(),{sortRenderer:d,filterRenderer:c}=a;if(!e||!this.properties.fetcher)return null;const l=this._store.get(this._store.path(t,"meta"))||$e,g=this._store.get(this._store.path(t,"data","pages"))||{},_=e.some(e=>!!e.filterable),p=e.some(e=>!!e.resizable),{bodyHeight:u,bodyWidth:m,headerWidth:b}=this._getBodyDimensions();if(this.meta(h.a).get("root"),m&&b&&p&&!this._columnWidths){const t=b/e.length;this._columnWidths=e.reduce((e,{id:i})=>(e[i]=Math.max(100,t),e),{}),this._gridWidth=Math.max(m,100*e.length)}return Object(s.j)("div",{key:"root",classes:[this.theme(Fe.root),Ie.rootFixed],role:"table","aria-rowcount":l.total?`${l.total}`:null},[Object(s.j)("div",{key:"header",scrollLeft:this._scrollLeft,styles:p&&this._gridWidth?{width:`${this._gridWidth}px`}:{},classes:[this.theme(Fe.header),Ie.headerFixed,_?this.theme(Fe.filterGroup):null],row:"rowgroup"},[Object(s.j)("div",{key:"header-wrapper"},[Object(s.k)(te,{key:"header-row",theme:i,columnWidths:this._columnWidths,classes:r,columnConfig:e,sorter:this._sorter,sort:l.sort,filter:l.filter,filterer:this._filterer,sortRenderer:d,filterRenderer:c,onColumnResize:this._onColumnResize})])]),o?Object(s.k)(ze,{key:"paginated-body",theme:i,classes:r,pages:g,columnWidths:this._columnWidths,pageNumber:l.page,pageSize:this._pageSize,onScroll:this._onScroll,columnConfig:e,fetcher:this._fetcher,updater:this._updater,height:u,width:p?this._gridWidth:void 0,onRowSelect:n?this._selection:void 0,selectedRows:l.selection}):Object(s.k)(ye,{key:"body",theme:i,classes:r,pages:g,columnWidths:this._columnWidths,totalRows:l.total,pageSize:this._pageSize,columnConfig:e,fetcher:this._fetcher,pageChange:this._pageChange,updater:this._updater,onScroll:this._onScroll,height:u,width:p?this._gridWidth:void 0,onRowSelect:n?this._selection:void 0,selectedRows:l.selection}),Object(s.j)("div",{key:"footer"},[o?Object(s.k)(Re,{theme:i,classes:r,total:l.total,page:l.page,pageSize:this._pageSize,onPageChange:e=>{this._pageChange(e)}}):Object(s.k)(ve,{key:"footer-row",theme:i,classes:r,total:l.total,page:l.page,pageSize:this._pageSize})])])}};r.__decorate([Object(n.a)("store",d.b),r.__metadata("design:type",Function),r.__metadata("design:paramtypes",[Object,Object]),r.__metadata("design:returntype",void 0)],Me.prototype,"onStoreProperty",null),Me=r.__decorate([Object(a.f)(Fe),r.__metadata("design:paramtypes",[])],Me);t.a=Me},27:function(e,t,i){"use strict";i.d(t,"a",function(){return o});var r=i(0);i(1);function o(e,t=!1,i=!1){return i?r.default[e].bind(r.default):r.default[e]}},294:function(e,t,i){"use strict";i.r(t);var r=i(18),o=i(19),s=i(104),a=i(42),n=i(45),d=i(37);class c extends o.b{constructor(){super(...arguments),this.url="/fuelinglog",this.Params={idvehicle:"0"},this.columnConfig=[{id:"date_reg",title:"Fecha",filterable:!0,sortable:!0,resizable:!0},{id:"odometer",title:"Odometer",filterable:!0,sortable:!0,resizable:!0},{id:"quantity",title:"Cantidad",filterable:!0,sortable:!0,resizable:!0},{id:"price_by_unit",title:"Precio x Unidad",filterable:!0,sortable:!0,resizable:!0},{id:"total",title:"Total",filterable:!0,sortable:!0,resizable:!0},{id:"address",title:"Dirección",sortable:!0,resizable:!0},{id:"note",title:"Notas",sortable:!0,resizable:!0}]}async onAttach(){setTimeout(()=>{this.columnConfig=[{id:"date_reg",title:"Fecha",filterable:!1,sortable:!0,resizable:!0},{id:"odometer",title:"Odometer",filterable:!1,sortable:!0,resizable:!0},{id:"quantity",title:"Cantidad",filterable:!1,sortable:!0,resizable:!0},{id:"total",title:"Total",filterable:!1,sortable:!0,resizable:!0},{id:"address",title:"Dirección",sortable:!1,resizable:!0}],this.invalidate()},1e4);var e=window.location.hash.split("?")[1],t=new URLSearchParams(e);this.Params.idvehicle=t.get("idvehicle")||"-2";const i=await fetch(this.url+"?idvehicle="+this.Params.idvehicle,{method:"GET",headers:{"Content-Type":"application/json"}});let r=await i.json();console.log(r),this._fetcher=Object(a.a)(r),this.invalidate()}render(){return Object(r.j)("div",{},[Object(r.k)(n.a,{heading:"ABASTECIMIENTOS",collapseWidth:150},[Object(r.k)(d.a,{label:"NUEVO",classes:["fas","fa-user-plus"],ShowLabel:!0,onClick:e=>{window.location.href="/#fueling?idfueling=0&rowkey=0"}})]),Object(r.j)("div",{},[this._fetcher?Object(r.k)(s.a,{columnConfig:this.columnConfig,fetcher:this._fetcher,height:400,onRowSelect:e=>{console.log(e,this._fetcher),window.location.href="/#fueling?idfueling="+e[0].idfueling+"&rowkey="+e[0].rowkey}}):null])])}}var l=i(33),h=i(46);const g=Object(r.a)();t.default=g(function({properties:e}){return Object(r.j)("div",{classes:[l.root]},[Object(r.k)(h.a,{}),Object(r.k)(c,{idvehicle:"0"})])})},42:function(e,t,i){"use strict";i.d(t,"a",function(){return o});var r=i(20);i(32);function o(e){return(t,i,o={})=>r.__awaiter(this,void 0,void 0,function*(){return function(e,t,i){return r.__awaiter(this,void 0,void 0,function*(){const r=[...e];return{data:[...r].splice((t-1)*i,i),meta:{total:r.length}}})}(function(e,{sort:t}){const i=[...e];return t&&i.sort((e,i)=>{const r="asc"===t.direction?i:e,o="asc"===t.direction?e:i;return r[t.columnId]<o[t.columnId]?1:r[t.columnId]>o[t.columnId]?-1:0}),i}(function(e,{filter:t}){return t?e.filter(e=>{let i=!0;return Object.keys(t).forEach(r=>{-1===e[r].toLowerCase().indexOf(t[r].toLowerCase())&&(i=!1)}),i}):[...e]}(e,o),o),t,i)})}},43:function(e,t,i){i(85),e.exports={" _key":"@dojo/widgets/body",rootFixed:"body-m__rootFixed__2K95C"}},44:function(e,t,i){i(87),e.exports={" _key":"@dojo/widgets/grid-body",root:"grid-body-m__root__1yYLp"}},64:function(e,t,i){i(65),e.exports={" _key":"@dojo/widgets/grid-header",root:"grid-header-m__root__10T4d",cell:"grid-header-m__cell__14Kc4",sortable:"grid-header-m__sortable__2yeMz",sorted:"grid-header-m__sorted__2yNUr",desc:"grid-header-m__desc__pLIpr",asc:"grid-header-m__asc__2gtzM",sort:"grid-header-m__sort__1e8Kx",filter:"grid-header-m__filter__f6CI9"}},65:function(e,t,i){},67:function(e,t,i){i(68),e.exports={" _key":"@dojo/widgets/header",rootFixed:"header-m__rootFixed__1gcHn",cellFixed:"header-m__cellFixed__1R9rb",column:"header-m__column__3Z_b8",resize:"header-m__resize__3cPDx"}},68:function(e,t,i){},70:function(e,t,i){i(71),e.exports={" _key":"@dojo/widgets/grid-placeholder-row",root:"grid-placeholder-row-m__root__1I0Qr grid-row-m__root__2PlMc",loading:"grid-placeholder-row-m__loading__1ASJP",spin:"grid-placeholder-row-m__spin__2NsZe"}},71:function(e,t,i){},73:function(e,t,i){i(74),e.exports={" _key":"@dojo/widgets/cell",rootFixed:"cell-m__rootFixed__1lXNB"}},74:function(e,t,i){},76:function(e,t,i){i(77),e.exports={" _key":"@dojo/widgets/grid-cell",root:"grid-cell-m__root__3icaN",input:"grid-cell-m__input__2J0_c",edit:"grid-cell-m__edit__xjg9f base-m__visuallyHidden__1AeWe base-m__focusable__1_qAN"}},77:function(e,t,i){},79:function(e,t,i){i(80),e.exports={" _key":"@dojo/widgets/row",rootFixed:"row-m__rootFixed__3ejCY"}},80:function(e,t,i){},82:function(e,t,i){i(83),e.exports={" _key":"@dojo/widgets/grid-row",root:"grid-row-m__root__2PlMc",selected:"grid-row-m__selected__Em4gT"}},83:function(e,t,i){},85:function(e,t,i){},87:function(e,t,i){},89:function(e,t,i){i(90),e.exports={" _key":"@dojo/widgets/grid-footer",root:"grid-footer-m__root__2hvVs"}},90:function(e,t,i){},92:function(e,t,i){i(93),e.exports={" _key":"@dojo/widgets/paginated-footer",rootFixed:"paginated-footer-m__rootFixed__54_sK",containerFixed:"paginated-footer-m__containerFixed__HzKF8",detailsFixed:"paginated-footer-m__detailsFixed__3gQUX",paginationListFixed:"paginated-footer-m__paginationListFixed__1JPbF",itemFixed:"paginated-footer-m__itemFixed__2W4-4",moreFixed:"paginated-footer-m__moreFixed__1VMXn",pageNavFixed:"paginated-footer-m__pageNavFixed__20MBZ"}},93:function(e,t,i){},95:function(e,t,i){i(96),e.exports={" _key":"@dojo/widgets/grid-paginated-footer",root:"grid-paginated-footer-m__root__2xW9j",pagination:"grid-paginated-footer-m__pagination__mMw0Z",details:"grid-paginated-footer-m__details__3OO9A",paginationList:"grid-paginated-footer-m__paginationList__1dOPM",item:"grid-paginated-footer-m__item__1_Tjb",more:"grid-paginated-footer-m__more__2TJ3y",pageNumber:"grid-paginated-footer-m__pageNumber__3aae7",pageNav:"grid-paginated-footer-m__pageNav__6zNer",active:"grid-paginated-footer-m__active__3zI7L"}},96:function(e,t,i){},98:function(e,t,i){i(99),e.exports={" _key":"@dojo/widgets/grid",root:"grid-m__root___v2E_",header:"grid-m__header__1tmI3",filterGroup:"grid-m__filterGroup__2dOAI"}},99:function(e,t,i){}}]);
//# sourceMappingURL=1.945f4b29b73a6a3aefc7.bundle.js.map