/*!
 * 
 * [Dojo](https://dojo.io/)
 * Copyright [JS Foundation](https://js.foundation/) & contributors
 * [New BSD license](https://github.com/dojo/meta/blob/master/LICENSE)
 * All rights reserved
 * 
 */
(window.dojoWebpackJsonpy_ar_og=window.dojoWebpackJsonpy_ar_og||[]).push([[9],{271:function(e,t,o){e.exports={" _key":"MyCarLog/Login",root:"Login-m__root__70800a3g-iL",body:"Login-m__body__70800a3dUV5",wrapper:"Login-m__wrapper__70800a3yXSz","form-success":"Login-m__form-success__70800a3a40u",container:"Login-m__container__70800a1Y8jw",form:"Login-m__form__70800a1Jg8Z",links_block:"Login-m__links_block__70800a1wBeE",bg_bubbles:"Login-m__bg_bubbles__70800a2PxJN",square:"Login-m__square__70800aqyEQk"}},286:function(e,t,o){"use strict";o.r(t);var a=o(39),r=o(18),n=o(19),s=o(271),i=o(50),c=o(36),l=o(35);let b=(()=>{class e extends n.b{constructor(){super(...arguments),this._openSnack=!1,this._MsgSnackBar="-"}SnackBar(e){console.log("SnackBar "+e),this._openSnack=!0,this._MsgSnackBar=e,this.invalidate(),setTimeout(()=>{this._openSnack=!1,this.invalidate()},4e3)}onAttach(){document.cookie="TOKEN_USER= ; expires = Thu, 01 Jan 1970 00:00:00 GMT",console.log("Borrar")}render(){return Object(r.j)("div",{classes:[s.root]},[Object(r.j)("div",{classes:[s.body]},[Object(r.j)("div",{classes:s.wrapper},[Object(r.j)("div",{classes:[s.container]},[Object(r.j)("h1",{},["Login"]),Object(r.j)("form",{classes:s.form,action:"/login",method:"post",onsubmit:e=>{if(e.target){let o=e.target.getElementsByTagName("input"),a=0;var t={};for(a=0;a<o.length;a++)Object.defineProperty(t,o[a].name,{value:o[a].value,enumerable:!0}),a+1==o.length&&(async()=>{let e=await fetch("/login",{method:"POST",body:JSON.stringify(t),headers:{"Content-Type":"application/json"}});var o=await e.json();if(console.log(o),200==e.status)if(o.login){const{path:e,apply:t}=window.GlobalStore;t([Object(l.a)(e("root","user","idaccount"),o.idaccount)],!0),t([Object(l.a)(e("root","user","iduser"),o.iduser)],!0),t([Object(l.a)(e("root","user","preferences"),o.preferences)],!0),t([Object(l.a)(e("root","user","username"),o.username)],!0),t([Object(l.a)(e("root","user","fullname"),o.fullname)],!0),t([Object(l.a)(e("root","user","rowkey"),o.rowkey)],!0),window.location.href="/#home"}else this.SnackBar(o.message);else this.SnackBar("Sucedió un inconveniente con el servidor")})()}e.preventDefault()}},[Object(r.j)("input",{name:"username",type:"text",placeholder:"Usuario",required:"required"},[]),Object(r.j)("input",{name:"pwd",type:"password",placeholder:"Contraseña",required:"required"},[]),Object(r.j)("input",{type:"submit",name:"submit",value:"Aceptar"}),Object(r.j)("div",{classes:s.links_block},[Object(r.j)("a",{href:"/#register"},["Registro"])])])]),Object(r.k)(i.a,{open:this._openSnack,leading:!1,type:"error",messageRenderer:()=>this._MsgSnackBar})])]),Object(r.j)("ul",{classes:s.bg_bubbles},[Object(r.j)("li"),Object(r.j)("li"),Object(r.j)("li"),Object(r.j)("li"),Object(r.j)("li"),Object(r.j)("li"),Object(r.j)("li"),Object(r.j)("li"),Object(r.j)("li"),Object(r.j)("li")])])}}return Object(a.a)([Object(c.a)()],e.prototype,"_openSnack",void 0),Object(a.a)([Object(c.a)()],e.prototype,"_MsgSnackBar",void 0),e})();t.default=b}}]);
//# sourceMappingURL=9.7cc05e1c5daa16c33809.bundle.js.map