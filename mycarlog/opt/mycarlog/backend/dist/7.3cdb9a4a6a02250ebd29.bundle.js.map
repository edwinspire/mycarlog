{"version":3,"sources":["webpack://pen_onitoring_ystem/./src/widgets/UserPreferences/UserPreferences.ts","webpack://pen_onitoring_ystem/./src/widgets/VehicleCard/VehicleCard.m.css","webpack://pen_onitoring_ystem/./node_modules/@dojo/widgets/theme/card.m.css.js","webpack://pen_onitoring_ystem/alwaysRender.ts","webpack://pen_onitoring_ystem/index.tsx","webpack://pen_onitoring_ystem/./src/widgets/modules/PathStore.ts","webpack://pen_onitoring_ystem/./src/widgets/VehicleCard/VehicleCard.ts","webpack://pen_onitoring_ystem/./src/widgets/VehicleCards/VehicleCards.ts"],"names":["UserPreferences","_dojo_framework_core_WidgetBase__WEBPACK_IMPORTED_MODULE_2__","[object Object]","super","this","_openSnack","_MsgSnackBar","SnackBarType","Object","_dojo_framework_core_decorators_diffProperty__WEBPACK_IMPORTED_MODULE_4__","_dojo_framework_core_diff__WEBPACK_IMPORTED_MODULE_3__","diffFooReaction","r","localuser","localStorage","getItem","json_localuser","JSON","parse","e","console","error","log","previousProperty","newProperty","getLocalUser","preference","name","default_idvehicle","value","preferences","pref","setItem","stringify","Save","openSnack","f","fetch","method","body","headers","Content-Type","data","json","iduser","rowkey","msg","type","setTimeout","_dojo_framework_core_vdom__WEBPACK_IMPORTED_MODULE_1__","_dojo_widgets_snackbar__WEBPACK_IMPORTED_MODULE_6__","open","leading","messageRenderer","tslib__WEBPACK_IMPORTED_MODULE_0__","_dojo_framework_core_decorators_watch__WEBPACK_IMPORTED_MODULE_5__","module","exports"," _key","container","column","row","label","title","image","__webpack_require__","root","actions","actionButtons","actionIcons","primaryAction","media","mediaContent","mediaSquare","media16by9","primary","secondary","alwaysRender","handleDecorator","target","propertyKey","beforeProperties","invalidate","card_Card","Themed","WidgetBase","actionsRenderer","properties","actionsResult","vdom","key","classes","theme","card_m_css","children","card","tslib","PathStore_PathStore","Evented","store","Store","paths","apply","forEach","path","operations","get","removeItem","clear","VehicleCard_VehicleCard","clase","Data","favorite","Date","now","window","onstorage","oldValue","newValue","ps","set","d","VehicleCard_m","onclick","color","Icon","license_plate","vin","ShowLabel","onClick","idvehicle","year","lfname","fueltype","tslib_es6","watch","__webpack_exports__","VehicleCards_SelectVehicle","Vehicles","TextSearch","GlobalStore","idaccount","res","Search","status","Array","isArray","element","index","push","fuel_tank_capacity","err","Menu","text_input","onChange","v","GetVehicles","then"],"mappings":";;;;;;;;oOAiBe,MAAMA,UAAwBC,EAAA,EAM5CC,cACCC,QALgBC,KAAAC,YAAa,EACbD,KAAAE,aAAe,GACxBF,KAAAG,aAA+C,QAItDC,OAAAC,EAAA,EAAAD,CAAa,aAAcE,EAAA,EAAMN,KAAKO,gBAAtCH,CAAuDJ,MAGxDF,eACC,IAAIU,EAAI,GACR,IACC,IAAIC,EAAYC,aAAaC,QAAQ,QACrC,GAAGF,EAAU,CACZ,IAAIG,EAAiBC,KAAKC,MAAML,GAC7BG,IACFJ,EAAII,IAGN,MAAMG,GACNC,QAAQC,MAAMF,GAGf,OADAC,QAAQE,IAAIV,GACLA,EAGRV,gBAAgBqB,EAAuBC,GACtCJ,QAAQE,IAAIE,GACZ,IACC,IAAIR,EAAiBZ,KAAKqB,eAC1B,OAAQD,EAAYE,WAAWC,MAC9B,IAAK,oBACLX,EAAeY,kBAAoBJ,EAAYE,WAAWG,MAC1D,MAEA,QACA,GAAGb,GAAkBA,EAAec,YAAY,CAC/C,IAAIC,EAAOf,EAAec,YAEvBC,EAAKP,EAAYE,WAAWC,OAASH,EAAYE,WAAWG,OAC9DE,EAAKP,EAAYE,WAAWC,MAAQH,EAAYE,WAAWG,MAC3Db,EAAec,YAAcC,EAC7BjB,aAAakB,QAAQ,OAAQf,KAAKgB,UAAUjB,IAC5CZ,KAAK8B,QAELd,QAAQE,IAAI,sCAGblB,KAAK+B,UAAU,kBAAkBX,EAAYE,WAAWC,KAAK,aAAc,UAI7E,MAAMR,GACNC,QAAQE,IAAIH,GACZf,KAAK+B,UAAUhB,EAAG,UAIpBjB,aACC,IAAIc,EAAiBZ,KAAKqB,eAC1B,GAAGT,EAAec,YAAY,CAC7B,IAAIM,QAAUC,MAAM,iBAAkB,CACrCC,OAAQ,OACRC,KAAMtB,KAAKgB,UAAUjB,GACrBwB,QAAS,CACRC,eAAgB,sBAGdC,QAAaN,EAAEO,OACnBvB,QAAQE,IAAIoB,GACTA,EAAKE,QAAUF,EAAKG,SACtB7B,EAAe6B,OAASH,EAAKG,OAC7B/B,aAAakB,QAAQ,OAAQf,KAAKgB,UAAUjB,MAK/Cd,UAAU4C,EAAaC,GACtB3C,KAAKC,YAAa,EAClBD,KAAKE,aAAewC,EACpB1C,KAAKG,aAAewC,EACpBC,WAAW,KACV5C,KAAKC,YAAa,GAChB,KAGMH,SACT,OAAOM,OAAAyC,EAAA,EAAAzC,CAAE0C,EAAA,EAAM,CAACC,KAAM/C,KAAKC,WAAY+C,SAAS,EAAOL,KAAM3C,KAAKG,aAAc8C,gBAAiB,IAAMjD,KAAKE,gBAvFpGE,OAAA8C,EAAA,EAAA9C,CAAA,CAARA,OAAA+C,EAAA,EAAA/C,qCACQA,OAAA8C,EAAA,EAAA9C,CAAA,CAARA,OAAA+C,EAAA,EAAA/C,4DCnBFgD,EAAAC,QAAA,CAAkBC,QAAA,mCAAAC,UAAA,wCAAAC,OAAA,qCAAAC,IAAA,kCAAAC,MAAA,oCAAAC,MAAA,oCAAAC,MAAA,0DCDlBC,EAAQ,KACRT,EAAAC,QAAA,CAAkBC,QAAA,qBAAAQ,KAAA,sBAAAC,QAAA,yBAAAC,cAAA,+BAAAC,YAAA,6BAAAC,cAAA,+BAAAC,MAAA,uBAAAC,aAAA,8BAAAC,YAAA,6BAAAC,WAAA,4BAAAC,QAAA,yBAAAC,UAAA,yKCGX,SAASC,IACf,OAAOrE,OAAAsE,EAAA,EAAAtE,CAAgB,CAACuE,EAAQC,KAC/BxE,OAAAyE,EAAA,EAAAzE,CAAiB,WAChBJ,KAAK8E,cADN1E,CAEGuE,KAIU,qBCEf,IAAaI,EAAb,cAA0B3E,OAAA4E,EAAA,EAAA5E,CAAY6E,EAAA,IAC3BnF,SACT,MAAMoF,gBAAEA,GAAoBlF,KAAKmF,WAC3BC,EAAgBF,GAAmBA,IACzC,OACC9E,OAAAiF,EAAA,EADM,CACN,OAAKC,IAAI,OAAOC,QAASvF,KAAKwF,MAAMC,EAAA,OAClCzF,KAAK0F,SACLN,GAAiBhF,OAAAiF,EAAA,EAAAjF,CAAA,OAAKmF,QAASvF,KAAKwF,MAAMC,EAAA,UAAeL,MAM/C,IAAAO,EAbFZ,EAAIa,EAAA,YAFhBxF,OAAA4E,EAAA,EAAA5E,CAAMqF,GACNhB,KACYM,oDCAE,MAAMc,UAAkBC,EAAA,EAIrChG,cACEC,QAJMC,KAAA+F,MAAQ,IAAIC,EAAA,EACZhG,KAAAiG,MAAe,GASvBnG,IAAIyB,EAAcE,GAChB,MAAMyE,MAAEA,GAAUlG,KAAK+F,MACvB/F,KAAKiG,MAAME,QAASC,IACfA,EAAKA,MAAQ7E,GACd2E,EAAM,CAAC9F,OAAAiG,EAAA,EAAAjG,CAAIgG,EAAM3E,KAAS,KAMhC3B,OACEY,aAAakB,QAAQ,WAAYf,KAAKgB,UAAU7B,KAAKsG,IAAI,UAG3DxG,IAAIsG,IAIJtG,OAAOsG,GACL1F,aAAa6F,WAAWH,GAG1BtG,MAAMsG,GACJ1F,aAAa8F,SCjBF,MAAMC,UAAoBxB,EAAA,EAAzCnF,kCACEE,KAAA0G,MAAQ,cACS1G,KAAA2G,KAA8B3G,KAAKmF,WAC5CnF,KAAA4G,SAAsC,CAC5CtF,WAAY,CAAEC,KAAM,OAAQE,MAAOoF,KAAKC,MAG1ChH,WACEE,KAAK2G,KAAO3G,KAAKmF,WAGjB4B,OAAOC,UAAY,CAACjG,IAClBC,QAAQE,IAAI,OAASH,EAAEuE,IACrB,8BAAgCvE,EAAEkG,SAClC,OAASlG,EAAEmG,SAAW,IAAKnG,GAC3Bf,KAAK2G,KAAKpF,KAAOR,EAAEmG,SACnBlH,KAAK8E,eAIT,IAAIqC,EAAK,IAAItB,EACbsB,EAAGC,IAAI,WAAY,OACnBD,EAAGC,IAAI,cAAe,CAACC,EAAK,KAE5BrG,QAAQE,IAAIlB,KAAK2G,KAAM3G,KAAKmF,YAE5BgC,EAAGC,IAAI,WAAY,UACnBD,EAAGC,IAAI,YAAa,YAEpBpH,KAAK8E,aAGGhF,SACR,OAAOM,OAAAiF,EAAA,EAAAjF,CAAE,MAAO,CAAEmF,QAAS+B,EAAA,WAAiB,CAC1ClH,OAAAiF,EAAA,EAAAjF,CAAE,MAAO,CAAEmF,QAAS,CAAC+B,EAAA,SAAe,CAClClH,OAAAiF,EAAA,EAAAjF,CACE,MACA,CACEmH,QAAUxG,IACRC,QAAQE,IAAIH,GACZf,KAAK2G,KAAKa,MAAQ,SAClBxH,KAAK8E,eAGT,CACE1E,OAAAiF,EAAA,EAAAjF,CAAEuF,EAAM,GAAI,CACVvF,OAAAiF,EAAA,EAAAjF,CAAEqH,EAAA,EAAM,CACN/D,MACE1D,KAAK2G,KAAKpF,MACVvB,KAAK2G,KAAKe,cAAgB,MAAQ1H,KAAK2G,KAAKgB,IAC9CpC,QAAS,CAACvF,KAAK0G,MAAO,MAAOY,EAAA,OAC7BM,WAAW,EACXC,QAAS,KAEP7H,KAAK0G,MAAQ,UACb1F,QAAQE,IAAI,mBAAoBlB,KAAK2G,MACrC3G,KAAK4G,SAAStF,WAAa,CACzBC,KAAM,wBACNE,MAAOzB,KAAK2G,KAAKmB,WAEnB9H,KAAK8E,gBAGT1E,OAAAiF,EAAA,EAAAjF,CAAE,MAAO,GAAI,CAEXA,OAAAiF,EAAA,EAAAjF,CAAE,MAAO,CAAEmF,QAAS,CAAC+B,EAAA,QAAc,IACnClH,OAAAiF,EAAA,EAAAjF,CAAE,MAAO,GAAI,CACXA,OAAAiF,EAAA,EAAAjF,CAAE,MAAO,GAAI,CACXA,OAAAiF,EAAA,EAAAjF,CAAE,MAAO,GAAI,CACXA,OAAAiF,EAAA,EAAAjF,CAAE,OAAQ,CAAEmF,QAAS,CAAC+B,EAAA,QAAc,CAAC,UACrClH,OAAAiF,EAAA,EAAAjF,CAAE,OAAQ,GAAI,CAACJ,KAAK2G,KAAKgB,QAE3BvH,OAAAiF,EAAA,EAAAjF,CAAE,MAAO,GAAI,CACXA,OAAAiF,EAAA,EAAAjF,CAAE,OAAQ,CAAEmF,QAAS,CAAC+B,EAAA,QAAc,CAAC,UACrClH,OAAAiF,EAAA,EAAAjF,CAAE,OAAQ,GAAI,CAACJ,KAAK2G,KAAKoB,SAE3B3H,OAAAiF,EAAA,EAAAjF,CAAE,MAAO,GAAI,CACXA,OAAAiF,EAAA,EAAAjF,CAAE,OAAQ,CAAEmF,QAAS,CAAC+B,EAAA,QAAc,CAAC,kBACrClH,OAAAiF,EAAA,EAAAjF,CAAE,OAAQ,GAAI,CAACJ,KAAK2G,KAAKqB,WAE3B5H,OAAAiF,EAAA,EAAAjF,CAAE,MAAO,GAAI,CACXA,OAAAiF,EAAA,EAAAjF,CAAE,OAAQ,CAAEmF,QAAS,CAAC+B,EAAA,QAAc,CAClC,uBAEFlH,OAAAiF,EAAA,EAAAjF,CAAE,OAAQ,GAAI,CAACJ,KAAK2G,KAAKsB,aAE3B7H,OAAAiF,EAAA,EAAAjF,CAAE,MAAO,GAAI,CACXA,OAAAiF,EAAA,EAAAjF,CAAE,OAAQ,GAAI,CAAC,YACfA,OAAAiF,EAAA,EAAAjF,CAAE,OAAQ,GAAI,CAACJ,KAAK2G,KAAKa,cAI/BpH,OAAAiF,EAAA,EAAAjF,CACE,MACA,CACEmH,QAAS,KACPvH,KAAK2G,KAAKa,MAAQ,QAClBxG,QAAQE,IAAI,YACZlB,KAAK8E,eAGT,CAAC,UAAW1E,OAAAiF,EAAA,EAAAjF,CAAER,EAAA,EAAiBI,KAAK4G,uBAnG3CxG,OAAA8H,EAAA,EAAA9H,CAAA,CAARA,OAAA+H,EAAA,EAAA/H,+BCjCHyD,EAAAwD,EAAAe,EAAA,4BAAAC,IAQe,MAAMA,UAAsBpD,EAAA,EAA3CnF,kCACUE,KAAAsI,SAAW,GAEXtI,KAAAuI,WAAqB,GAE7BzI,oBACE,MAAMsG,KAAEA,GAASW,OAAOyB,YAIxB,IAAIC,EAAY1B,OAAOyB,YAAYlC,IAAIF,EAAK,OAAQ,OAAQ,cAc5D,IACE,MAAMsC,QAAYzG,MAAM,YAAa,CACnCC,OAAQ,OACRC,KAAMtB,KAAKgB,UAAU,CACnB4G,UAAWA,EACXE,OAAQ3I,KAAKuI,aAEfnG,QAAS,CACPC,eAAgB,sBAIpB,GAAkB,KAAdqG,EAAIE,OAAe,CACrB5I,KAAKsI,SAAW,GAChB,IAAIhG,QAAaoG,EAAInG,OAErBvB,QAAQE,IAAIoB,GACRuG,MAAMC,QAAQxG,IAChBA,EAAK6D,QAAQ,CAAC4C,EAAcC,KAC1BhI,QAAQE,IAAI6H,EAAQrB,eACpB1H,KAAKsI,SAASW,KACZ7I,OAAAiF,EAAA,EAAAjF,CAAEqG,EAAa,CACbqB,UAAWiB,EAAQjB,UACnBvG,KAAMwH,EAAQxH,KACdiG,MAAOuB,EAAQvB,MACfQ,OAAQe,EAAQf,OAChBC,SAAUc,EAAQd,SAClBP,cAAeqB,EAAQrB,cACvBC,IAAKoB,EAAQpB,IACbI,KAAMgB,EAAQhB,KACdmB,mBAAoBH,EAAQG,sBAGhClJ,KAAK8E,eAIT9E,KAAK8E,cAEP,MAAOqE,GACPnI,QAAQE,IAAIiI,IAINrJ,SACR,OAAOM,OAAAiF,EAAA,EAAAjF,CAAE,MAAO,GAAI,CAClBA,OAAAiF,EAAA,EAAAjF,CAAEgJ,EAAA,EAAM,IACRhJ,OAAAiF,EAAA,EAAAjF,CACEiJ,EAAA,EACA,CACE3F,MAAO,SACPjC,MAAOzB,KAAKuI,WACZe,SAAWC,IACTvI,QAAQE,IAAIL,KAAKgB,UAAU0H,IAC3BvJ,KAAKuI,WAAagB,EAClBvJ,KAAKsI,SAASW,KAAK,gBACnBjJ,KAAK8E,aACL9E,KAAKwJ,cAAcC,KAAK,KACtBzI,QAAQE,IAAI,iDACZlB,KAAK8E,iBAIX,IAEF1E,OAAAiF,EAAA,EAAAjF,CAAE,MAAO,GAAIJ,KAAKsI","file":"7.3cdb9a4a6a02250ebd29.bundle.js","sourcesContent":["import { w } from '@dojo/framework/core/vdom';\nimport WidgetBase from '@dojo/framework/core/WidgetBase';\nimport {auto} from '@dojo/framework/core/diff';\nimport {diffProperty} from '@dojo/framework/core/decorators/diffProperty';\nimport watch from '@dojo/framework/core/decorators/watch';\nimport SBar from '@dojo/widgets/snackbar';\n\nexport interface UserPreferencesPropertiesValue{\n\tname: string;\n\tvalue: any;\n}\n\nexport interface UserPreferencesProperties {\n\tpreference: UserPreferencesPropertiesValue;\n\tonchanged?(value: any): void;\n}\n\nexport default class UserPreferences extends WidgetBase<UserPreferencesProperties> {\n\n\t@watch() private _openSnack = false;\n\t@watch() private _MsgSnackBar = '';\n\tprivate SnackBarType:\"success\" | \"error\" | undefined = 'error';\n\n\tconstructor() {\n\t\tsuper();\n\t\tdiffProperty('preference', auto, this.diffFooReaction)(this);\n\t}\n\n\tgetLocalUser(){\n\t\tvar r = {} as any;\n\t\ttry{\n\t\t\tlet localuser = localStorage.getItem('user');\n\t\t\tif(localuser){\n\t\t\t\tlet json_localuser = JSON.parse(localuser);\n\t\t\t\tif(json_localuser){\n\t\t\t\t\tr = json_localuser;\n\t\t\t\t}\n\t\t\t}\n\t\t}catch(e){\n\t\t\tconsole.error(e);\n\t\t}\n\t\tconsole.log(r);\n\t\treturn r;\n\t}\n\n\tdiffFooReaction(previousProperty: any, newProperty: any) {\n\t\tconsole.log(newProperty);\n\t\ttry{\n\t\t\tlet json_localuser = this.getLocalUser();\n\t\t\tswitch (newProperty.preference.name) {\n\t\t\t\tcase \"default_idvehicle\":\n\t\t\t\tjson_localuser.default_idvehicle = newProperty.preference.value;\n\t\t\t\tbreak;\n\n\t\t\t\tdefault:\n\t\t\t\tif(json_localuser && json_localuser.preferences){\n\t\t\t\t\tlet pref = json_localuser.preferences;\n\t\t\t\t\t//console.log(pref, pref[newProperty.preference.name], newProperty.preference.value);\n\t\t\t\t\tif(pref[newProperty.preference.name] != newProperty.preference.value){\n\t\t\t\t\t\tpref[newProperty.preference.name] = newProperty.preference.value;\n\t\t\t\t\t\tjson_localuser.preferences = pref;\n\t\t\t\t\t\tlocalStorage.setItem('user', JSON.stringify(json_localuser));\n\t\t\t\t\t\tthis.Save();\n\t\t\t\t\t}else{\n\t\t\t\t\t\tconsole.log('No ha cambiado la preferencia')\n\t\t\t\t\t}\n\t\t\t\t}else{\n\t\t\t\t\tthis.openSnack('La preferencia '+newProperty.preference.name+' no existe', 'error')\t\t\t\n\t\t\t\t}\n\t\t\t\tbreak;\n\t\t\t}\n\t\t}catch(e){\n\t\t\tconsole.log(e);\n\t\t\tthis.openSnack(e, 'error')\t\t\t\n\t\t}\n\t}\n\n\tasync Save(){\n\t\tvar json_localuser = this.getLocalUser();\n\t\tif(json_localuser.preferences){\n\t\t\tlet f = await fetch('/preferences_u', {\n\t\t\t\tmethod: 'POST',\n\t\t\t\tbody: JSON.stringify(json_localuser),\n\t\t\t\theaders: {\n\t\t\t\t\t'Content-Type': 'application/json'\n\t\t\t\t}\n\t\t\t});\n\t\t\tlet data = await f.json();\n\t\t\tconsole.log(data);\n\t\t\tif(data.iduser && data.rowkey){\n\t\t\t\tjson_localuser.rowkey = data.rowkey;\n\t\t\t\tlocalStorage.setItem('user', JSON.stringify(json_localuser));\n\t\t\t}\n\t\t}\n\t}\n\n\topenSnack(msg: string, type: \"success\" | \"error\" | undefined){\n\t\tthis._openSnack = true;\n\t\tthis._MsgSnackBar = msg;\n\t\tthis.SnackBarType = type;\n\t\tsetTimeout(()=>{\n\t\t\tthis._openSnack = false;\n\t\t}, 4000)\n\t}\n\n\tprotected render(){\n\t\treturn w(SBar, {open: this._openSnack, leading: false, type: this.SnackBarType, messageRenderer: () => this._MsgSnackBar});\n\t}\n}","// extracted by mini-css-extract-plugin\nmodule.exports = {\" _key\":\"OpenMonitoringSystem/VehicleCard\",\"container\":\"VehicleCard-m__container__309e8d3ggyL\",\"column\":\"VehicleCard-m__column__309e8d2hzND\",\"row\":\"VehicleCard-m__row__309e8d1cZVt\",\"label\":\"VehicleCard-m__label__309e8d3hpgA\",\"title\":\"VehicleCard-m__title__309e8d1zTDQ\",\"image\":\"VehicleCard-m__image__309e8d1mXtV\"};","require('B:/Documentos/Desarrollo/mycarlog/mycarlog/opt/mycarlog/frontend/node_modules/@dojo/widgets/theme/card.m.css');\nmodule.exports = {\" _key\":\"@dojo/widgets/card\",\"root\":\"card-m__root__1zMtM\",\"actions\":\"card-m__actions__1Z_Hb\",\"actionButtons\":\"card-m__actionButtons__2SSbU\",\"actionIcons\":\"card-m__actionIcons__3aObP\",\"primaryAction\":\"card-m__primaryAction__1zj-J\",\"media\":\"card-m__media__2jfnD\",\"mediaContent\":\"card-m__mediaContent__2DMyX\",\"mediaSquare\":\"card-m__mediaSquare__fDbOX\",\"media16by9\":\"card-m__media16by9__3qldC\",\"primary\":\"card-m__primary__r84rj\",\"secondary\":\"card-m__secondary__2FZlH\"};;","import { WidgetBase } from './../WidgetBase';\nimport { handleDecorator } from './handleDecorator';\nimport { beforeProperties } from './beforeProperties';\n\nexport function alwaysRender() {\n\treturn handleDecorator((target, propertyKey) => {\n\t\tbeforeProperties(function(this: WidgetBase) {\n\t\t\tthis.invalidate();\n\t\t})(target);\n\t});\n}\n\nexport default alwaysRender;\n","import { WidgetBase } from '@dojo/framework/core/WidgetBase';\nimport { tsx } from '@dojo/framework/core/vdom';\nimport { RenderResult } from '@dojo/framework/core/interfaces';\nimport { alwaysRender } from '@dojo/framework/core/decorators/alwaysRender';\nimport { ThemedMixin, theme } from '@dojo/framework/core/mixins/Themed';\nimport * as css from '../theme/card.m.css';\nimport { DNode } from '@dojo/framework/core/interfaces';\n\nexport interface CardProperties {\n\tactionsRenderer?(): RenderResult;\n}\n\n@theme(css)\n@alwaysRender()\nexport class Card extends ThemedMixin(WidgetBase)<CardProperties> {\n\tprotected render(): DNode {\n\t\tconst { actionsRenderer } = this.properties;\n\t\tconst actionsResult = actionsRenderer && actionsRenderer();\n\t\treturn (\n\t\t\t<div key=\"root\" classes={this.theme(css.root)}>\n\t\t\t\t{this.children}\n\t\t\t\t{actionsResult && <div classes={this.theme(css.actions)}>{actionsResult}</div>}\n\t\t\t</div>\n\t\t);\n\t}\n}\n\nexport default Card;\n","import Evented from \"@dojo/framework/core/Evented\";\nimport { Store } from \"@dojo/framework/stores/Store\";\nimport { add } from \"@dojo/framework/stores/state/operations\";\n\nexport interface State {\n  auth: {\n    token: string;\n  };\n  users: {\n    current: string;\n    list: string[];\n  };\n}\n\nexport default class PathStore extends Evented {\n  private store = new Store<State>();\n  private paths: any[] = [];\n\n  constructor() {\n    super();\n\n\n  }\n\n\n  set(name: string, value: any) {\n    const { apply } = this.store;\n    this.paths.forEach((path) => {\n      if(path.path == name){\n        apply([add(path, value)], true);        \n      }\n    });\n  }\n\n\n  save() {\n    localStorage.setItem(\"mycarlog\", JSON.stringify(this.get(\"root\")));\n  }\n\n  get(path: string) {\n    //    return this.store.get(this.store.path(path));\n  }\n\n  remove(path: string) {\n    localStorage.removeItem(path);\n  }\n\n  clear(path: string) {\n    localStorage.clear();\n  }\n}\n","import { v, w } from \"@dojo/framework/core/vdom\";\nimport WidgetBase from \"@dojo/framework/core/WidgetBase\";\nimport * as css from \"./VehicleCard.m.css\";\nimport Card from \"@dojo/widgets/card\";\nimport Icon from \".././Icon/Icon\";\nimport UserPreferences, {\n  UserPreferencesProperties,\n} from \".././UserPreferences/UserPreferences\";\nimport watch from \"@dojo/framework/core/decorators/watch\";\nimport PStore from \".././modules/PathStore\";\n\n\nexport interface VehicleCardProperties {\n  idvehicle: string;\n  idaccount?: string;\n  account?: string;\n  idcontact?: string;\n  license_plate: string;\n  year: string;\n  fuel_tank_capacity: string;\n  vin: string;\n  name: string;\n  idvehicletype?: string;\n  mark?: string;\n  model?: string;\n  color: string;\n  fueltype: string;\n  unit_measure_fuel_tank?: string;\n  lfname: string;\n}\n\nexport default class VehicleCard extends WidgetBase<VehicleCardProperties> {\n  clase = \"fa-car-side\";\n  @watch() private Data: VehicleCardProperties = this.properties;\n  private favorite: UserPreferencesProperties = {\n    preference: { name: \"Date\", value: Date.now },\n  };\n\n  onAttach() {\n    this.Data = this.properties;\n\n\n    window.onstorage = (e: any)=> {\n      console.log('The ' + e.key +\n        ' key has been changed from ' + e.oldValue +\n        ' to ' + e.newValue + '.', e);\n        this.Data.name = e.newValue;\n        this.invalidate();\n    };\n\n\n    let ps = new PStore();\n    ps.set('aaaa.llo', 'add');\n    ps.set('aaaa.llo.we', {\"d\": 10});\n    \n    console.log(this.Data, this.properties);\n\n    ps.set('aaaa.llo', 'Prueba');\n    ps.set('aaaa.lloa', 'TTY&/add');\n\n    this.invalidate();\n  }\n\n  protected render() {\n    return v(\"div\", { classes: css.container }, [\n      v(\"div\", { classes: [css.column] }, [\n        v(\n          \"div\",\n          {\n            onclick: (e) => {\n              console.log(e);\n              this.Data.color = \"prueba\";\n              this.invalidate();\n            },\n          },\n          [\n            w(Card, {}, [\n              w(Icon, {\n                label:\n                  this.Data.name ||\n                  this.Data.license_plate + \" - \" + this.Data.vin,\n                classes: [this.clase, \"far\", css.title],\n                ShowLabel: true,\n                onClick: () => {\n                  //window.location.href = \"/#contacts\";\n                  this.clase = \"fa-star\";\n                  console.log(\"Se ha presionado\", this.Data);\n                  this.favorite.preference = {\n                    name: \"last_vehicle_selected\",\n                    value: this.Data.idvehicle,\n                  };\n                  this.invalidate();\n                },\n              }),\n              v(\"div\", {}, [\n                // v(\"div\", {}, [this.properties.license_plate]),\n                v(\"img\", { classes: [css.image] }, []),\n                v(\"div\", {}, [\n                  v(\"div\", {}, [\n                    v(\"div\", {}, [\n                      v(\"span\", { classes: [css.label] }, [\"VIN: \"]),\n                      v(\"span\", {}, [this.Data.vin]),\n                    ]),\n                    v(\"div\", {}, [\n                      v(\"span\", { classes: [css.label] }, [\"Año: \"]),\n                      v(\"span\", {}, [this.Data.year]),\n                    ]),\n                    v(\"div\", {}, [\n                      v(\"span\", { classes: [css.label] }, [\"Propietario: \"]),\n                      v(\"span\", {}, [this.Data.lfname]),\n                    ]),\n                    v(\"div\", {}, [\n                      v(\"span\", { classes: [css.label] }, [\n                        \"Tipo combustible: \",\n                      ]),\n                      v(\"span\", {}, [this.Data.fueltype]),\n                    ]),\n                    v(\"div\", {}, [\n                      v(\"span\", {}, [\"Color: \"]),\n                      v(\"span\", {}, [this.Data.color]),\n                    ]),\n                  ]),\n                ]),\n                v(\n                  \"div\",\n                  {\n                    onclick: () => {\n                      this.Data.color = \"Verde\";\n                      console.log(\"Invalida\");\n                      this.invalidate();\n                    },\n                  },\n                  [\"Piecito\", w(UserPreferences, this.favorite)]\n                ),\n              ]),\n            ]),\n          ]\n        ),\n      ]),\n    ]);\n  }\n}\n","import { v, w } from \"@dojo/framework/core/vdom\";\nimport WidgetBase from \"@dojo/framework/core/WidgetBase\";\nimport TextInput from \"@dojo/widgets/text-input\";\n//import watch from \"@dojo/framework/core/decorators/watch\";\nimport Menu from \".././Menu\";\nimport CardVehicle from \".././VehicleCard/VehicleCard\";\n//import { add } from \"@dojo/framework/stores/state/operations\";\n\nexport default class SelectVehicle extends WidgetBase {\n  private Vehicles = [] as any[];\n\n  private TextSearch: string = \"\";\n\n  async GetVehicles() {\n    const { path } = window.GlobalStore;\n    //apply([add(path(\"root\", \"user\", \"token\"), \"sdsdasdassdasdasdad\")], true);\n\n  //  console.log(window.GlobalStore.get(path(\"root\", \"user\", \"token\")));\n    let idaccount = window.GlobalStore.get(path(\"root\", \"user\", \"idaccount\"));\n\n    // this.Vehicles.push(w(CardVehicle, {\n    //   idvehicle: \"\",\n    //   name: \"name\",\n    //   color: \"color\",\n    //   lfname: \"element.lfname\",\n    //   fueltype: \"element.fueltype\",\n    //   license_plate: \"element.license_plate\",\n    //   vin: \"element.vin\",\n    //   year: \"element.year\",\n    //   fuel_tank_capacity: \"element.fuel_tank_capacity\",\n    // }));\n\n    try {\n      const res = await fetch(\"/vehicles\", {\n        method: \"POST\",\n        body: JSON.stringify({\n          idaccount: idaccount,\n          Search: this.TextSearch,\n        }),\n        headers: {\n          \"Content-Type\": \"application/json\",\n        },\n      });\n\n      if (res.status == 200) {\n        this.Vehicles = [];\n        let data = await res.json();\n        //\t\tthis._fetcher = createFetcher(data);\n        console.log(data);\n        if (Array.isArray(data)) {\n          data.forEach((element: any, index) => {\n            console.log(element.license_plate);\n            this.Vehicles.push(\n              w(CardVehicle, {\n                idvehicle: element.idvehicle,\n                name: element.name,\n                color: element.color,\n                lfname: element.lfname,\n                fueltype: element.fueltype,\n                license_plate: element.license_plate,\n                vin: element.vin,\n                year: element.year,\n                fuel_tank_capacity: element.fuel_tank_capacity,\n              })\n            );\n            this.invalidate();\n          });\n        }\n\n        this.invalidate();\n      }\n    } catch (err) {\n      console.log(err);\n    }\n  }\n\n  protected render() {\n    return v(\"div\", {}, [\n      w(Menu, {}),\n      w(\n        TextInput,\n        {\n          label: \"Buscar\",\n          value: this.TextSearch,\n          onChange: (v) => {\n            console.log(JSON.stringify(v));\n            this.TextSearch = v as string;\n            this.Vehicles.push(\"Pude cambiar\");\n            this.invalidate();\n            this.GetVehicles().then(() => {\n              console.log(\"invalida al terminar de obtener los vehiculos\");\n              this.invalidate();\n            });\n          },\n        },\n        []\n      ),\n      v(\"div\", {}, this.Vehicles),\n    ]);\n  }\n}\n"],"sourceRoot":""}