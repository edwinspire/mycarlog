{"version":3,"sources":["webpack://lib_mycarlog3/./node_modules/tslib/tslib.js","webpack://lib_mycarlog3/wrapper.ts","webpack://lib_mycarlog3/./node_modules/globalize/dist/globalize/message.js","webpack://lib_mycarlog3/./node_modules/cldrjs/dist/cldr/event.js","webpack://lib_mycarlog3/./node_modules/cldrjs/dist/cldr/supplemental.js","webpack://lib_mycarlog3/./node_modules/cldrjs/dist/cldr/unresolved.js","webpack://lib_mycarlog3/./node_modules/globalize/dist/globalize.js","webpack://lib_mycarlog3/diffProperty.ts","webpack://lib_mycarlog3/./node_modules/@dojo/widgets/theme/default/grid.m.css.js","webpack://lib_mycarlog3/./node_modules/@dojo/widgets/theme/default/grid-placeholder-row.m.css.js","webpack://lib_mycarlog3/./node_modules/@dojo/widgets/grid/styles/placeholder-row.m.css.js","webpack://lib_mycarlog3/./node_modules/@dojo/widgets/theme/default/button.m.css.js","webpack://lib_mycarlog3/./node_modules/@dojo/widgets/grid/styles/cell.m.css.js","webpack://lib_mycarlog3/./node_modules/@dojo/widgets/theme/default/grid-cell.m.css.js","webpack://lib_mycarlog3/./node_modules/@dojo/widgets/grid/styles/row.m.css.js","webpack://lib_mycarlog3/./node_modules/@dojo/widgets/theme/default/grid-row.m.css.js","webpack://lib_mycarlog3/./node_modules/@dojo/widgets/theme/default/grid-footer.m.css.js","webpack://lib_mycarlog3/./node_modules/@dojo/widgets/theme/default/grid-header.m.css.js","webpack://lib_mycarlog3/./node_modules/@dojo/widgets/grid/styles/header.m.css.js","webpack://lib_mycarlog3/./node_modules/@dojo/widgets/grid/styles/paginated-footer.m.css.js","webpack://lib_mycarlog3/./node_modules/@dojo/widgets/theme/default/grid-paginated-footer.m.css.js","webpack://lib_mycarlog3/./node_modules/@dojo/widgets/grid/styles/grid.m.css.js","webpack://lib_mycarlog3/./node_modules/cldrjs/dist/cldr.js","webpack://lib_mycarlog3/utils.ts","webpack://lib_mycarlog3/Base.ts","webpack://lib_mycarlog3/util.ts","webpack://lib_mycarlog3/Dimensions.ts","webpack://lib_mycarlog3/ResizeObserver.ts","webpack://lib_mycarlog3/Resize.ts","webpack://lib_mycarlog3/i18n.ts","webpack://lib_mycarlog3/afterRender.ts","webpack://lib_mycarlog3/beforeProperties.ts","webpack://lib_mycarlog3/inject.ts","webpack://lib_mycarlog3/I18nInjector.ts","webpack://lib_mycarlog3/I18n.ts","webpack://lib_mycarlog3/Themed.ts","webpack://lib_mycarlog3/PlaceholderRow.tsx","webpack://lib_mycarlog3/Focus.ts","webpack://lib_mycarlog3/index.tsx","webpack://lib_mycarlog3/Grid.ts","webpack://lib_mycarlog3/Cell.tsx","webpack://lib_mycarlog3/Row.tsx","webpack://lib_mycarlog3/Body.tsx","webpack://lib_mycarlog3/Footer.tsx","webpack://lib_mycarlog3/Drag.ts","webpack://lib_mycarlog3/Header.tsx","webpack://lib_mycarlog3/PaginatedBody.tsx","webpack://lib_mycarlog3/PaginatedFooter.tsx","webpack://lib_mycarlog3/process.ts","webpack://lib_mycarlog3/processes.ts","webpack://lib_mycarlog3/./src/widgets/Fueling/FuelingLog.ts","webpack://lib_mycarlog3/validity.ts","webpack://lib_mycarlog3/./node_modules/@dojo/widgets/theme/default/icon.m.css.js","webpack://lib_mycarlog3/./node_modules/@dojo/widgets/theme/default/helper-text.m.css.js","webpack://lib_mycarlog3/./node_modules/@dojo/widgets/theme/default/label.m.css.js","webpack://lib_mycarlog3/./node_modules/@dojo/widgets/theme/default/text-input.m.css.js","webpack://lib_mycarlog3/./node_modules/cldrjs/dist/node_main.js","webpack://lib_mycarlog3/./node_modules/@dojo/widgets/grid/styles/body.m.css.js","webpack://lib_mycarlog3/./node_modules/@dojo/widgets/theme/default/grid-body.m.css.js"],"names":["global","__WEBPACK_AMD_DEFINE_RESULT__","__extends","__assign","__rest","__decorate","__param","__metadata","__awaiter","__generator","__exportStar","__values","__read","__spread","__await","__asyncGenerator","__asyncDelegator","__asyncValues","__makeTemplateObject","__importStar","__importDefault","factory","root","self","this","createExporter","exports","previous","Object","create","defineProperty","value","__esModule","id","v","undefined","exporter","extendStatics","setPrototypeOf","__proto__","Array","d","b","p","hasOwnProperty","__","constructor","prototype","assign","t","s","i","n","arguments","length","call","e","indexOf","getOwnPropertySymbols","decorators","target","key","desc","c","r","getOwnPropertyDescriptor","Reflect","decorate","paramIndex","decorator","metadataKey","metadataValue","metadata","thisArg","_arguments","P","generator","Promise","resolve","reject","fulfilled","step","next","rejected","result","done","then","apply","body","f","y","g","_","label","sent","trys","ops","verb","throw","return","Symbol","iterator","op","TypeError","pop","push","m","o","ar","error","concat","asyncIterator","q","a","resume","fulfill","settle","shift","cooked","raw","mod","k","default","module","__webpack_require__","__webpack_exports__","wrapper","_global__WEBPACK_IMPORTED_MODULE_0__","nameOnGlobal","bind","Cldr","Globalize","MessageFormat","alwaysArray","_alwaysArray","createError","_createError","isPlainObject","_isPlainObject","runtimeBind","_runtimeBind","validateDefaultLocale","_validateDefaultLocale","validate","_validate","validateParameterPresence","_validateParameterPresence","validateParameterType","_validateParameterType","validateParameterTypePlainObject","_validateParameterTypePlainObject","propname","obj","test","jkey","JSON","stringify","locale","pluralFunc","formatters","lc","runtime","pluralFuncs","fmt","_parse","SyntaxError","message","expected","found","offset","line","column","name","child","parent","ctor","peg$subclass","Error","parse","input","peg$result","options","peg$FAILED","peg$startRuleFunctions","start","peg$parsestart","peg$startRuleFunction","peg$c1","st","type","statements","peg$c2","peg$c3","peg$c4","description","peg$c5","peg$c6","peg$c7","peg$c8","peg$c9","peg$c10","argIdx","efmt","res","argumentIndex","elementFormat","output","peg$c11","peg$c12","peg$c13","val","peg$c14","peg$c15","peg$c16","peg$c17","peg$c18","peg$c19","pf","pluralForms","peg$c20","peg$c21","peg$c22","peg$c23","peg$c24","peg$c25","mfp","peg$c26","peg$c27","peg$c28","peg$c29","peg$c30","peg$c31","peg$c32","peg$c33","peg$c34","join","peg$c35","peg$c36","peg$c37","peg$c38","peg$c39","peg$c40","peg$c41","chars","peg$c42","peg$c43","peg$c44","x","peg$c45","peg$c46","peg$c47","peg$c48","peg$c49","peg$c50","peg$c51","peg$c52","peg$c53","peg$c54","peg$c55","peg$c56","peg$c57","peg$c58","peg$c59","h1","h2","h3","h4","String","fromCharCode","parseInt","peg$c60","peg$c61","peg$c62","ds","peg$c63","peg$c64","peg$c65","peg$c66","w","peg$c67","peg$c68","peg$currPos","peg$cachedPos","peg$cachedPosDetails","seenCR","peg$maxFailPos","peg$maxFailExpected","peg$silentFails","startRule","peg$computePosDetails","pos","details","startPos","endPos","ch","charAt","advance","peg$fail","peg$buildException","posDetails","sort","splice","cleanupExpected","expectedDescs","slice","hex","charCodeAt","toString","toUpperCase","replace","stringEscape","buildMessage","peg$parsemessageFormatPattern","s1","s2","peg$parsemessageFormatElement","peg$parsestring","peg$parseoctothorpe","s0","s3","s4","s5","s6","peg$parse_","peg$parseid","substr","peg$parsepluralFormatPattern","peg$parseselectForm","peg$parseselectFormatPattern","peg$parseargStylePattern","peg$parseelementFormat","peg$parsedigits","peg$parseoffsetPattern","peg$parsepluralForm","s8","peg$parsepluralKey","peg$parsechars","peg$parsewhitespace","substring","peg$parsechar","peg$parsehexDigit","plurals","number","isNaN","plural","lcfunc","data","isOrdinal","other","select","_stringify","level","funcStr","indent","exec","RegExp","_precompile","ast","keys","tmp","args","pf_count","withIntlSupport","needOther","data_copy","compile","messages","opt","lc0","compileMsg","msg","Function","ns","createErrorPluralModulePresence","messageFormatterFn","formatter","variables","isArray","messageFormatterRuntimeBind","cldr","messageformatter","origToString","match","map","loadMessages","json","customData","globalize-messages","main","load","messageFormatter","path","pluralGenerator","returnFn","attributes","bundle","get","validateMessageBundle","validateMessagePresence","validateMessageType","formatMessage","__WEBPACK_AMD_DEFINE_FACTORY__","__WEBPACK_AMD_DEFINE_ARRAY__","EventEmitter","pathNormalize","_pathNormalize","validatePresence","_validatePresence","validateType","_validateType","proto","indexOfListener","listeners","listener","alias","getListeners","evt","response","events","_getEvents","flattenListeners","flatListeners","getListenersAsObject","addListener","listenerIsWrapped","once","on","addOnceListener","defineEvent","defineEvents","evts","removeListener","index","off","addListeners","manipulateListeners","removeListeners","remove","single","multiple","removeEvent","_events","removeAllListeners","emitEvent","_getOnceReturnValue","trigger","emit","setOnceReturnValue","_onceReturnValue","noConflict","originalGlobalValue","superGet","superInit","validateTypeFunction","globalEe","validateThenCall","method","event","getOverload","ee","init","_eventInit","initSuper","prepend","supplemental","weekData","firstDay","minDays","timeData","allowed","preferred","lookup","coreLoad","_coreLoad","jsonMerge","_jsonMerge","resourceGet","_resourceGet","validateTypePath","_validateTypePath","itemLookup","childLocale","normalizedPath","_resolved","_raw","lastIndexOf","localeSep","bundleParentLookup","node","resourceSet","variable","objectExtend","destination","forEach","source","prop","code","partsPush","parts","runtimeStringify","runtimeKey","check","stringOrArray","validateCldr","skipBoolean","skip","some","pathRe","validateParameterTypeLocale","alwaysCldr","localeOrCldr","validateLikelySubtags","_formatMessage","_formatMessageToParts","lastOffset","nameIncludingBrackets","filter","part","_objectExtend","_partsJoin","_partsPush","_regexpEscape","string","fn","runtimeArgs","argsStr","fnName","matches","functionName","hash","str","reduce","Math","abs","generatorString","_stringPad","count","right","_validateCldr","_validateParameterRange","minimum","maximum","diffProperty","_handleDecorator__WEBPACK_IMPORTED_MODULE_0__","_diff__WEBPACK_IMPORTED_MODULE_1__","propertyName","diffFunction","reactionFunction","propertyKey","addDecorator","reaction"," _key","header","filterGroup","loading","spin","pressed","popup","disabled","rootFixed","edit","selected","selectable","cell","sortable","sorted","asc","-webkit-filter","filterInput","filterNoLabel","cellFixed","resize","containerFixed","detailsFixed","paginationListFixed","itemFixed","moreFixed","pageNavFixed","pagination","paginationList","item","more","pageNumber","pageNav","active","headerFixed","merge","arrayIsArray","split","arraySome","array","callback","coreLikelySubtags","subtags","language","script","sep","territory","variants","force","coreRemoveLikelySubtags","maxLanguageId","coreSubtags","aux","unicodeLanguageId","arrayForEach","bundleLookup","minLanguageId","availableBundleMap","_availableBundleMap","availableBundleMapQueue","_availableBundleMapQueue","existing","maxBundle","minBundle","object","objectKeys","attribute","validateTypePlainObject","coreSetAvailableBundles","somethingOrArray","sources","jsons","j","itemGetResolved","_itemGetResolved","_validateTypePlainObject","unicodeLocaleExtensions","variant","unicodeLocaleExtensionsRaw","region","createFetcher","page","pageSize","tslib","temp","meta","total","createFetcherResult","left","direction","columnId","utils_sorter","toLowerCase","utils_filterer","Base_Base","Destroyable","[object Object]","properties","super","_requestedNodeKeys","Set","_invalidate","invalidate","nodeHandler","_bind","has","stringKey","handle","destroy","delete","own","add","util_hasOwnProperty","shouldDeepCopyObject","copyArray","inherited","_mixin","deep","kwArgs","copied","copiedClone","targetValue","deepAssign","defaultDimensions","client","height","top","width","position","bottom","scroll","size","meta_Dimensions","getNode","boundingDimensions","getBoundingClientRect","clientHeight","clientLeft","clientTop","clientWidth","offsetHeight","offsetLeft","offsetTop","offsetWidth","scrollHeight","scrollLeft","scrollTop","scrollWidth","ResizeObserver","meta_Resize","_details","shim_Map","predicates","defaultResponse","predicateId","set","resizeObserver","entry","predicateChanged","contentRect","previousDetails","predicateResponses","observe","disconnect","cldrResolved","TOKEN_PATTERN","bundleIdMap","shim_WeakMap","bundleLoaderMap","idToBundleLoaderMap","Map","globalizeInstanceMap","MESSAGE_BUNDLE_PATH","DOJO_PATH","currentLocale","supportedLocales","defaultLocale","computedLocale","cldrLoaders","i18n_bundleId","getCurrentLocale","getMatchedSupportedLocale","matchedLocale","partialLocale","supportedLocale","shouldLoadFallbackCldr","fallback","setI18nLocales","isDefault","local","setLocale","isLocal","requestedLocale","navigator","userLanguage","invalidator","userLocale","calculatedLocale","loaderPromises","supplementalLoader","fallbackLoader","localeCldrLoader","async","all","loaderData","results","locales","bundles","loadCldrData","getPlaceholderBundle","isPlaceholder","format","getBundleId","cachedBundleMap","localizeBundle","token","property","bundleId","localeBundleLoaders","messageBundles","isSupportedLocale","bundleLoader","dojo","registerBundle","globalize","lookupId","lookupLocale","markBundleAsLoaded","cachedLocaleMessagesMap","localizedBundleMessages","afterRender","handleDecorator","beforeProperties","decorators_beforeProperties","registeredInjectorsMap","getInjector","instance","injectorItem","registry","injector","registeredInjectors","inject","getProperties","INJECTOR_KEY","previousLocaleMap","WeakMap","mixins_I18n","Base","I18n","baseBundle","i18nBundle","dNodes","optionsOrModifier","predicate","modifier","shallow","nodes","breaker","vdom","children","rtl","injectedLocale","injectedRtl","injectLocaleData","injectedLocaleData","previousLocale","shim_Promise","THEME_KEY","INJECTED_THEME_KEY","Themed_theme","theme","ThemedMixin","Themed","_registeredBaseThemeKeys","_recalculateClasses","_theme","classes","_recalculateThemeClasses","className","_getThemeClass","ThemeInjector","extraClasses","themeClassName","_baseThemeClassesReverseLookup","resultClassNames","console","warn","_classes","classNames","extraClass","_registeredBaseTheme","themeProp","baseThemes","getDecorator","finalBaseTheme","baseTheme","_a","currentClassNames","baseClass","createThemeClassesLookup","themeKey","computed","Themed_decorate","payload","mixins_Themed","PlaceholderRow_PlaceholderRow","WidgetBase","placeholder_row_m_css","grid_placeholder_row_m_css","grid_PlaceholderRow","diffFocus","previousProperty","newProperty","changed","FocusMixin","Focus","_currentToken","_previousToken","shouldFocus","Focus_decorate","widgets_button","focus","middleware_focus","middleware_theme","middleware","aria","widgetId","onClick","onOut","onOver","onDown","onUp","onBlur","onFocus","title","themeCss","button_m_css","idBase","onblur","onclick","stopPropagation","onfocus","onpointerenter","onpointerleave","onpointerdown","onpointerup","util","aria-pressed","nls_Grid","currentPage","editValue","goToPage","noResults","pageOfTotal","pageOfUnknownTotal","resultRange","sortBy","filterBy","Cell_Cell","_editing","_editingValue","_idBase","random","_onEdit","editable","_callFocus","rawValue","_focusKey","_onSave","Enter","Escape","updater","ondblclick","passedInputClasses","passedButtonClasses","role","styles","flex","grid_cell_m_css","cell_m_css","text_input","@dojo/widgets/text-input","labelHidden","initialValue","onValue","_onInput","_onBlur","onKeyDown","_onKeyDown","renderContent","@dojo/widgets/button","describedby","icon","altText","grid_Cell","Row_Row","onRowSelect","ctrlKey","metaKey","columnConfig","columnWidths","columns","config","renderer","updatedValue","grid_row_m_css","row_m_css","_onRowSelect","aria-rowindex","grid_Row","Body_Body","_start","_end","_resetScroll","rowNumber","max","ceil","pageItemNumber","totalRows","onScroll","topRow","round","_rowHeight","bottomRow","_rowsInView","_renderPageSize","min","end","fetcher","pages","placeholderRowRenderer","_defaultPlaceholderRow","pageChange","selectedRows","startPage","endPage","endData","rows","_updater","rowWidth","dimensions","dnode","div","document","createElement","style","appendChild","mount","domNode","sync","removeChild","offscreen","_renderRows","topPaddingHeight","bottomPaddingHeight","containerProperties","grid_body_m_css","body_m_css","onscroll","_onScroll","diff","grid_Body","Footer_Footer","footer","totalPages","grid_footer_m_css","grid_Footer","emptyResults","freeze","delta","isDragging","getPositionMatrix","clientX","clientY","offsetX","offsetY","pageX","pageY","screen","screenX","screenY","getDelta","current","controller","_nodeMap","_dragging","_onDragStart","isPrimary","state","dragResults","button","_getData","last","preventDefault","_onDrag","_onDragStop","win","window","addEventListener","parentElement","createNodeData","touchAction","setAttribute","initNode","meta_Drag","_boundInvalidate","Header_Header","_sortRenderer","sorter","grid_header_m_css","_getColumnTitle","_filterRenderer","filterValue","doFilter","noLabel","filterer","sortRenderer","filterRenderer","onColumnResize","header_m_css","headerProperties","isSorted","isSortedAsc","Boolean","_sortColumn","resizable","aria-sort","filterable","grid_Header","PaginatedBody_PaginatedBody","rowCount","grid_PaginatedBody","PaginatedFooter_PaginatedFooter","onPageChange","aria-current","aria-label","grid_paginated_footer_m_css","_renderPageControl","aria-hidden","paginated_footer_m_css","from","to","controls","_renderPaginationControls","grid_PaginatedFooter","processMap","valueSymbol","proxyError","processExecutor","commands","store","before","after","transformer","at","executor","process","executorPayload","operations","commandsCopy","undoOperations","command","createProxy","proxies","proxied","proxyOperations","createHandler","partialPath","fullPath","stringPath","proxiedValue","Proxy","removeProxies","newValue","state_operations","deleteProperty","proxy","resolvedResults","commandFunction","createProcess","callbacks","nextCallback","processCallback","previousCallback","previousBefore","previousAfter","combineCallbacks","commandFactory","pageChangeCommand","preFetcherCommand","fetchedPages","fetcherCommand","sortOptions","filterOptions","preSortCommand","preFilterCommand","sortCommand","sortForFirstPage","previousPage","err","filterCommand","currentFilters","preUpdateCommand","updatedItem","updaterCommand","previousItem","selectionCommand","currentSelection","existingIndex","idx","clearSelectionCommand","updaterProcess","fetcherProcess","filterProcess","sortProcess","selectionProcess","clearSelectionProcess","pageChangeProcess","defaultGridMeta","isSorting","editedRow","selection","grid_Grid","_store","Store","_scrollLeft","_pageSize","_gridWidth","_handle","onChange","storeId","headerWrapper","headerHeight","bodyWidth","footerHeight","headerWidth","bodyHeight","_columnWidths","currentColumnWidth","_getProperties","selectedIndexes","items","selectedIndex","itemIndex","floor","customRenderers","hasFilters","hasResizableColumns","_getBodyDimensions","sizes","grid_m_css","styles_grid_m_css","aria-rowcount","row","_sorter","_filterer","_onColumnResize","_fetcher","_selection","_pageChange","grid","FuelingLog_FuelingLog","url","Params","idvehicle","setTimeout","paramsString","location","searchParams","URLSearchParams","fetch","headers","Content-Type","log","ToolBar","ShowSave","onSave","href","idfueling","rowkey","_dojo_framework_core_vdom__WEBPACK_IMPORTED_MODULE_0__","_middleware_theme__WEBPACK_IMPORTED_MODULE_1__","_common_util__WEBPACK_IMPORTED_MODULE_2__","_theme_default_icon_m_css__WEBPACK_IMPORTED_MODULE_3__","_common_styles_base_m_css__WEBPACK_IMPORTED_MODULE_4__","Icon","hidden","sizeClass","middleware_validity","valid","validity","validationMessage","helper_text","text","themedCss","helper_text_m_css","invalid","widgets_label","widgets_middleware_theme","label_factory","focused","forId","readOnly","required","secondary","label_m_css","readonly","base_m_css","for","formatAutocomplete","autocomplete","text_input_TextInput","icache","middleware_icache","text_input_factory","pattern","text_input_m_css","dirty","getOrSet","customValidator","helperText","maxLength","minLength","onKeyUp","onValidate","patternValue","placeholder","validValue","leading","trailing","_callOnValidate","previousMessage","previousValid","customValid","computedHelperText","inputFocused","isFocused","hasLeading","hasTrailing","inputWrapper","inputWrapperFocused","aria-invalid","maxlength","minlength","aria-readonly","oninput","onkeydown","which","onkeyup","addonFactory","filled","addonRoot","addonFilled","medium","large","small","clockIcon","downIcon","leftIcon","rightIcon","closeIcon","plusIcon","minusIcon","checkIcon","upIcon","upAltIcon","downAltIcon","searchIcon","barsIcon","settingsIcon","alertIcon","helpIcon","infoIcon","cancelIcon","checkedBoxIcon","phoneIcon","editIcon","dateIcon","linkIcon","locationIcon","secureIcon","mailIcon","eyeIcon","eyeSlashIcon","starIcon"],"mappings":"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","file":"src/widgets/Fueling/FuelingLog.ce39f8123b907a5decfc.bundle.js","sourcesContent":["/*! *****************************************************************************\r\nCopyright (c) Microsoft Corporation. All rights reserved.\r\nLicensed under the Apache License, Version 2.0 (the \"License\"); you may not use\r\nthis file except in compliance with the License. You may obtain a copy of the\r\nLicense at http://www.apache.org/licenses/LICENSE-2.0\r\n\r\nTHIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\r\nKIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED\r\nWARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,\r\nMERCHANTABLITY OR NON-INFRINGEMENT.\r\n\r\nSee the Apache Version 2.0 License for specific language governing permissions\r\nand limitations under the License.\r\n***************************************************************************** */\r\n/* global global, define, System, Reflect, Promise */\r\nvar __extends;\r\nvar __assign;\r\nvar __rest;\r\nvar __decorate;\r\nvar __param;\r\nvar __metadata;\r\nvar __awaiter;\r\nvar __generator;\r\nvar __exportStar;\r\nvar __values;\r\nvar __read;\r\nvar __spread;\r\nvar __await;\r\nvar __asyncGenerator;\r\nvar __asyncDelegator;\r\nvar __asyncValues;\r\nvar __makeTemplateObject;\r\nvar __importStar;\r\nvar __importDefault;\r\n(function (factory) {\r\n    var root = typeof global === \"object\" ? global : typeof self === \"object\" ? self : typeof this === \"object\" ? this : {};\r\n    if (typeof define === \"function\" && define.amd) {\r\n        define(\"tslib\", [\"exports\"], function (exports) { factory(createExporter(root, createExporter(exports))); });\r\n    }\r\n    else if (typeof module === \"object\" && typeof module.exports === \"object\") {\r\n        factory(createExporter(root, createExporter(module.exports)));\r\n    }\r\n    else {\r\n        factory(createExporter(root));\r\n    }\r\n    function createExporter(exports, previous) {\r\n        if (exports !== root) {\r\n            if (typeof Object.create === \"function\") {\r\n                Object.defineProperty(exports, \"__esModule\", { value: true });\r\n            }\r\n            else {\r\n                exports.__esModule = true;\r\n            }\r\n        }\r\n        return function (id, v) { return exports[id] = previous ? previous(id, v) : v; };\r\n    }\r\n})\r\n(function (exporter) {\r\n    var extendStatics = Object.setPrototypeOf ||\r\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n\r\n    __extends = function (d, b) {\r\n        extendStatics(d, b);\r\n        function __() { this.constructor = d; }\r\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n    };\r\n\r\n    __assign = Object.assign || function (t) {\r\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\r\n            s = arguments[i];\r\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\r\n        }\r\n        return t;\r\n    };\r\n\r\n    __rest = function (s, e) {\r\n        var t = {};\r\n        for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\r\n            t[p] = s[p];\r\n        if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\r\n            for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) if (e.indexOf(p[i]) < 0)\r\n                t[p[i]] = s[p[i]];\r\n        return t;\r\n    };\r\n\r\n    __decorate = function (decorators, target, key, desc) {\r\n        var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\r\n        if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\r\n        else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\r\n        return c > 3 && r && Object.defineProperty(target, key, r), r;\r\n    };\r\n\r\n    __param = function (paramIndex, decorator) {\r\n        return function (target, key) { decorator(target, key, paramIndex); }\r\n    };\r\n\r\n    __metadata = function (metadataKey, metadataValue) {\r\n        if (typeof Reflect === \"object\" && typeof Reflect.metadata === \"function\") return Reflect.metadata(metadataKey, metadataValue);\r\n    };\r\n\r\n    __awaiter = function (thisArg, _arguments, P, generator) {\r\n        return new (P || (P = Promise))(function (resolve, reject) {\r\n            function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\r\n            function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\r\n            function step(result) { result.done ? resolve(result.value) : new P(function (resolve) { resolve(result.value); }).then(fulfilled, rejected); }\r\n            step((generator = generator.apply(thisArg, _arguments || [])).next());\r\n        });\r\n    };\r\n\r\n    __generator = function (thisArg, body) {\r\n        var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;\r\n        return g = { next: verb(0), \"throw\": verb(1), \"return\": verb(2) }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function() { return this; }), g;\r\n        function verb(n) { return function (v) { return step([n, v]); }; }\r\n        function step(op) {\r\n            if (f) throw new TypeError(\"Generator is already executing.\");\r\n            while (_) try {\r\n                if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\r\n                if (y = 0, t) op = [op[0] & 2, t.value];\r\n                switch (op[0]) {\r\n                    case 0: case 1: t = op; break;\r\n                    case 4: _.label++; return { value: op[1], done: false };\r\n                    case 5: _.label++; y = op[1]; op = [0]; continue;\r\n                    case 7: op = _.ops.pop(); _.trys.pop(); continue;\r\n                    default:\r\n                        if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\r\n                        if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\r\n                        if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\r\n                        if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\r\n                        if (t[2]) _.ops.pop();\r\n                        _.trys.pop(); continue;\r\n                }\r\n                op = body.call(thisArg, _);\r\n            } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\r\n            if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\r\n        }\r\n    };\r\n\r\n    __exportStar = function (m, exports) {\r\n        for (var p in m) if (!exports.hasOwnProperty(p)) exports[p] = m[p];\r\n    };\r\n\r\n    __values = function (o) {\r\n        var m = typeof Symbol === \"function\" && o[Symbol.iterator], i = 0;\r\n        if (m) return m.call(o);\r\n        return {\r\n            next: function () {\r\n                if (o && i >= o.length) o = void 0;\r\n                return { value: o && o[i++], done: !o };\r\n            }\r\n        };\r\n    };\r\n\r\n    __read = function (o, n) {\r\n        var m = typeof Symbol === \"function\" && o[Symbol.iterator];\r\n        if (!m) return o;\r\n        var i = m.call(o), r, ar = [], e;\r\n        try {\r\n            while ((n === void 0 || n-- > 0) && !(r = i.next()).done) ar.push(r.value);\r\n        }\r\n        catch (error) { e = { error: error }; }\r\n        finally {\r\n            try {\r\n                if (r && !r.done && (m = i[\"return\"])) m.call(i);\r\n            }\r\n            finally { if (e) throw e.error; }\r\n        }\r\n        return ar;\r\n    };\r\n\r\n    __spread = function () {\r\n        for (var ar = [], i = 0; i < arguments.length; i++)\r\n            ar = ar.concat(__read(arguments[i]));\r\n        return ar;\r\n    };\r\n\r\n    __await = function (v) {\r\n        return this instanceof __await ? (this.v = v, this) : new __await(v);\r\n    };\r\n\r\n    __asyncGenerator = function (thisArg, _arguments, generator) {\r\n        if (!Symbol.asyncIterator) throw new TypeError(\"Symbol.asyncIterator is not defined.\");\r\n        var g = generator.apply(thisArg, _arguments || []), i, q = [];\r\n        return i = {}, verb(\"next\"), verb(\"throw\"), verb(\"return\"), i[Symbol.asyncIterator] = function () { return this; }, i;\r\n        function verb(n) { if (g[n]) i[n] = function (v) { return new Promise(function (a, b) { q.push([n, v, a, b]) > 1 || resume(n, v); }); }; }\r\n        function resume(n, v) { try { step(g[n](v)); } catch (e) { settle(q[0][3], e); } }\r\n        function step(r) { r.value instanceof __await ? Promise.resolve(r.value.v).then(fulfill, reject) : settle(q[0][2], r);  }\r\n        function fulfill(value) { resume(\"next\", value); }\r\n        function reject(value) { resume(\"throw\", value); }\r\n        function settle(f, v) { if (f(v), q.shift(), q.length) resume(q[0][0], q[0][1]); }\r\n    };\r\n\r\n    __asyncDelegator = function (o) {\r\n        var i, p;\r\n        return i = {}, verb(\"next\"), verb(\"throw\", function (e) { throw e; }), verb(\"return\"), i[Symbol.iterator] = function () { return this; }, i;\r\n        function verb(n, f) { i[n] = o[n] ? function (v) { return (p = !p) ? { value: __await(o[n](v)), done: n === \"return\" } : f ? f(v) : v; } : f; }\r\n    };\r\n\r\n    __asyncValues = function (o) {\r\n        if (!Symbol.asyncIterator) throw new TypeError(\"Symbol.asyncIterator is not defined.\");\r\n        var m = o[Symbol.asyncIterator], i;\r\n        return m ? m.call(o) : (o = typeof __values === \"function\" ? __values(o) : o[Symbol.iterator](), i = {}, verb(\"next\"), verb(\"throw\"), verb(\"return\"), i[Symbol.asyncIterator] = function () { return this; }, i);\r\n        function verb(n) { i[n] = o[n] && function (v) { return new Promise(function (resolve, reject) { v = o[n](v), settle(resolve, reject, v.done, v.value); }); }; }\r\n        function settle(resolve, reject, d, v) { Promise.resolve(v).then(function(v) { resolve({ value: v, done: d }); }, reject); }\r\n    };\r\n\r\n    __makeTemplateObject = function (cooked, raw) {\r\n        if (Object.defineProperty) { Object.defineProperty(cooked, \"raw\", { value: raw }); } else { cooked.raw = raw; }\r\n        return cooked;\r\n    };\r\n\r\n    __importStar = function (mod) {\r\n        if (mod && mod.__esModule) return mod;\r\n        var result = {};\r\n        if (mod != null) for (var k in mod) if (Object.hasOwnProperty.call(mod, k)) result[k] = mod[k];\r\n        result[\"default\"] = mod;\r\n        return result;\r\n    };\r\n\r\n    __importDefault = function (mod) {\r\n        return (mod && mod.__esModule) ? mod : { \"default\": mod };\r\n    };\r\n\r\n    exporter(\"__extends\", __extends);\r\n    exporter(\"__assign\", __assign);\r\n    exporter(\"__rest\", __rest);\r\n    exporter(\"__decorate\", __decorate);\r\n    exporter(\"__param\", __param);\r\n    exporter(\"__metadata\", __metadata);\r\n    exporter(\"__awaiter\", __awaiter);\r\n    exporter(\"__generator\", __generator);\r\n    exporter(\"__exportStar\", __exportStar);\r\n    exporter(\"__values\", __values);\r\n    exporter(\"__read\", __read);\r\n    exporter(\"__spread\", __spread);\r\n    exporter(\"__await\", __await);\r\n    exporter(\"__asyncGenerator\", __asyncGenerator);\r\n    exporter(\"__asyncDelegator\", __asyncDelegator);\r\n    exporter(\"__asyncValues\", __asyncValues);\r\n    exporter(\"__makeTemplateObject\", __makeTemplateObject);\r\n    exporter(\"__importStar\", __importStar);\r\n    exporter(\"__importDefault\", __importDefault);\r\n});\r\n","import global from '../global';\nimport has from '../../core/has';\n\nexport default function wrapper(nameOnGlobal: string, constructor = false, bind = false): any {\n\tif (has('test')) {\n\t\tif (constructor) {\n\t\t\treturn function(...args: any[]) {\n\t\t\t\treturn new global[nameOnGlobal](...args);\n\t\t\t};\n\t\t} else {\n\t\t\treturn function(...args: any[]) {\n\t\t\t\treturn global[nameOnGlobal](...args);\n\t\t\t};\n\t\t}\n\t}\n\n\treturn bind ? global[nameOnGlobal].bind(global) : global[nameOnGlobal];\n}\n","/*** IMPORTS FROM imports-loader ***/\nvar define = false;\n\n/**\n * Globalize v1.5.0\n *\n * http://github.com/jquery/globalize\n *\n * Copyright jQuery Foundation and other contributors\n * Released under the MIT license\n * http://jquery.org/license\n *\n * Date: 2020-03-25T12:19Z\n */\n/*!\n * Globalize v1.5.0 2020-03-25T12:19Z Released under the MIT license\n * http://git.io/TrdQbw\n */\n(function( root, factory ) {\n\n\t// UMD returnExports\n\tif ( typeof define === \"function\" && define.amd ) {\n\n\t\t// AMD\n\t\tdefine([\n\t\t\t\"cldr\",\n\t\t\t\"../globalize\",\n\t\t\t\"cldr/event\"\n\t\t], factory );\n\t} else if ( typeof exports === \"object\" ) {\n\n\t\t// Node, CommonJS\n\t\tmodule.exports = factory( require( \"cldrjs\" ), require( \"../globalize\" ) );\n\t} else {\n\n\t\t// Extend global\n\t\tfactory( root.Cldr, root.Globalize );\n\t}\n}(this, function( Cldr, Globalize ) {\n\nvar alwaysArray = Globalize._alwaysArray,\n\tcreateError = Globalize._createError,\n\tisPlainObject = Globalize._isPlainObject,\n\truntimeBind = Globalize._runtimeBind,\n\tvalidateDefaultLocale = Globalize._validateDefaultLocale,\n\tvalidate = Globalize._validate,\n\tvalidateParameterPresence = Globalize._validateParameterPresence,\n\tvalidateParameterType = Globalize._validateParameterType,\n\tvalidateParameterTypePlainObject = Globalize._validateParameterTypePlainObject;\nvar MessageFormat;\n/* jshint ignore:start */\nMessageFormat = (function() {\nMessageFormat._parse = (function() {\n\n  /*\n   * Generated by PEG.js 0.8.0.\n   *\n   * http://pegjs.majda.cz/\n   */\n\n  function peg$subclass(child, parent) {\n    function ctor() { this.constructor = child; }\n    ctor.prototype = parent.prototype;\n    child.prototype = new ctor();\n  }\n\n  function SyntaxError(message, expected, found, offset, line, column) {\n    this.message  = message;\n    this.expected = expected;\n    this.found    = found;\n    this.offset   = offset;\n    this.line     = line;\n    this.column   = column;\n\n    this.name     = \"SyntaxError\";\n  }\n\n  peg$subclass(SyntaxError, Error);\n\n  function parse(input) {\n    var options = arguments.length > 1 ? arguments[1] : {},\n\n        peg$FAILED = {},\n\n        peg$startRuleFunctions = { start: peg$parsestart },\n        peg$startRuleFunction  = peg$parsestart,\n\n        peg$c0 = [],\n        peg$c1 = function(st) {\n              return { type: 'messageFormatPattern', statements: st };\n            },\n        peg$c2 = peg$FAILED,\n        peg$c3 = \"{\",\n        peg$c4 = { type: \"literal\", value: \"{\", description: \"\\\"{\\\"\" },\n        peg$c5 = null,\n        peg$c6 = \",\",\n        peg$c7 = { type: \"literal\", value: \",\", description: \"\\\",\\\"\" },\n        peg$c8 = \"}\",\n        peg$c9 = { type: \"literal\", value: \"}\", description: \"\\\"}\\\"\" },\n        peg$c10 = function(argIdx, efmt) {\n              var res = {\n                type: \"messageFormatElement\",\n                argumentIndex: argIdx\n              };\n              if (efmt && efmt.length) {\n                res.elementFormat = efmt[1];\n              } else {\n                res.output = true;\n              }\n              return res;\n            },\n        peg$c11 = \"plural\",\n        peg$c12 = { type: \"literal\", value: \"plural\", description: \"\\\"plural\\\"\" },\n        peg$c13 = function(t, s) {\n              return { type: \"elementFormat\", key: t, val: s };\n            },\n        peg$c14 = \"selectordinal\",\n        peg$c15 = { type: \"literal\", value: \"selectordinal\", description: \"\\\"selectordinal\\\"\" },\n        peg$c16 = \"select\",\n        peg$c17 = { type: \"literal\", value: \"select\", description: \"\\\"select\\\"\" },\n        peg$c18 = function(t, p) {\n              return { type: \"elementFormat\", key: t, val: p };\n            },\n        peg$c19 = function(op, pf) {\n              return { type: \"pluralFormatPattern\", pluralForms: pf, offset: op || 0 };\n            },\n        peg$c20 = \"offset\",\n        peg$c21 = { type: \"literal\", value: \"offset\", description: \"\\\"offset\\\"\" },\n        peg$c22 = \":\",\n        peg$c23 = { type: \"literal\", value: \":\", description: \"\\\":\\\"\" },\n        peg$c24 = function(d) { return d; },\n        peg$c25 = function(k, mfp) {\n              return { key: k, val: mfp };\n            },\n        peg$c26 = function(i) { return i; },\n        peg$c27 = \"=\",\n        peg$c28 = { type: \"literal\", value: \"=\", description: \"\\\"=\\\"\" },\n        peg$c29 = function(pf) { return { type: \"selectFormatPattern\", pluralForms: pf }; },\n        peg$c30 = function(p) { return p; },\n        peg$c31 = \"#\",\n        peg$c32 = { type: \"literal\", value: \"#\", description: \"\\\"#\\\"\" },\n        peg$c33 = function() { return {type: 'octothorpe'}; },\n        peg$c34 = function(s) { return { type: \"string\", val: s.join('') }; },\n        peg$c35 = { type: \"other\", description: \"identifier\" },\n        peg$c36 = /^[0-9a-zA-Z$_]/,\n        peg$c37 = { type: \"class\", value: \"[0-9a-zA-Z$_]\", description: \"[0-9a-zA-Z$_]\" },\n        peg$c38 = /^[^ \\t\\n\\r,.+={}]/,\n        peg$c39 = { type: \"class\", value: \"[^ \\\\t\\\\n\\\\r,.+={}]\", description: \"[^ \\\\t\\\\n\\\\r,.+={}]\" },\n        peg$c40 = function(s) { return s; },\n        peg$c41 = function(chars) { return chars.join(''); },\n        peg$c42 = /^[^{}#\\\\\\0-\\x1F \\t\\n\\r]/,\n        peg$c43 = { type: \"class\", value: \"[^{}#\\\\\\\\\\\\0-\\\\x1F \\\\t\\\\n\\\\r]\", description: \"[^{}#\\\\\\\\\\\\0-\\\\x1F \\\\t\\\\n\\\\r]\" },\n        peg$c44 = function(x) { return x; },\n        peg$c45 = \"\\\\\\\\\",\n        peg$c46 = { type: \"literal\", value: \"\\\\\\\\\", description: \"\\\"\\\\\\\\\\\\\\\\\\\"\" },\n        peg$c47 = function() { return \"\\\\\"; },\n        peg$c48 = \"\\\\#\",\n        peg$c49 = { type: \"literal\", value: \"\\\\#\", description: \"\\\"\\\\\\\\#\\\"\" },\n        peg$c50 = function() { return \"#\"; },\n        peg$c51 = \"\\\\{\",\n        peg$c52 = { type: \"literal\", value: \"\\\\{\", description: \"\\\"\\\\\\\\{\\\"\" },\n        peg$c53 = function() { return \"\\u007B\"; },\n        peg$c54 = \"\\\\}\",\n        peg$c55 = { type: \"literal\", value: \"\\\\}\", description: \"\\\"\\\\\\\\}\\\"\" },\n        peg$c56 = function() { return \"\\u007D\"; },\n        peg$c57 = \"\\\\u\",\n        peg$c58 = { type: \"literal\", value: \"\\\\u\", description: \"\\\"\\\\\\\\u\\\"\" },\n        peg$c59 = function(h1, h2, h3, h4) {\n              return String.fromCharCode(parseInt(\"0x\" + h1 + h2 + h3 + h4));\n            },\n        peg$c60 = /^[0-9]/,\n        peg$c61 = { type: \"class\", value: \"[0-9]\", description: \"[0-9]\" },\n        peg$c62 = function(ds) {\n            //the number might start with 0 but must not be interpreted as an octal number\n            //Hence, the base is passed to parseInt explicitely\n            return parseInt((ds.join('')), 10);\n          },\n        peg$c63 = /^[0-9a-fA-F]/,\n        peg$c64 = { type: \"class\", value: \"[0-9a-fA-F]\", description: \"[0-9a-fA-F]\" },\n        peg$c65 = { type: \"other\", description: \"whitespace\" },\n        peg$c66 = function(w) { return w.join(''); },\n        peg$c67 = /^[ \\t\\n\\r]/,\n        peg$c68 = { type: \"class\", value: \"[ \\\\t\\\\n\\\\r]\", description: \"[ \\\\t\\\\n\\\\r]\" },\n\n        peg$currPos          = 0,\n        peg$reportedPos      = 0,\n        peg$cachedPos        = 0,\n        peg$cachedPosDetails = { line: 1, column: 1, seenCR: false },\n        peg$maxFailPos       = 0,\n        peg$maxFailExpected  = [],\n        peg$silentFails      = 0,\n\n        peg$result;\n\n    if (\"startRule\" in options) {\n      if (!(options.startRule in peg$startRuleFunctions)) {\n        throw new Error(\"Can't start parsing from rule \\\"\" + options.startRule + \"\\\".\");\n      }\n\n      peg$startRuleFunction = peg$startRuleFunctions[options.startRule];\n    }\n\n    function text() {\n      return input.substring(peg$reportedPos, peg$currPos);\n    }\n\n    function offset() {\n      return peg$reportedPos;\n    }\n\n    function line() {\n      return peg$computePosDetails(peg$reportedPos).line;\n    }\n\n    function column() {\n      return peg$computePosDetails(peg$reportedPos).column;\n    }\n\n    function expected(description) {\n      throw peg$buildException(\n        null,\n        [{ type: \"other\", description: description }],\n        peg$reportedPos\n      );\n    }\n\n    function error(message) {\n      throw peg$buildException(message, null, peg$reportedPos);\n    }\n\n    function peg$computePosDetails(pos) {\n      function advance(details, startPos, endPos) {\n        var p, ch;\n\n        for (p = startPos; p < endPos; p++) {\n          ch = input.charAt(p);\n          if (ch === \"\\n\") {\n            if (!details.seenCR) { details.line++; }\n            details.column = 1;\n            details.seenCR = false;\n          } else if (ch === \"\\r\" || ch === \"\\u2028\" || ch === \"\\u2029\") {\n            details.line++;\n            details.column = 1;\n            details.seenCR = true;\n          } else {\n            details.column++;\n            details.seenCR = false;\n          }\n        }\n      }\n\n      if (peg$cachedPos !== pos) {\n        if (peg$cachedPos > pos) {\n          peg$cachedPos = 0;\n          peg$cachedPosDetails = { line: 1, column: 1, seenCR: false };\n        }\n        advance(peg$cachedPosDetails, peg$cachedPos, pos);\n        peg$cachedPos = pos;\n      }\n\n      return peg$cachedPosDetails;\n    }\n\n    function peg$fail(expected) {\n      if (peg$currPos < peg$maxFailPos) { return; }\n\n      if (peg$currPos > peg$maxFailPos) {\n        peg$maxFailPos = peg$currPos;\n        peg$maxFailExpected = [];\n      }\n\n      peg$maxFailExpected.push(expected);\n    }\n\n    function peg$buildException(message, expected, pos) {\n      function cleanupExpected(expected) {\n        var i = 1;\n\n        expected.sort(function(a, b) {\n          if (a.description < b.description) {\n            return -1;\n          } else if (a.description > b.description) {\n            return 1;\n          } else {\n            return 0;\n          }\n        });\n\n        while (i < expected.length) {\n          if (expected[i - 1] === expected[i]) {\n            expected.splice(i, 1);\n          } else {\n            i++;\n          }\n        }\n      }\n\n      function buildMessage(expected, found) {\n        function stringEscape(s) {\n          function hex(ch) { return ch.charCodeAt(0).toString(16).toUpperCase(); }\n\n          return s\n            .replace(/\\\\/g,   '\\\\\\\\')\n            .replace(/\"/g,    '\\\\\"')\n            .replace(/\\x08/g, '\\\\b')\n            .replace(/\\t/g,   '\\\\t')\n            .replace(/\\n/g,   '\\\\n')\n            .replace(/\\f/g,   '\\\\f')\n            .replace(/\\r/g,   '\\\\r')\n            .replace(/[\\x00-\\x07\\x0B\\x0E\\x0F]/g, function(ch) { return '\\\\x0' + hex(ch); })\n            .replace(/[\\x10-\\x1F\\x80-\\xFF]/g,    function(ch) { return '\\\\x'  + hex(ch); })\n            .replace(/[\\u0180-\\u0FFF]/g,         function(ch) { return '\\\\u0' + hex(ch); })\n            .replace(/[\\u1080-\\uFFFF]/g,         function(ch) { return '\\\\u'  + hex(ch); });\n        }\n\n        var expectedDescs = new Array(expected.length),\n            expectedDesc, foundDesc, i;\n\n        for (i = 0; i < expected.length; i++) {\n          expectedDescs[i] = expected[i].description;\n        }\n\n        expectedDesc = expected.length > 1\n          ? expectedDescs.slice(0, -1).join(\", \")\n              + \" or \"\n              + expectedDescs[expected.length - 1]\n          : expectedDescs[0];\n\n        foundDesc = found ? \"\\\"\" + stringEscape(found) + \"\\\"\" : \"end of input\";\n\n        return \"Expected \" + expectedDesc + \" but \" + foundDesc + \" found.\";\n      }\n\n      var posDetails = peg$computePosDetails(pos),\n          found      = pos < input.length ? input.charAt(pos) : null;\n\n      if (expected !== null) {\n        cleanupExpected(expected);\n      }\n\n      return new SyntaxError(\n        message !== null ? message : buildMessage(expected, found),\n        expected,\n        found,\n        pos,\n        posDetails.line,\n        posDetails.column\n      );\n    }\n\n    function peg$parsestart() {\n      var s0;\n\n      s0 = peg$parsemessageFormatPattern();\n\n      return s0;\n    }\n\n    function peg$parsemessageFormatPattern() {\n      var s0, s1, s2;\n\n      s0 = peg$currPos;\n      s1 = [];\n      s2 = peg$parsemessageFormatElement();\n      if (s2 === peg$FAILED) {\n        s2 = peg$parsestring();\n        if (s2 === peg$FAILED) {\n          s2 = peg$parseoctothorpe();\n        }\n      }\n      while (s2 !== peg$FAILED) {\n        s1.push(s2);\n        s2 = peg$parsemessageFormatElement();\n        if (s2 === peg$FAILED) {\n          s2 = peg$parsestring();\n          if (s2 === peg$FAILED) {\n            s2 = peg$parseoctothorpe();\n          }\n        }\n      }\n      if (s1 !== peg$FAILED) {\n        peg$reportedPos = s0;\n        s1 = peg$c1(s1);\n      }\n      s0 = s1;\n\n      return s0;\n    }\n\n    function peg$parsemessageFormatElement() {\n      var s0, s1, s2, s3, s4, s5, s6;\n\n      s0 = peg$currPos;\n      if (input.charCodeAt(peg$currPos) === 123) {\n        s1 = peg$c3;\n        peg$currPos++;\n      } else {\n        s1 = peg$FAILED;\n        if (peg$silentFails === 0) { peg$fail(peg$c4); }\n      }\n      if (s1 !== peg$FAILED) {\n        s2 = peg$parse_();\n        if (s2 !== peg$FAILED) {\n          s3 = peg$parseid();\n          if (s3 !== peg$FAILED) {\n            s4 = peg$currPos;\n            if (input.charCodeAt(peg$currPos) === 44) {\n              s5 = peg$c6;\n              peg$currPos++;\n            } else {\n              s5 = peg$FAILED;\n              if (peg$silentFails === 0) { peg$fail(peg$c7); }\n            }\n            if (s5 !== peg$FAILED) {\n              s6 = peg$parseelementFormat();\n              if (s6 !== peg$FAILED) {\n                s5 = [s5, s6];\n                s4 = s5;\n              } else {\n                peg$currPos = s4;\n                s4 = peg$c2;\n              }\n            } else {\n              peg$currPos = s4;\n              s4 = peg$c2;\n            }\n            if (s4 === peg$FAILED) {\n              s4 = peg$c5;\n            }\n            if (s4 !== peg$FAILED) {\n              s5 = peg$parse_();\n              if (s5 !== peg$FAILED) {\n                if (input.charCodeAt(peg$currPos) === 125) {\n                  s6 = peg$c8;\n                  peg$currPos++;\n                } else {\n                  s6 = peg$FAILED;\n                  if (peg$silentFails === 0) { peg$fail(peg$c9); }\n                }\n                if (s6 !== peg$FAILED) {\n                  peg$reportedPos = s0;\n                  s1 = peg$c10(s3, s4);\n                  s0 = s1;\n                } else {\n                  peg$currPos = s0;\n                  s0 = peg$c2;\n                }\n              } else {\n                peg$currPos = s0;\n                s0 = peg$c2;\n              }\n            } else {\n              peg$currPos = s0;\n              s0 = peg$c2;\n            }\n          } else {\n            peg$currPos = s0;\n            s0 = peg$c2;\n          }\n        } else {\n          peg$currPos = s0;\n          s0 = peg$c2;\n        }\n      } else {\n        peg$currPos = s0;\n        s0 = peg$c2;\n      }\n\n      return s0;\n    }\n\n    function peg$parseelementFormat() {\n      var s0, s1, s2, s3, s4, s5, s6, s7;\n\n      s0 = peg$currPos;\n      s1 = peg$parse_();\n      if (s1 !== peg$FAILED) {\n        if (input.substr(peg$currPos, 6) === peg$c11) {\n          s2 = peg$c11;\n          peg$currPos += 6;\n        } else {\n          s2 = peg$FAILED;\n          if (peg$silentFails === 0) { peg$fail(peg$c12); }\n        }\n        if (s2 !== peg$FAILED) {\n          s3 = peg$parse_();\n          if (s3 !== peg$FAILED) {\n            if (input.charCodeAt(peg$currPos) === 44) {\n              s4 = peg$c6;\n              peg$currPos++;\n            } else {\n              s4 = peg$FAILED;\n              if (peg$silentFails === 0) { peg$fail(peg$c7); }\n            }\n            if (s4 !== peg$FAILED) {\n              s5 = peg$parse_();\n              if (s5 !== peg$FAILED) {\n                s6 = peg$parsepluralFormatPattern();\n                if (s6 !== peg$FAILED) {\n                  s7 = peg$parse_();\n                  if (s7 !== peg$FAILED) {\n                    peg$reportedPos = s0;\n                    s1 = peg$c13(s2, s6);\n                    s0 = s1;\n                  } else {\n                    peg$currPos = s0;\n                    s0 = peg$c2;\n                  }\n                } else {\n                  peg$currPos = s0;\n                  s0 = peg$c2;\n                }\n              } else {\n                peg$currPos = s0;\n                s0 = peg$c2;\n              }\n            } else {\n              peg$currPos = s0;\n              s0 = peg$c2;\n            }\n          } else {\n            peg$currPos = s0;\n            s0 = peg$c2;\n          }\n        } else {\n          peg$currPos = s0;\n          s0 = peg$c2;\n        }\n      } else {\n        peg$currPos = s0;\n        s0 = peg$c2;\n      }\n      if (s0 === peg$FAILED) {\n        s0 = peg$currPos;\n        s1 = peg$parse_();\n        if (s1 !== peg$FAILED) {\n          if (input.substr(peg$currPos, 13) === peg$c14) {\n            s2 = peg$c14;\n            peg$currPos += 13;\n          } else {\n            s2 = peg$FAILED;\n            if (peg$silentFails === 0) { peg$fail(peg$c15); }\n          }\n          if (s2 !== peg$FAILED) {\n            s3 = peg$parse_();\n            if (s3 !== peg$FAILED) {\n              if (input.charCodeAt(peg$currPos) === 44) {\n                s4 = peg$c6;\n                peg$currPos++;\n              } else {\n                s4 = peg$FAILED;\n                if (peg$silentFails === 0) { peg$fail(peg$c7); }\n              }\n              if (s4 !== peg$FAILED) {\n                s5 = peg$parse_();\n                if (s5 !== peg$FAILED) {\n                  s6 = peg$parsepluralFormatPattern();\n                  if (s6 !== peg$FAILED) {\n                    s7 = peg$parse_();\n                    if (s7 !== peg$FAILED) {\n                      peg$reportedPos = s0;\n                      s1 = peg$c13(s2, s6);\n                      s0 = s1;\n                    } else {\n                      peg$currPos = s0;\n                      s0 = peg$c2;\n                    }\n                  } else {\n                    peg$currPos = s0;\n                    s0 = peg$c2;\n                  }\n                } else {\n                  peg$currPos = s0;\n                  s0 = peg$c2;\n                }\n              } else {\n                peg$currPos = s0;\n                s0 = peg$c2;\n              }\n            } else {\n              peg$currPos = s0;\n              s0 = peg$c2;\n            }\n          } else {\n            peg$currPos = s0;\n            s0 = peg$c2;\n          }\n        } else {\n          peg$currPos = s0;\n          s0 = peg$c2;\n        }\n        if (s0 === peg$FAILED) {\n          s0 = peg$currPos;\n          s1 = peg$parse_();\n          if (s1 !== peg$FAILED) {\n            if (input.substr(peg$currPos, 6) === peg$c16) {\n              s2 = peg$c16;\n              peg$currPos += 6;\n            } else {\n              s2 = peg$FAILED;\n              if (peg$silentFails === 0) { peg$fail(peg$c17); }\n            }\n            if (s2 !== peg$FAILED) {\n              s3 = peg$parse_();\n              if (s3 !== peg$FAILED) {\n                if (input.charCodeAt(peg$currPos) === 44) {\n                  s4 = peg$c6;\n                  peg$currPos++;\n                } else {\n                  s4 = peg$FAILED;\n                  if (peg$silentFails === 0) { peg$fail(peg$c7); }\n                }\n                if (s4 !== peg$FAILED) {\n                  s5 = peg$parse_();\n                  if (s5 !== peg$FAILED) {\n                    s6 = peg$parseselectFormatPattern();\n                    if (s6 !== peg$FAILED) {\n                      s7 = peg$parse_();\n                      if (s7 !== peg$FAILED) {\n                        peg$reportedPos = s0;\n                        s1 = peg$c13(s2, s6);\n                        s0 = s1;\n                      } else {\n                        peg$currPos = s0;\n                        s0 = peg$c2;\n                      }\n                    } else {\n                      peg$currPos = s0;\n                      s0 = peg$c2;\n                    }\n                  } else {\n                    peg$currPos = s0;\n                    s0 = peg$c2;\n                  }\n                } else {\n                  peg$currPos = s0;\n                  s0 = peg$c2;\n                }\n              } else {\n                peg$currPos = s0;\n                s0 = peg$c2;\n              }\n            } else {\n              peg$currPos = s0;\n              s0 = peg$c2;\n            }\n          } else {\n            peg$currPos = s0;\n            s0 = peg$c2;\n          }\n          if (s0 === peg$FAILED) {\n            s0 = peg$currPos;\n            s1 = peg$parse_();\n            if (s1 !== peg$FAILED) {\n              s2 = peg$parseid();\n              if (s2 !== peg$FAILED) {\n                s3 = [];\n                s4 = peg$parseargStylePattern();\n                while (s4 !== peg$FAILED) {\n                  s3.push(s4);\n                  s4 = peg$parseargStylePattern();\n                }\n                if (s3 !== peg$FAILED) {\n                  peg$reportedPos = s0;\n                  s1 = peg$c18(s2, s3);\n                  s0 = s1;\n                } else {\n                  peg$currPos = s0;\n                  s0 = peg$c2;\n                }\n              } else {\n                peg$currPos = s0;\n                s0 = peg$c2;\n              }\n            } else {\n              peg$currPos = s0;\n              s0 = peg$c2;\n            }\n          }\n        }\n      }\n\n      return s0;\n    }\n\n    function peg$parsepluralFormatPattern() {\n      var s0, s1, s2, s3;\n\n      s0 = peg$currPos;\n      s1 = peg$parseoffsetPattern();\n      if (s1 === peg$FAILED) {\n        s1 = peg$c5;\n      }\n      if (s1 !== peg$FAILED) {\n        s2 = [];\n        s3 = peg$parsepluralForm();\n        if (s3 !== peg$FAILED) {\n          while (s3 !== peg$FAILED) {\n            s2.push(s3);\n            s3 = peg$parsepluralForm();\n          }\n        } else {\n          s2 = peg$c2;\n        }\n        if (s2 !== peg$FAILED) {\n          peg$reportedPos = s0;\n          s1 = peg$c19(s1, s2);\n          s0 = s1;\n        } else {\n          peg$currPos = s0;\n          s0 = peg$c2;\n        }\n      } else {\n        peg$currPos = s0;\n        s0 = peg$c2;\n      }\n\n      return s0;\n    }\n\n    function peg$parseoffsetPattern() {\n      var s0, s1, s2, s3, s4, s5, s6, s7;\n\n      s0 = peg$currPos;\n      s1 = peg$parse_();\n      if (s1 !== peg$FAILED) {\n        if (input.substr(peg$currPos, 6) === peg$c20) {\n          s2 = peg$c20;\n          peg$currPos += 6;\n        } else {\n          s2 = peg$FAILED;\n          if (peg$silentFails === 0) { peg$fail(peg$c21); }\n        }\n        if (s2 !== peg$FAILED) {\n          s3 = peg$parse_();\n          if (s3 !== peg$FAILED) {\n            if (input.charCodeAt(peg$currPos) === 58) {\n              s4 = peg$c22;\n              peg$currPos++;\n            } else {\n              s4 = peg$FAILED;\n              if (peg$silentFails === 0) { peg$fail(peg$c23); }\n            }\n            if (s4 !== peg$FAILED) {\n              s5 = peg$parse_();\n              if (s5 !== peg$FAILED) {\n                s6 = peg$parsedigits();\n                if (s6 !== peg$FAILED) {\n                  s7 = peg$parse_();\n                  if (s7 !== peg$FAILED) {\n                    peg$reportedPos = s0;\n                    s1 = peg$c24(s6);\n                    s0 = s1;\n                  } else {\n                    peg$currPos = s0;\n                    s0 = peg$c2;\n                  }\n                } else {\n                  peg$currPos = s0;\n                  s0 = peg$c2;\n                }\n              } else {\n                peg$currPos = s0;\n                s0 = peg$c2;\n              }\n            } else {\n              peg$currPos = s0;\n              s0 = peg$c2;\n            }\n          } else {\n            peg$currPos = s0;\n            s0 = peg$c2;\n          }\n        } else {\n          peg$currPos = s0;\n          s0 = peg$c2;\n        }\n      } else {\n        peg$currPos = s0;\n        s0 = peg$c2;\n      }\n\n      return s0;\n    }\n\n    function peg$parsepluralForm() {\n      var s0, s1, s2, s3, s4, s5, s6, s7, s8;\n\n      s0 = peg$currPos;\n      s1 = peg$parse_();\n      if (s1 !== peg$FAILED) {\n        s2 = peg$parsepluralKey();\n        if (s2 !== peg$FAILED) {\n          s3 = peg$parse_();\n          if (s3 !== peg$FAILED) {\n            if (input.charCodeAt(peg$currPos) === 123) {\n              s4 = peg$c3;\n              peg$currPos++;\n            } else {\n              s4 = peg$FAILED;\n              if (peg$silentFails === 0) { peg$fail(peg$c4); }\n            }\n            if (s4 !== peg$FAILED) {\n              s5 = peg$parse_();\n              if (s5 !== peg$FAILED) {\n                s6 = peg$parsemessageFormatPattern();\n                if (s6 !== peg$FAILED) {\n                  s7 = peg$parse_();\n                  if (s7 !== peg$FAILED) {\n                    if (input.charCodeAt(peg$currPos) === 125) {\n                      s8 = peg$c8;\n                      peg$currPos++;\n                    } else {\n                      s8 = peg$FAILED;\n                      if (peg$silentFails === 0) { peg$fail(peg$c9); }\n                    }\n                    if (s8 !== peg$FAILED) {\n                      peg$reportedPos = s0;\n                      s1 = peg$c25(s2, s6);\n                      s0 = s1;\n                    } else {\n                      peg$currPos = s0;\n                      s0 = peg$c2;\n                    }\n                  } else {\n                    peg$currPos = s0;\n                    s0 = peg$c2;\n                  }\n                } else {\n                  peg$currPos = s0;\n                  s0 = peg$c2;\n                }\n              } else {\n                peg$currPos = s0;\n                s0 = peg$c2;\n              }\n            } else {\n              peg$currPos = s0;\n              s0 = peg$c2;\n            }\n          } else {\n            peg$currPos = s0;\n            s0 = peg$c2;\n          }\n        } else {\n          peg$currPos = s0;\n          s0 = peg$c2;\n        }\n      } else {\n        peg$currPos = s0;\n        s0 = peg$c2;\n      }\n\n      return s0;\n    }\n\n    function peg$parsepluralKey() {\n      var s0, s1, s2;\n\n      s0 = peg$currPos;\n      s1 = peg$parseid();\n      if (s1 !== peg$FAILED) {\n        peg$reportedPos = s0;\n        s1 = peg$c26(s1);\n      }\n      s0 = s1;\n      if (s0 === peg$FAILED) {\n        s0 = peg$currPos;\n        if (input.charCodeAt(peg$currPos) === 61) {\n          s1 = peg$c27;\n          peg$currPos++;\n        } else {\n          s1 = peg$FAILED;\n          if (peg$silentFails === 0) { peg$fail(peg$c28); }\n        }\n        if (s1 !== peg$FAILED) {\n          s2 = peg$parsedigits();\n          if (s2 !== peg$FAILED) {\n            peg$reportedPos = s0;\n            s1 = peg$c24(s2);\n            s0 = s1;\n          } else {\n            peg$currPos = s0;\n            s0 = peg$c2;\n          }\n        } else {\n          peg$currPos = s0;\n          s0 = peg$c2;\n        }\n      }\n\n      return s0;\n    }\n\n    function peg$parseselectFormatPattern() {\n      var s0, s1, s2;\n\n      s0 = peg$currPos;\n      s1 = [];\n      s2 = peg$parseselectForm();\n      if (s2 !== peg$FAILED) {\n        while (s2 !== peg$FAILED) {\n          s1.push(s2);\n          s2 = peg$parseselectForm();\n        }\n      } else {\n        s1 = peg$c2;\n      }\n      if (s1 !== peg$FAILED) {\n        peg$reportedPos = s0;\n        s1 = peg$c29(s1);\n      }\n      s0 = s1;\n\n      return s0;\n    }\n\n    function peg$parseselectForm() {\n      var s0, s1, s2, s3, s4, s5, s6, s7, s8;\n\n      s0 = peg$currPos;\n      s1 = peg$parse_();\n      if (s1 !== peg$FAILED) {\n        s2 = peg$parseid();\n        if (s2 !== peg$FAILED) {\n          s3 = peg$parse_();\n          if (s3 !== peg$FAILED) {\n            if (input.charCodeAt(peg$currPos) === 123) {\n              s4 = peg$c3;\n              peg$currPos++;\n            } else {\n              s4 = peg$FAILED;\n              if (peg$silentFails === 0) { peg$fail(peg$c4); }\n            }\n            if (s4 !== peg$FAILED) {\n              s5 = peg$parse_();\n              if (s5 !== peg$FAILED) {\n                s6 = peg$parsemessageFormatPattern();\n                if (s6 !== peg$FAILED) {\n                  s7 = peg$parse_();\n                  if (s7 !== peg$FAILED) {\n                    if (input.charCodeAt(peg$currPos) === 125) {\n                      s8 = peg$c8;\n                      peg$currPos++;\n                    } else {\n                      s8 = peg$FAILED;\n                      if (peg$silentFails === 0) { peg$fail(peg$c9); }\n                    }\n                    if (s8 !== peg$FAILED) {\n                      peg$reportedPos = s0;\n                      s1 = peg$c25(s2, s6);\n                      s0 = s1;\n                    } else {\n                      peg$currPos = s0;\n                      s0 = peg$c2;\n                    }\n                  } else {\n                    peg$currPos = s0;\n                    s0 = peg$c2;\n                  }\n                } else {\n                  peg$currPos = s0;\n                  s0 = peg$c2;\n                }\n              } else {\n                peg$currPos = s0;\n                s0 = peg$c2;\n              }\n            } else {\n              peg$currPos = s0;\n              s0 = peg$c2;\n            }\n          } else {\n            peg$currPos = s0;\n            s0 = peg$c2;\n          }\n        } else {\n          peg$currPos = s0;\n          s0 = peg$c2;\n        }\n      } else {\n        peg$currPos = s0;\n        s0 = peg$c2;\n      }\n\n      return s0;\n    }\n\n    function peg$parseargStylePattern() {\n      var s0, s1, s2, s3, s4, s5;\n\n      s0 = peg$currPos;\n      s1 = peg$parse_();\n      if (s1 !== peg$FAILED) {\n        if (input.charCodeAt(peg$currPos) === 44) {\n          s2 = peg$c6;\n          peg$currPos++;\n        } else {\n          s2 = peg$FAILED;\n          if (peg$silentFails === 0) { peg$fail(peg$c7); }\n        }\n        if (s2 !== peg$FAILED) {\n          s3 = peg$parse_();\n          if (s3 !== peg$FAILED) {\n            s4 = peg$parseid();\n            if (s4 !== peg$FAILED) {\n              s5 = peg$parse_();\n              if (s5 !== peg$FAILED) {\n                peg$reportedPos = s0;\n                s1 = peg$c30(s4);\n                s0 = s1;\n              } else {\n                peg$currPos = s0;\n                s0 = peg$c2;\n              }\n            } else {\n              peg$currPos = s0;\n              s0 = peg$c2;\n            }\n          } else {\n            peg$currPos = s0;\n            s0 = peg$c2;\n          }\n        } else {\n          peg$currPos = s0;\n          s0 = peg$c2;\n        }\n      } else {\n        peg$currPos = s0;\n        s0 = peg$c2;\n      }\n\n      return s0;\n    }\n\n    function peg$parseoctothorpe() {\n      var s0, s1;\n\n      s0 = peg$currPos;\n      if (input.charCodeAt(peg$currPos) === 35) {\n        s1 = peg$c31;\n        peg$currPos++;\n      } else {\n        s1 = peg$FAILED;\n        if (peg$silentFails === 0) { peg$fail(peg$c32); }\n      }\n      if (s1 !== peg$FAILED) {\n        peg$reportedPos = s0;\n        s1 = peg$c33();\n      }\n      s0 = s1;\n\n      return s0;\n    }\n\n    function peg$parsestring() {\n      var s0, s1, s2;\n\n      s0 = peg$currPos;\n      s1 = [];\n      s2 = peg$parsechars();\n      if (s2 === peg$FAILED) {\n        s2 = peg$parsewhitespace();\n      }\n      if (s2 !== peg$FAILED) {\n        while (s2 !== peg$FAILED) {\n          s1.push(s2);\n          s2 = peg$parsechars();\n          if (s2 === peg$FAILED) {\n            s2 = peg$parsewhitespace();\n          }\n        }\n      } else {\n        s1 = peg$c2;\n      }\n      if (s1 !== peg$FAILED) {\n        peg$reportedPos = s0;\n        s1 = peg$c34(s1);\n      }\n      s0 = s1;\n\n      return s0;\n    }\n\n    function peg$parseid() {\n      var s0, s1, s2, s3, s4, s5, s6;\n\n      peg$silentFails++;\n      s0 = peg$currPos;\n      s1 = peg$parse_();\n      if (s1 !== peg$FAILED) {\n        s2 = peg$currPos;\n        s3 = peg$currPos;\n        if (peg$c36.test(input.charAt(peg$currPos))) {\n          s4 = input.charAt(peg$currPos);\n          peg$currPos++;\n        } else {\n          s4 = peg$FAILED;\n          if (peg$silentFails === 0) { peg$fail(peg$c37); }\n        }\n        if (s4 !== peg$FAILED) {\n          s5 = [];\n          if (peg$c38.test(input.charAt(peg$currPos))) {\n            s6 = input.charAt(peg$currPos);\n            peg$currPos++;\n          } else {\n            s6 = peg$FAILED;\n            if (peg$silentFails === 0) { peg$fail(peg$c39); }\n          }\n          while (s6 !== peg$FAILED) {\n            s5.push(s6);\n            if (peg$c38.test(input.charAt(peg$currPos))) {\n              s6 = input.charAt(peg$currPos);\n              peg$currPos++;\n            } else {\n              s6 = peg$FAILED;\n              if (peg$silentFails === 0) { peg$fail(peg$c39); }\n            }\n          }\n          if (s5 !== peg$FAILED) {\n            s4 = [s4, s5];\n            s3 = s4;\n          } else {\n            peg$currPos = s3;\n            s3 = peg$c2;\n          }\n        } else {\n          peg$currPos = s3;\n          s3 = peg$c2;\n        }\n        if (s3 !== peg$FAILED) {\n          s3 = input.substring(s2, peg$currPos);\n        }\n        s2 = s3;\n        if (s2 !== peg$FAILED) {\n          s3 = peg$parse_();\n          if (s3 !== peg$FAILED) {\n            peg$reportedPos = s0;\n            s1 = peg$c40(s2);\n            s0 = s1;\n          } else {\n            peg$currPos = s0;\n            s0 = peg$c2;\n          }\n        } else {\n          peg$currPos = s0;\n          s0 = peg$c2;\n        }\n      } else {\n        peg$currPos = s0;\n        s0 = peg$c2;\n      }\n      peg$silentFails--;\n      if (s0 === peg$FAILED) {\n        s1 = peg$FAILED;\n        if (peg$silentFails === 0) { peg$fail(peg$c35); }\n      }\n\n      return s0;\n    }\n\n    function peg$parsechars() {\n      var s0, s1, s2;\n\n      s0 = peg$currPos;\n      s1 = [];\n      s2 = peg$parsechar();\n      if (s2 !== peg$FAILED) {\n        while (s2 !== peg$FAILED) {\n          s1.push(s2);\n          s2 = peg$parsechar();\n        }\n      } else {\n        s1 = peg$c2;\n      }\n      if (s1 !== peg$FAILED) {\n        peg$reportedPos = s0;\n        s1 = peg$c41(s1);\n      }\n      s0 = s1;\n\n      return s0;\n    }\n\n    function peg$parsechar() {\n      var s0, s1, s2, s3, s4, s5;\n\n      s0 = peg$currPos;\n      if (peg$c42.test(input.charAt(peg$currPos))) {\n        s1 = input.charAt(peg$currPos);\n        peg$currPos++;\n      } else {\n        s1 = peg$FAILED;\n        if (peg$silentFails === 0) { peg$fail(peg$c43); }\n      }\n      if (s1 !== peg$FAILED) {\n        peg$reportedPos = s0;\n        s1 = peg$c44(s1);\n      }\n      s0 = s1;\n      if (s0 === peg$FAILED) {\n        s0 = peg$currPos;\n        if (input.substr(peg$currPos, 2) === peg$c45) {\n          s1 = peg$c45;\n          peg$currPos += 2;\n        } else {\n          s1 = peg$FAILED;\n          if (peg$silentFails === 0) { peg$fail(peg$c46); }\n        }\n        if (s1 !== peg$FAILED) {\n          peg$reportedPos = s0;\n          s1 = peg$c47();\n        }\n        s0 = s1;\n        if (s0 === peg$FAILED) {\n          s0 = peg$currPos;\n          if (input.substr(peg$currPos, 2) === peg$c48) {\n            s1 = peg$c48;\n            peg$currPos += 2;\n          } else {\n            s1 = peg$FAILED;\n            if (peg$silentFails === 0) { peg$fail(peg$c49); }\n          }\n          if (s1 !== peg$FAILED) {\n            peg$reportedPos = s0;\n            s1 = peg$c50();\n          }\n          s0 = s1;\n          if (s0 === peg$FAILED) {\n            s0 = peg$currPos;\n            if (input.substr(peg$currPos, 2) === peg$c51) {\n              s1 = peg$c51;\n              peg$currPos += 2;\n            } else {\n              s1 = peg$FAILED;\n              if (peg$silentFails === 0) { peg$fail(peg$c52); }\n            }\n            if (s1 !== peg$FAILED) {\n              peg$reportedPos = s0;\n              s1 = peg$c53();\n            }\n            s0 = s1;\n            if (s0 === peg$FAILED) {\n              s0 = peg$currPos;\n              if (input.substr(peg$currPos, 2) === peg$c54) {\n                s1 = peg$c54;\n                peg$currPos += 2;\n              } else {\n                s1 = peg$FAILED;\n                if (peg$silentFails === 0) { peg$fail(peg$c55); }\n              }\n              if (s1 !== peg$FAILED) {\n                peg$reportedPos = s0;\n                s1 = peg$c56();\n              }\n              s0 = s1;\n              if (s0 === peg$FAILED) {\n                s0 = peg$currPos;\n                if (input.substr(peg$currPos, 2) === peg$c57) {\n                  s1 = peg$c57;\n                  peg$currPos += 2;\n                } else {\n                  s1 = peg$FAILED;\n                  if (peg$silentFails === 0) { peg$fail(peg$c58); }\n                }\n                if (s1 !== peg$FAILED) {\n                  s2 = peg$parsehexDigit();\n                  if (s2 !== peg$FAILED) {\n                    s3 = peg$parsehexDigit();\n                    if (s3 !== peg$FAILED) {\n                      s4 = peg$parsehexDigit();\n                      if (s4 !== peg$FAILED) {\n                        s5 = peg$parsehexDigit();\n                        if (s5 !== peg$FAILED) {\n                          peg$reportedPos = s0;\n                          s1 = peg$c59(s2, s3, s4, s5);\n                          s0 = s1;\n                        } else {\n                          peg$currPos = s0;\n                          s0 = peg$c2;\n                        }\n                      } else {\n                        peg$currPos = s0;\n                        s0 = peg$c2;\n                      }\n                    } else {\n                      peg$currPos = s0;\n                      s0 = peg$c2;\n                    }\n                  } else {\n                    peg$currPos = s0;\n                    s0 = peg$c2;\n                  }\n                } else {\n                  peg$currPos = s0;\n                  s0 = peg$c2;\n                }\n              }\n            }\n          }\n        }\n      }\n\n      return s0;\n    }\n\n    function peg$parsedigits() {\n      var s0, s1, s2;\n\n      s0 = peg$currPos;\n      s1 = [];\n      if (peg$c60.test(input.charAt(peg$currPos))) {\n        s2 = input.charAt(peg$currPos);\n        peg$currPos++;\n      } else {\n        s2 = peg$FAILED;\n        if (peg$silentFails === 0) { peg$fail(peg$c61); }\n      }\n      if (s2 !== peg$FAILED) {\n        while (s2 !== peg$FAILED) {\n          s1.push(s2);\n          if (peg$c60.test(input.charAt(peg$currPos))) {\n            s2 = input.charAt(peg$currPos);\n            peg$currPos++;\n          } else {\n            s2 = peg$FAILED;\n            if (peg$silentFails === 0) { peg$fail(peg$c61); }\n          }\n        }\n      } else {\n        s1 = peg$c2;\n      }\n      if (s1 !== peg$FAILED) {\n        peg$reportedPos = s0;\n        s1 = peg$c62(s1);\n      }\n      s0 = s1;\n\n      return s0;\n    }\n\n    function peg$parsehexDigit() {\n      var s0;\n\n      if (peg$c63.test(input.charAt(peg$currPos))) {\n        s0 = input.charAt(peg$currPos);\n        peg$currPos++;\n      } else {\n        s0 = peg$FAILED;\n        if (peg$silentFails === 0) { peg$fail(peg$c64); }\n      }\n\n      return s0;\n    }\n\n    function peg$parse_() {\n      var s0, s1, s2;\n\n      peg$silentFails++;\n      s0 = peg$currPos;\n      s1 = [];\n      s2 = peg$parsewhitespace();\n      while (s2 !== peg$FAILED) {\n        s1.push(s2);\n        s2 = peg$parsewhitespace();\n      }\n      if (s1 !== peg$FAILED) {\n        peg$reportedPos = s0;\n        s1 = peg$c66(s1);\n      }\n      s0 = s1;\n      peg$silentFails--;\n      if (s0 === peg$FAILED) {\n        s1 = peg$FAILED;\n        if (peg$silentFails === 0) { peg$fail(peg$c65); }\n      }\n\n      return s0;\n    }\n\n    function peg$parsewhitespace() {\n      var s0;\n\n      if (peg$c67.test(input.charAt(peg$currPos))) {\n        s0 = input.charAt(peg$currPos);\n        peg$currPos++;\n      } else {\n        s0 = peg$FAILED;\n        if (peg$silentFails === 0) { peg$fail(peg$c68); }\n      }\n\n      return s0;\n    }\n\n    peg$result = peg$startRuleFunction();\n\n    if (peg$result !== peg$FAILED && peg$currPos === input.length) {\n      return peg$result;\n    } else {\n      if (peg$result !== peg$FAILED && peg$currPos < input.length) {\n        peg$fail({ type: \"end\", description: \"end of input\" });\n      }\n\n      throw peg$buildException(null, peg$maxFailExpected, peg$maxFailPos);\n    }\n  }\n\n  return {\n    SyntaxError: SyntaxError,\n    parse:       parse\n  };\n}()).parse;\n\n\n/** @file messageformat.js - ICU PluralFormat + SelectFormat for JavaScript\n *  @author Alex Sexton - @SlexAxton\n *  @version 0.3.0-1\n *  @copyright 2012-2015 Alex Sexton, Eemeli Aro, and Contributors\n *  @license To use or fork, MIT. To contribute back, Dojo CLA  */\n\n\n/** Utility function for quoting an Object's key value iff required\n *  @private  */\nfunction propname(key, obj) {\n  if (/^[A-Z_$][0-9A-Z_$]*$/i.test(key)) {\n    return obj ? obj + '.' + key : key;\n  } else {\n    var jkey = JSON.stringify(key);\n    return obj ? obj + '[' + jkey + ']' : jkey;\n  }\n};\n\n\n/** Create a new message formatter\n *\n *  @class\n *  @global\n *  @param {string|string[]} [locale=\"en\"] - The locale to use, with fallbacks\n *  @param {function} [pluralFunc] - Optional custom pluralization function\n *  @param {function[]} [formatters] - Optional custom formatting functions  */\nfunction MessageFormat(locale, pluralFunc, formatters) {\n  this.lc = [locale];  \n  this.runtime.pluralFuncs = {};\n  this.runtime.pluralFuncs[this.lc[0]] = pluralFunc;\n  this.runtime.fmt = {};\n  if (formatters) for (var f in formatters) {\n    this.runtime.fmt[f] = formatters[f];\n  }\n}\n\n\n\n\n/** Parse an input string to its AST\n *\n *  Precompiled from `lib/messageformat-parser.pegjs` by\n *  {@link http://pegjs.org/ PEG.js}. Included in MessageFormat object\n *  to enable testing.\n *\n *  @private  */\n\n\n\n/** Pluralization functions from\n *  {@link http://github.com/eemeli/make-plural.js make-plural}\n *\n *  @memberof MessageFormat\n *  @type Object.<string,function>  */\nMessageFormat.plurals = {};\n\n\n/** Default number formatting functions in the style of ICU's\n *  {@link http://icu-project.org/apiref/icu4j/com/ibm/icu/text/MessageFormat.html simpleArg syntax}\n *  implemented using the\n *  {@link https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Intl Intl}\n *  object defined by ECMA-402.\n *\n *  **Note**: Intl is not defined in default Node until 0.11.15 / 0.12.0, so\n *  earlier versions require a {@link https://www.npmjs.com/package/intl polyfill}.\n *  Therefore {@link MessageFormat.withIntlSupport} needs to be true for these\n *  functions to be available for inclusion in the output.\n *\n *  @see MessageFormat#setIntlSupport\n *\n *  @namespace\n *  @memberof MessageFormat\n *  @property {function} number - Represent a number as an integer, percent or currency value\n *  @property {function} date - Represent a date as a full/long/default/short string\n *  @property {function} time - Represent a time as a full/long/default/short string\n *\n *  @example\n *  > var MessageFormat = require('messageformat');\n *  > var mf = (new MessageFormat('en')).setIntlSupport(true);\n *  > mf.currency = 'EUR';\n *  > var mfunc = mf.compile(\"The total is {V,number,currency}.\");\n *  > mfunc({V:5.5})\n *  \"The total is €5.50.\"\n *\n *  @example\n *  > var MessageFormat = require('messageformat');\n *  > var mf = new MessageFormat('en', null, {number: MessageFormat.number});\n *  > mf.currency = 'EUR';\n *  > var mfunc = mf.compile(\"The total is {V,number,currency}.\");\n *  > mfunc({V:5.5})\n *  \"The total is €5.50.\"  */\nMessageFormat.formatters = {};\n\n/** Enable or disable support for the default formatters, which require the\n *  `Intl` object. Note that this can't be autodetected, as the environment\n *  in which the formatted text is compiled into Javascript functions is not\n *  necessarily the same environment in which they will get executed.\n *\n *  @see MessageFormat.formatters\n *\n *  @memberof MessageFormat\n *  @param {boolean} [enable=true]\n *  @returns {Object} The MessageFormat instance, to allow for chaining\n *  @example\n *  > var Intl = require('intl');\n *  > var MessageFormat = require('messageformat');\n *  > var mf = (new MessageFormat('en')).setIntlSupport(true);\n *  > mf.currency = 'EUR';\n *  > mf.compile(\"The total is {V,number,currency}.\")({V:5.5});\n *  \"The total is €5.50.\"  */\n\n\n\n/** A set of utility functions that are called by the compiled Javascript\n *  functions, these are included locally in the output of {@link\n *  MessageFormat#compile compile()}.\n *\n *  @namespace\n *  @memberof MessageFormat  */\nMessageFormat.prototype.runtime = {\n\n  /** Utility function for `#` in plural rules\n   *\n   *  @param {number} value - The value to operate on\n   *  @param {number} [offset=0] - An optional offset, set by the surrounding context  */\n  number: function(value, offset) {\n    if (isNaN(value)) throw new Error(\"'\" + value + \"' isn't a number.\");\n    return value - (offset || 0);\n  },\n\n  /** Utility function for `{N, plural|selectordinal, ...}`\n   *\n   *  @param {number} value - The key to use to find a pluralization rule\n   *  @param {number} offset - An offset to apply to `value`\n   *  @param {function} lcfunc - A locale function from `pluralFuncs`\n   *  @param {Object.<string,string>} data - The object from which results are looked up\n   *  @param {?boolean} isOrdinal - If true, use ordinal rather than cardinal rules\n   *  @returns {string} The result of the pluralization  */\n  plural: function(value, offset, lcfunc, data, isOrdinal) {\n    if ({}.hasOwnProperty.call(data, value)) return data[value]();\n    if (offset) value -= offset;\n    var key = lcfunc(value, isOrdinal);\n    if (key in data) return data[key]();\n    return data.other();\n  },\n\n  /** Utility function for `{N, select, ...}`\n   *\n   *  @param {number} value - The key to use to find a selection\n   *  @param {Object.<string,string>} data - The object from which results are looked up\n   *  @returns {string} The result of the select statement  */\n  select: function(value, data) {\n    if ({}.hasOwnProperty.call(data, value)) return data[value]();\n    return data.other()\n  },\n\n  /** Pluralization functions included in compiled output\n   *  @instance\n   *  @type Object.<string,function>  */\n  pluralFuncs: {},\n\n  /** Custom formatting functions called by `{var, fn[, args]*}` syntax\n   *\n   *  For examples, see {@link MessageFormat.formatters}\n   *\n   *  @instance\n   *  @see MessageFormat.formatters\n   *  @type Object.<string,function>  */\n  fmt: {},\n\n  /** Custom stringifier to clean up browser inconsistencies\n   *  @instance  */\n  toString: function () {\n    var _stringify = function(o, level) {\n      if (typeof o != 'object') {\n        var funcStr = o.toString().replace(/^(function )\\w*/, '$1');\n        var indent = /([ \\t]*)\\S.*$/.exec(funcStr);\n        return indent ? funcStr.replace(new RegExp('^' + indent[1], 'mg'), '') : funcStr;\n      }\n      var s = [];\n      for (var i in o) if (i != 'toString') {\n        if (level == 0) s.push('var ' + i + ' = ' + _stringify(o[i], level + 1) + ';\\n');\n        else s.push(propname(i) + ': ' + _stringify(o[i], level + 1));\n      }\n      if (level == 0) return s.join('');\n      if (s.length == 0) return '{}';\n      var indent = '  '; while (--level) indent += '  ';\n      return '{\\n' + s.join(',\\n').replace(/^/gm, indent) + '\\n}';\n    };\n    return _stringify(this, 0);\n  }\n};\n\n\n/** Recursively map an AST to its resulting string\n *\n *  @memberof MessageFormat\n *\n *  @param ast - the Ast node for which the JS code should be generated\n *\n *  @private  */\nMessageFormat.prototype._precompile = function(ast, data) {\n  data = data || { keys: {}, offset: {} };\n  var r = [], i, tmp, args = [];\n\n  switch ( ast.type ) {\n    case 'messageFormatPattern':\n      for ( i = 0; i < ast.statements.length; ++i ) {\n        r.push(this._precompile( ast.statements[i], data ));\n      }\n      tmp = r.join(' + ') || '\"\"';\n      return data.pf_count ? tmp : 'function(d) { return ' + tmp + '; }';\n\n    case 'messageFormatElement':\n      data.pf_count = data.pf_count || 0;\n      if ( ast.output ) {\n        return propname(ast.argumentIndex, 'd');\n      }\n      else {\n        data.keys[data.pf_count] = ast.argumentIndex;\n        return this._precompile( ast.elementFormat, data );\n      }\n      return '';\n\n    case 'elementFormat':\n      args = [ propname(data.keys[data.pf_count], 'd') ];\n      switch (ast.key) {\n        case 'select':\n          args.push(this._precompile(ast.val, data));\n          return 'select(' + args.join(', ') + ')';\n        case 'selectordinal':\n          args = args.concat([ 0, propname(this.lc[0], 'pluralFuncs'), this._precompile(ast.val, data), 1 ]);\n          return 'plural(' + args.join(', ') + ')';\n        case 'plural':\n          data.offset[data.pf_count || 0] = ast.val.offset || 0;\n          args = args.concat([ data.offset[data.pf_count] || 0, propname(this.lc[0], 'pluralFuncs'), this._precompile(ast.val, data) ]);\n          return 'plural(' + args.join(', ') + ')';\n        default:\n          if (this.withIntlSupport && !(ast.key in this.runtime.fmt) && (ast.key in MessageFormat.formatters)) {\n            tmp = MessageFormat.formatters[ast.key];\n            this.runtime.fmt[ast.key] = (typeof tmp(this) == 'function') ? tmp(this) : tmp;\n          }\n          args.push(JSON.stringify(this.lc));\n          if (ast.val && ast.val.length) args.push(JSON.stringify(ast.val.length == 1 ? ast.val[0] : ast.val));\n          return 'fmt.' + ast.key + '(' + args.join(', ') + ')';\n      }\n\n    case 'pluralFormatPattern':\n    case 'selectFormatPattern':\n      data.pf_count = data.pf_count || 0;\n      if (ast.type == 'selectFormatPattern') data.offset[data.pf_count] = 0;\n      var needOther = true;\n      for (i = 0; i < ast.pluralForms.length; ++i) {\n        var key = ast.pluralForms[i].key;\n        if (key === 'other') needOther = false;\n        var data_copy = JSON.parse(JSON.stringify(data));\n        data_copy.pf_count++;\n        r.push(propname(key) + ': function() { return ' + this._precompile(ast.pluralForms[i].val, data_copy) + ';}');\n      }\n      if (needOther) throw new Error(\"No 'other' form found in \" + ast.type + \" \" + data.pf_count);\n      return '{ ' + r.join(', ') + ' }';\n\n    case 'string':\n      return JSON.stringify(ast.val || \"\");\n\n    case 'octothorpe':\n      if (!data.pf_count) return '\"#\"';\n      args = [ propname(data.keys[data.pf_count-1], 'd') ];\n      if (data.offset[data.pf_count-1]) args.push(data.offset[data.pf_count-1]);\n      return 'number(' + args.join(', ') + ')';\n\n    default:\n      throw new Error( 'Bad AST type: ' + ast.type );\n  }\n};\n\n/** Compile messages into an executable function with clean string\n *  representation.\n *\n *  If `messages` is a single string including ICU MessageFormat declarations,\n *  `opt` is ignored and the returned function takes a single Object parameter\n *  `d` representing each of the input's defined variables. The returned\n *  function will be defined in a local scope that includes all the required\n *  runtime variables.\n *\n *  If `messages` is a map of keys to strings, or a map of namespace keys to\n *  such key/string maps, the returned function will fill the specified global\n *  with javascript functions matching the structure of the input. In such use,\n *  the output of `compile()` is expected to be serialized using `.toString()`,\n *  and will include definitions of the runtime functions. If `opt.global` is\n *  null, calling the output function will return the object itself.\n *\n *  Together, the input parameters should match the following patterns:\n *  ```js\n *  messages = \"string\" || { key0: \"string0\", key1: \"string1\", ... } || {\n *    ns0: { key0: \"string0\", key1: \"string1\", ...  },\n *    ns1: { key0: \"string0\", key1: \"string1\", ...  },\n *    ...\n *  }\n *\n *  opt = null || {\n *    locale: null || {\n *      ns0: \"lc0\" || [ \"lc0\", ... ],\n *      ns1: \"lc1\" || [ \"lc1\", ... ],\n *      ...\n *    },\n *    global: null || \"module.exports\" || \"exports\" || \"i18n\" || ...\n *  }\n *  ```\n *\n *  @memberof MessageFormat\n *  @param {string|Object}\n *      messages - The input message(s) to be compiled, in ICU MessageFormat\n *  @param {Object} [opt={}] - Options controlling output for non-simple intput\n *  @param {Object} [opt.locale] - The locales to use for the messages, with a\n *      structure matching that of `messages`\n *  @param {string} [opt.global=\"\"] - The global variable that the output\n *      function should use, or a null string for none. \"exports\" and\n *      \"module.exports\" are recognised as special cases.\n *  @returns {function} The first match found for the given locale(s)\n *\n *  @example\n * > var MessageFormat = require('messageformat'),\n * ...   mf = new MessageFormat('en'),\n * ...   mfunc0 = mf.compile('A {TYPE} example.');\n * > mfunc0({TYPE:'simple'})\n * 'A simple example.'\n * > mfunc0.toString()\n * 'function (d) { return \"A \" + d.TYPE + \" example.\"; }'\n *\n *  @example\n * > var msgSet = { a: 'A {TYPE} example.',\n * ...              b: 'This has {COUNT, plural, one{one member} other{# members}}.' },\n * ...   mfuncSet = mf.compile(msgSet);\n * > mfuncSet().a({TYPE:'more complex'})\n * 'A more complex example.'\n * > mfuncSet().b({COUNT:2})\n * 'This has 2 members.'\n *\n * > console.log(mfuncSet.toString())\n * function anonymous() {\n * var number = function (value, offset) {\n *   if (isNaN(value)) throw new Error(\"'\" + value + \"' isn't a number.\");\n *   return value - (offset || 0);\n * };\n * var plural = function (value, offset, lcfunc, data, isOrdinal) {\n *   if ({}.hasOwnProperty.call(data, value)) return data[value]();\n *   if (offset) value -= offset;\n *   var key = lcfunc(value, isOrdinal);\n *   if (key in data) return data[key]();\n *   return data.other();\n * };\n * var select = function (value, data) {\n *   if ({}.hasOwnProperty.call(data, value)) return data[value]();\n *   return data.other()\n * };\n * var pluralFuncs = {\n *   en: function (n, ord) {\n *     var s = String(n).split('.'), v0 = !s[1], t0 = Number(s[0]) == n,\n *         n10 = t0 && s[0].slice(-1), n100 = t0 && s[0].slice(-2);\n *     if (ord) return (n10 == 1 && n100 != 11) ? 'one'\n *         : (n10 == 2 && n100 != 12) ? 'two'\n *         : (n10 == 3 && n100 != 13) ? 'few'\n *         : 'other';\n *     return (n == 1 && v0) ? 'one' : 'other';\n *   }\n * };\n * var fmt = {};\n *\n * return {\n *   a: function(d) { return \"A \" + d.TYPE + \" example.\"; },\n *   b: function(d) { return \"This has \" + plural(d.COUNT, 0, pluralFuncs.en, { one: function() { return \"one member\";}, other: function() { return number(d.COUNT)+\" members\";} }) + \".\"; }\n * }\n * }\n *\n *  @example\n * > mf.runtime.pluralFuncs.fi = MessageFormat.plurals.fi;\n * > var multiSet = { en: { a: 'A {TYPE} example.',\n * ...                      b: 'This is the {COUNT, selectordinal, one{#st} two{#nd} few{#rd} other{#th}} example.' },\n * ...                fi: { a: '{TYPE} esimerkki.',\n * ...                      b: 'Tämä on {COUNT, selectordinal, other{#.}} esimerkki.' } },\n * ...   multiSetLocales = { en: 'en', fi: 'fi' },\n * ...   mfuncSet = mf.compile(multiSet, { locale: multiSetLocales, global: 'i18n' });\n * > mfuncSet(this);\n * > i18n.en.b({COUNT:3})\n * 'This is the 3rd example.'\n * > i18n.fi.b({COUNT:3})\n * 'Tämä on 3. esimerkki.'  */\nMessageFormat.prototype.compile = function ( messages, opt ) {\n  var r = {}, lc0 = this.lc,\n      compileMsg = function(self, msg) {\n        try {\n          var ast = MessageFormat._parse(msg);\n          return self._precompile(ast);\n        } catch (e) {\n          throw new Error((ast ? 'Precompiler' : 'Parser') + ' error: ' + e.toString());\n        }\n      },\n      stringify = function(r, level) {\n        if (!level) level = 0;\n        if (typeof r != 'object') return r;\n        var o = [], indent = '';\n        for (var i = 0; i < level; ++i) indent += '  ';\n        for (var k in r) o.push('\\n' + indent + '  ' + propname(k) + ': ' + stringify(r[k], level + 1));\n        return '{' + o.join(',') + '\\n' + indent + '}';\n      };\n\n  if (typeof messages == 'string') {\n    var f = new Function(\n        'number, plural, select, pluralFuncs, fmt',\n        'return ' + compileMsg(this, messages));\n    return f(this.runtime.number, this.runtime.plural, this.runtime.select,\n        this.runtime.pluralFuncs, this.runtime.fmt);\n  }\n\n  opt = opt || {};\n\n  for (var ns in messages) {\n    if (opt.locale) this.lc = opt.locale[ns] && [].concat(opt.locale[ns]) || lc0;\n    if (typeof messages[ns] == 'string') {\n      try { r[ns] = compileMsg(this, messages[ns]); }\n      catch (e) { e.message = e.message.replace(':', ' with `' + ns + '`:'); throw e; }\n    } else {\n      r[ns] = {};\n      for (var key in messages[ns]) {\n        try { r[ns][key] = compileMsg(this, messages[ns][key]); }\n        catch (e) { e.message = e.message.replace(':', ' with `' + key + '` in `' + ns + '`:'); throw e; }\n      }\n    }\n  }\n\n  this.lc = lc0;\n  var s = this.runtime.toString() + '\\n';\n  switch (opt.global || '') {\n    case 'exports':\n      var o = [];\n      for (var k in r) o.push(propname(k, 'exports') + ' = ' + stringify(r[k]));\n      return new Function(s + o.join(';\\n'));\n    case 'module.exports':\n      return new Function(s + 'module.exports = ' + stringify(r));\n    case '':\n      return new Function(s + 'return ' + stringify(r));\n    default:\n      return new Function('G', s + propname(opt.global, 'G') + ' = ' + stringify(r));\n  }\n};\n\n\nreturn MessageFormat;\n}());\n/* jshint ignore:end */\n\n\nvar createErrorPluralModulePresence = function() {\n\treturn createError( \"E_MISSING_PLURAL_MODULE\", \"Plural module not loaded.\" );\n};\n\n\n\n\nvar validateMessageBundle = function( cldr ) {\n\tvalidate(\n\t\t\"E_MISSING_MESSAGE_BUNDLE\",\n\t\t\"Missing message bundle for locale `{locale}`.\",\n\t\tcldr.attributes.bundle && cldr.get( \"globalize-messages/{bundle}\" ) !== undefined,\n\t\t{\n\t\t\tlocale: cldr.locale\n\t\t}\n\t);\n};\n\n\n\n\nvar validateMessagePresence = function( path, value ) {\n\tpath = path.join( \"/\" );\n\tvalidate( \"E_MISSING_MESSAGE\", \"Missing required message content `{path}`.\",\n\t\tvalue !== undefined, { path: path } );\n};\n\n\n\n\nvar validateMessageType = function( path, value ) {\n\tpath = path.join( \"/\" );\n\tvalidate(\n\t\t\"E_INVALID_MESSAGE\",\n\t\t\"Invalid message content `{path}`. {expected} expected.\",\n\t\ttypeof value === \"string\",\n\t\t{\n\t\t\texpected: \"a string\",\n\t\t\tpath: path\n\t\t}\n\t);\n};\n\n\n\n\nvar validateParameterTypeMessageVariables = function( value, name ) {\n\tvalidateParameterType(\n\t\tvalue,\n\t\tname,\n\t\tvalue === undefined || isPlainObject( value ) || Array.isArray( value ),\n\t\t\"Array or Plain Object\"\n\t);\n};\n\n\n\n\nvar messageFormatterFn = function( formatter ) {\n\treturn function messageFormatter( variables ) {\n\t\tif ( typeof variables === \"number\" || typeof variables === \"string\" ) {\n\t\t\tvariables = [].slice.call( arguments, 0 );\n\t\t}\n\t\tvalidateParameterTypeMessageVariables( variables, \"variables\" );\n\t\treturn formatter( variables );\n\t};\n};\n\n\n\n\nvar messageFormatterRuntimeBind = function( cldr, messageformatter ) {\n\tvar locale = cldr.locale,\n\t\torigToString = messageformatter.toString;\n\n\tmessageformatter.toString = function() {\n\t\tvar argNames, argValues, output,\n\t\t\targs = {};\n\n\t\t// Properly adjust SlexAxton/messageformat.js compiled variables with Globalize variables:\n\t\toutput = origToString.call( messageformatter );\n\n\t\tif ( /number\\(/.test( output ) ) {\n\t\t\targs.number = \"messageFormat.number\";\n\t\t}\n\n\t\tif ( /plural\\(/.test( output ) ) {\n\t\t\targs.plural = \"messageFormat.plural\";\n\t\t}\n\n\t\tif ( /select\\(/.test( output ) ) {\n\t\t\targs.select = \"messageFormat.select\";\n\t\t}\n\n\t\toutput.replace( /pluralFuncs(\\[([^\\]]+)\\]|\\.([a-zA-Z]+))/, function( match ) {\n\t\t\targs.pluralFuncs = \"{\" +\n\t\t\t\t\"\\\"\" + locale + \"\\\": Globalize(\\\"\" + locale + \"\\\").pluralGenerator()\" +\n\t\t\t\t\"}\";\n\t\t\treturn match;\n\t\t});\n\n\t\targNames = Object.keys( args ).join( \", \" );\n\t\targValues = Object.keys( args ).map(function( key ) {\n\t\t\treturn args[ key ];\n\t\t}).join( \", \" );\n\n\t\treturn \"(function( \" + argNames + \" ) {\\n\" +\n\t\t\t\"  return \" + output + \"\\n\" +\n\t\t\t\"})(\" + argValues + \")\";\n\t};\n\n\treturn messageformatter;\n};\n\n\n\n\nvar slice = [].slice;\n\n/**\n * .loadMessages( json )\n *\n * @json [JSON]\n *\n * Load translation data.\n */\nGlobalize.loadMessages = function( json ) {\n\tvar locale,\n\t\tcustomData = {\n\t\t\t\"globalize-messages\": json,\n\t\t\t\"main\": {}\n\t\t};\n\n\tvalidateParameterPresence( json, \"json\" );\n\tvalidateParameterTypePlainObject( json, \"json\" );\n\n\t// Set available bundles by populating customData main dataset.\n\tfor ( locale in json ) {\n\t\tif ( json.hasOwnProperty( locale ) ) {\n\t\t\tcustomData.main[ locale ] = {};\n\t\t}\n\t}\n\n\tCldr.load( customData );\n};\n\n/**\n * .messageFormatter( path )\n *\n * @path [String or Array]\n *\n * Format a message given its path.\n */\nGlobalize.messageFormatter =\nGlobalize.prototype.messageFormatter = function( path ) {\n\tvar cldr, formatter, message, pluralGenerator, returnFn,\n\t\targs = slice.call( arguments, 0 );\n\n\tvalidateParameterPresence( path, \"path\" );\n\tvalidateParameterType( path, \"path\", typeof path === \"string\" || Array.isArray( path ),\n\t\t\"a String nor an Array\" );\n\n\tpath = alwaysArray( path );\n\tcldr = this.cldr;\n\n\tvalidateDefaultLocale( cldr );\n\tvalidateMessageBundle( cldr );\n\n\tmessage = cldr.get( [ \"globalize-messages/{bundle}\" ].concat( path ) );\n\tvalidateMessagePresence( path, message );\n\n\t// If message is an Array, concatenate it.\n\tif ( Array.isArray( message ) ) {\n\t\tmessage = message.join( \" \" );\n\t}\n\tvalidateMessageType( path, message );\n\n\t// Is plural module present? Yes, use its generator. Nope, use an error generator.\n\tpluralGenerator = this.plural !== undefined ?\n\t\tthis.pluralGenerator() :\n\t\tcreateErrorPluralModulePresence;\n\n\tformatter = new MessageFormat( cldr.locale, pluralGenerator ).compile( message );\n\n\treturnFn = messageFormatterFn( formatter );\n\n\truntimeBind( args, cldr, returnFn,\n\t\t[ messageFormatterRuntimeBind( cldr, formatter ), pluralGenerator ] );\n\n\treturn returnFn;\n};\n\n/**\n * .formatMessage( path [, variables] )\n *\n * @path [String or Array]\n *\n * @variables [Number, String, Array or Object]\n *\n * Format a message given its path.\n */\nGlobalize.formatMessage =\nGlobalize.prototype.formatMessage = function( path /* , variables */ ) {\n\treturn this.messageFormatter( path ).apply( {}, slice.call( arguments, 1 ) );\n};\n\nreturn Globalize;\n\n\n\n\n}));\n\n","/**\n * CLDR JavaScript Library v0.5.1\n * http://jquery.com/\n *\n * Copyright 2013 Rafael Xavier de Souza\n * Released under the MIT license\n * http://jquery.org/license\n *\n * Date: 2019-01-21T13:43Z\n */\n/*!\n * CLDR JavaScript Library v0.5.1 2019-01-21T13:43Z MIT license © Rafael Xavier\n * http://git.io/h4lmVg\n */\n(function( factory ) {\n\n\tif ( typeof define === \"function\" && define.amd ) {\n\t\t// AMD.\n\t\tdefine( [ \"../cldr\" ], factory );\n\t} else if ( typeof module === \"object\" && typeof module.exports === \"object\" ) {\n\t\t// Node. CommonJS.\n\t\tmodule.exports = factory( require( \"../cldr\" ) );\n\t} else {\n\t\t// Global\n\t\tfactory( Cldr );\n\t}\n\n}(function( Cldr ) {\n\n\t// Build optimization hack to avoid duplicating functions across modules.\n\tvar pathNormalize = Cldr._pathNormalize,\n\t\tvalidatePresence = Cldr._validatePresence,\n\t\tvalidateType = Cldr._validateType;\n\n/*!\n * EventEmitter v4.2.7 - git.io/ee\n * Oliver Caldwell\n * MIT license\n * @preserve\n */\n\nvar EventEmitter;\n/* jshint ignore:start */\nEventEmitter = (function () {\n\n\n\t/**\n\t * Class for managing events.\n\t * Can be extended to provide event functionality in other classes.\n\t *\n\t * @class EventEmitter Manages event registering and emitting.\n\t */\n\tfunction EventEmitter() {}\n\n\t// Shortcuts to improve speed and size\n\tvar proto = EventEmitter.prototype;\n\tvar exports = {};\n\t\n\n\t/**\n\t * Finds the index of the listener for the event in it's storage array.\n\t *\n\t * @param {Function[]} listeners Array of listeners to search through.\n\t * @param {Function} listener Method to look for.\n\t * @return {Number} Index of the specified listener, -1 if not found\n\t * @api private\n\t */\n\tfunction indexOfListener(listeners, listener) {\n\t\tvar i = listeners.length;\n\t\twhile (i--) {\n\t\t\tif (listeners[i].listener === listener) {\n\t\t\t\treturn i;\n\t\t\t}\n\t\t}\n\n\t\treturn -1;\n\t}\n\n\t/**\n\t * Alias a method while keeping the context correct, to allow for overwriting of target method.\n\t *\n\t * @param {String} name The name of the target method.\n\t * @return {Function} The aliased method\n\t * @api private\n\t */\n\tfunction alias(name) {\n\t\treturn function aliasClosure() {\n\t\t\treturn this[name].apply(this, arguments);\n\t\t};\n\t}\n\n\t/**\n\t * Returns the listener array for the specified event.\n\t * Will initialise the event object and listener arrays if required.\n\t * Will return an object if you use a regex search. The object contains keys for each matched event. So /ba[rz]/ might return an object containing bar and baz. But only if you have either defined them with defineEvent or added some listeners to them.\n\t * Each property in the object response is an array of listener functions.\n\t *\n\t * @param {String|RegExp} evt Name of the event to return the listeners from.\n\t * @return {Function[]|Object} All listener functions for the event.\n\t */\n\tproto.getListeners = function getListeners(evt) {\n\t\tvar events = this._getEvents();\n\t\tvar response;\n\t\tvar key;\n\n\t\t// Return a concatenated array of all matching events if\n\t\t// the selector is a regular expression.\n\t\tif (evt instanceof RegExp) {\n\t\t\tresponse = {};\n\t\t\tfor (key in events) {\n\t\t\t\tif (events.hasOwnProperty(key) && evt.test(key)) {\n\t\t\t\t\tresponse[key] = events[key];\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\telse {\n\t\t\tresponse = events[evt] || (events[evt] = []);\n\t\t}\n\n\t\treturn response;\n\t};\n\n\t/**\n\t * Takes a list of listener objects and flattens it into a list of listener functions.\n\t *\n\t * @param {Object[]} listeners Raw listener objects.\n\t * @return {Function[]} Just the listener functions.\n\t */\n\tproto.flattenListeners = function flattenListeners(listeners) {\n\t\tvar flatListeners = [];\n\t\tvar i;\n\n\t\tfor (i = 0; i < listeners.length; i += 1) {\n\t\t\tflatListeners.push(listeners[i].listener);\n\t\t}\n\n\t\treturn flatListeners;\n\t};\n\n\t/**\n\t * Fetches the requested listeners via getListeners but will always return the results inside an object. This is mainly for internal use but others may find it useful.\n\t *\n\t * @param {String|RegExp} evt Name of the event to return the listeners from.\n\t * @return {Object} All listener functions for an event in an object.\n\t */\n\tproto.getListenersAsObject = function getListenersAsObject(evt) {\n\t\tvar listeners = this.getListeners(evt);\n\t\tvar response;\n\n\t\tif (listeners instanceof Array) {\n\t\t\tresponse = {};\n\t\t\tresponse[evt] = listeners;\n\t\t}\n\n\t\treturn response || listeners;\n\t};\n\n\t/**\n\t * Adds a listener function to the specified event.\n\t * The listener will not be added if it is a duplicate.\n\t * If the listener returns true then it will be removed after it is called.\n\t * If you pass a regular expression as the event name then the listener will be added to all events that match it.\n\t *\n\t * @param {String|RegExp} evt Name of the event to attach the listener to.\n\t * @param {Function} listener Method to be called when the event is emitted. If the function returns true then it will be removed after calling.\n\t * @return {Object} Current instance of EventEmitter for chaining.\n\t */\n\tproto.addListener = function addListener(evt, listener) {\n\t\tvar listeners = this.getListenersAsObject(evt);\n\t\tvar listenerIsWrapped = typeof listener === 'object';\n\t\tvar key;\n\n\t\tfor (key in listeners) {\n\t\t\tif (listeners.hasOwnProperty(key) && indexOfListener(listeners[key], listener) === -1) {\n\t\t\t\tlisteners[key].push(listenerIsWrapped ? listener : {\n\t\t\t\t\tlistener: listener,\n\t\t\t\t\tonce: false\n\t\t\t\t});\n\t\t\t}\n\t\t}\n\n\t\treturn this;\n\t};\n\n\t/**\n\t * Alias of addListener\n\t */\n\tproto.on = alias('addListener');\n\n\t/**\n\t * Semi-alias of addListener. It will add a listener that will be\n\t * automatically removed after it's first execution.\n\t *\n\t * @param {String|RegExp} evt Name of the event to attach the listener to.\n\t * @param {Function} listener Method to be called when the event is emitted. If the function returns true then it will be removed after calling.\n\t * @return {Object} Current instance of EventEmitter for chaining.\n\t */\n\tproto.addOnceListener = function addOnceListener(evt, listener) {\n\t\treturn this.addListener(evt, {\n\t\t\tlistener: listener,\n\t\t\tonce: true\n\t\t});\n\t};\n\n\t/**\n\t * Alias of addOnceListener.\n\t */\n\tproto.once = alias('addOnceListener');\n\n\t/**\n\t * Defines an event name. This is required if you want to use a regex to add a listener to multiple events at once. If you don't do this then how do you expect it to know what event to add to? Should it just add to every possible match for a regex? No. That is scary and bad.\n\t * You need to tell it what event names should be matched by a regex.\n\t *\n\t * @param {String} evt Name of the event to create.\n\t * @return {Object} Current instance of EventEmitter for chaining.\n\t */\n\tproto.defineEvent = function defineEvent(evt) {\n\t\tthis.getListeners(evt);\n\t\treturn this;\n\t};\n\n\t/**\n\t * Uses defineEvent to define multiple events.\n\t *\n\t * @param {String[]} evts An array of event names to define.\n\t * @return {Object} Current instance of EventEmitter for chaining.\n\t */\n\tproto.defineEvents = function defineEvents(evts) {\n\t\tfor (var i = 0; i < evts.length; i += 1) {\n\t\t\tthis.defineEvent(evts[i]);\n\t\t}\n\t\treturn this;\n\t};\n\n\t/**\n\t * Removes a listener function from the specified event.\n\t * When passed a regular expression as the event name, it will remove the listener from all events that match it.\n\t *\n\t * @param {String|RegExp} evt Name of the event to remove the listener from.\n\t * @param {Function} listener Method to remove from the event.\n\t * @return {Object} Current instance of EventEmitter for chaining.\n\t */\n\tproto.removeListener = function removeListener(evt, listener) {\n\t\tvar listeners = this.getListenersAsObject(evt);\n\t\tvar index;\n\t\tvar key;\n\n\t\tfor (key in listeners) {\n\t\t\tif (listeners.hasOwnProperty(key)) {\n\t\t\t\tindex = indexOfListener(listeners[key], listener);\n\n\t\t\t\tif (index !== -1) {\n\t\t\t\t\tlisteners[key].splice(index, 1);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\treturn this;\n\t};\n\n\t/**\n\t * Alias of removeListener\n\t */\n\tproto.off = alias('removeListener');\n\n\t/**\n\t * Adds listeners in bulk using the manipulateListeners method.\n\t * If you pass an object as the second argument you can add to multiple events at once. The object should contain key value pairs of events and listeners or listener arrays. You can also pass it an event name and an array of listeners to be added.\n\t * You can also pass it a regular expression to add the array of listeners to all events that match it.\n\t * Yeah, this function does quite a bit. That's probably a bad thing.\n\t *\n\t * @param {String|Object|RegExp} evt An event name if you will pass an array of listeners next. An object if you wish to add to multiple events at once.\n\t * @param {Function[]} [listeners] An optional array of listener functions to add.\n\t * @return {Object} Current instance of EventEmitter for chaining.\n\t */\n\tproto.addListeners = function addListeners(evt, listeners) {\n\t\t// Pass through to manipulateListeners\n\t\treturn this.manipulateListeners(false, evt, listeners);\n\t};\n\n\t/**\n\t * Removes listeners in bulk using the manipulateListeners method.\n\t * If you pass an object as the second argument you can remove from multiple events at once. The object should contain key value pairs of events and listeners or listener arrays.\n\t * You can also pass it an event name and an array of listeners to be removed.\n\t * You can also pass it a regular expression to remove the listeners from all events that match it.\n\t *\n\t * @param {String|Object|RegExp} evt An event name if you will pass an array of listeners next. An object if you wish to remove from multiple events at once.\n\t * @param {Function[]} [listeners] An optional array of listener functions to remove.\n\t * @return {Object} Current instance of EventEmitter for chaining.\n\t */\n\tproto.removeListeners = function removeListeners(evt, listeners) {\n\t\t// Pass through to manipulateListeners\n\t\treturn this.manipulateListeners(true, evt, listeners);\n\t};\n\n\t/**\n\t * Edits listeners in bulk. The addListeners and removeListeners methods both use this to do their job. You should really use those instead, this is a little lower level.\n\t * The first argument will determine if the listeners are removed (true) or added (false).\n\t * If you pass an object as the second argument you can add/remove from multiple events at once. The object should contain key value pairs of events and listeners or listener arrays.\n\t * You can also pass it an event name and an array of listeners to be added/removed.\n\t * You can also pass it a regular expression to manipulate the listeners of all events that match it.\n\t *\n\t * @param {Boolean} remove True if you want to remove listeners, false if you want to add.\n\t * @param {String|Object|RegExp} evt An event name if you will pass an array of listeners next. An object if you wish to add/remove from multiple events at once.\n\t * @param {Function[]} [listeners] An optional array of listener functions to add/remove.\n\t * @return {Object} Current instance of EventEmitter for chaining.\n\t */\n\tproto.manipulateListeners = function manipulateListeners(remove, evt, listeners) {\n\t\tvar i;\n\t\tvar value;\n\t\tvar single = remove ? this.removeListener : this.addListener;\n\t\tvar multiple = remove ? this.removeListeners : this.addListeners;\n\n\t\t// If evt is an object then pass each of it's properties to this method\n\t\tif (typeof evt === 'object' && !(evt instanceof RegExp)) {\n\t\t\tfor (i in evt) {\n\t\t\t\tif (evt.hasOwnProperty(i) && (value = evt[i])) {\n\t\t\t\t\t// Pass the single listener straight through to the singular method\n\t\t\t\t\tif (typeof value === 'function') {\n\t\t\t\t\t\tsingle.call(this, i, value);\n\t\t\t\t\t}\n\t\t\t\t\telse {\n\t\t\t\t\t\t// Otherwise pass back to the multiple function\n\t\t\t\t\t\tmultiple.call(this, i, value);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\telse {\n\t\t\t// So evt must be a string\n\t\t\t// And listeners must be an array of listeners\n\t\t\t// Loop over it and pass each one to the multiple method\n\t\t\ti = listeners.length;\n\t\t\twhile (i--) {\n\t\t\t\tsingle.call(this, evt, listeners[i]);\n\t\t\t}\n\t\t}\n\n\t\treturn this;\n\t};\n\n\t/**\n\t * Removes all listeners from a specified event.\n\t * If you do not specify an event then all listeners will be removed.\n\t * That means every event will be emptied.\n\t * You can also pass a regex to remove all events that match it.\n\t *\n\t * @param {String|RegExp} [evt] Optional name of the event to remove all listeners for. Will remove from every event if not passed.\n\t * @return {Object} Current instance of EventEmitter for chaining.\n\t */\n\tproto.removeEvent = function removeEvent(evt) {\n\t\tvar type = typeof evt;\n\t\tvar events = this._getEvents();\n\t\tvar key;\n\n\t\t// Remove different things depending on the state of evt\n\t\tif (type === 'string') {\n\t\t\t// Remove all listeners for the specified event\n\t\t\tdelete events[evt];\n\t\t}\n\t\telse if (evt instanceof RegExp) {\n\t\t\t// Remove all events matching the regex.\n\t\t\tfor (key in events) {\n\t\t\t\tif (events.hasOwnProperty(key) && evt.test(key)) {\n\t\t\t\t\tdelete events[key];\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\telse {\n\t\t\t// Remove all listeners in all events\n\t\t\tdelete this._events;\n\t\t}\n\n\t\treturn this;\n\t};\n\n\t/**\n\t * Alias of removeEvent.\n\t *\n\t * Added to mirror the node API.\n\t */\n\tproto.removeAllListeners = alias('removeEvent');\n\n\t/**\n\t * Emits an event of your choice.\n\t * When emitted, every listener attached to that event will be executed.\n\t * If you pass the optional argument array then those arguments will be passed to every listener upon execution.\n\t * Because it uses `apply`, your array of arguments will be passed as if you wrote them out separately.\n\t * So they will not arrive within the array on the other side, they will be separate.\n\t * You can also pass a regular expression to emit to all events that match it.\n\t *\n\t * @param {String|RegExp} evt Name of the event to emit and execute listeners for.\n\t * @param {Array} [args] Optional array of arguments to be passed to each listener.\n\t * @return {Object} Current instance of EventEmitter for chaining.\n\t */\n\tproto.emitEvent = function emitEvent(evt, args) {\n\t\tvar listeners = this.getListenersAsObject(evt);\n\t\tvar listener;\n\t\tvar i;\n\t\tvar key;\n\t\tvar response;\n\n\t\tfor (key in listeners) {\n\t\t\tif (listeners.hasOwnProperty(key)) {\n\t\t\t\ti = listeners[key].length;\n\n\t\t\t\twhile (i--) {\n\t\t\t\t\t// If the listener returns true then it shall be removed from the event\n\t\t\t\t\t// The function is executed either with a basic call or an apply if there is an args array\n\t\t\t\t\tlistener = listeners[key][i];\n\n\t\t\t\t\tif (listener.once === true) {\n\t\t\t\t\t\tthis.removeListener(evt, listener.listener);\n\t\t\t\t\t}\n\n\t\t\t\t\tresponse = listener.listener.apply(this, args || []);\n\n\t\t\t\t\tif (response === this._getOnceReturnValue()) {\n\t\t\t\t\t\tthis.removeListener(evt, listener.listener);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\treturn this;\n\t};\n\n\t/**\n\t * Alias of emitEvent\n\t */\n\tproto.trigger = alias('emitEvent');\n\n\t/**\n\t * Subtly different from emitEvent in that it will pass its arguments on to the listeners, as opposed to taking a single array of arguments to pass on.\n\t * As with emitEvent, you can pass a regex in place of the event name to emit to all events that match it.\n\t *\n\t * @param {String|RegExp} evt Name of the event to emit and execute listeners for.\n\t * @param {...*} Optional additional arguments to be passed to each listener.\n\t * @return {Object} Current instance of EventEmitter for chaining.\n\t */\n\tproto.emit = function emit(evt) {\n\t\tvar args = Array.prototype.slice.call(arguments, 1);\n\t\treturn this.emitEvent(evt, args);\n\t};\n\n\t/**\n\t * Sets the current value to check against when executing listeners. If a\n\t * listeners return value matches the one set here then it will be removed\n\t * after execution. This value defaults to true.\n\t *\n\t * @param {*} value The new value to check for when executing listeners.\n\t * @return {Object} Current instance of EventEmitter for chaining.\n\t */\n\tproto.setOnceReturnValue = function setOnceReturnValue(value) {\n\t\tthis._onceReturnValue = value;\n\t\treturn this;\n\t};\n\n\t/**\n\t * Fetches the current value to check against when executing listeners. If\n\t * the listeners return value matches this one then it should be removed\n\t * automatically. It will return true by default.\n\t *\n\t * @return {*|Boolean} The current value to check for or the default, true.\n\t * @api private\n\t */\n\tproto._getOnceReturnValue = function _getOnceReturnValue() {\n\t\tif (this.hasOwnProperty('_onceReturnValue')) {\n\t\t\treturn this._onceReturnValue;\n\t\t}\n\t\telse {\n\t\t\treturn true;\n\t\t}\n\t};\n\n\t/**\n\t * Fetches the events object and creates one if required.\n\t *\n\t * @return {Object} The events storage object.\n\t * @api private\n\t */\n\tproto._getEvents = function _getEvents() {\n\t\treturn this._events || (this._events = {});\n\t};\n\n\t/**\n\t * Reverts the global {@link EventEmitter} to its previous value and returns a reference to this version.\n\t *\n\t * @return {Function} Non conflicting EventEmitter class.\n\t */\n\tEventEmitter.noConflict = function noConflict() {\n\t\texports.EventEmitter = originalGlobalValue;\n\t\treturn EventEmitter;\n\t};\n\n\treturn EventEmitter;\n}());\n/* jshint ignore:end */\n\n\n\n\tvar validateTypeFunction = function( value, name ) {\n\t\tvalidateType( value, name, typeof value === \"undefined\" || typeof value === \"function\", \"Function\" );\n\t};\n\n\n\n\n\tvar superGet, superInit,\n\t\tglobalEe = new EventEmitter();\n\n\tfunction validateTypeEvent( value, name ) {\n\t\tvalidateType( value, name, typeof value === \"string\" || value instanceof RegExp, \"String or RegExp\" );\n\t}\n\n\tfunction validateThenCall( method, self ) {\n\t\treturn function( event, listener ) {\n\t\t\tvalidatePresence( event, \"event\" );\n\t\t\tvalidateTypeEvent( event, \"event\" );\n\n\t\t\tvalidatePresence( listener, \"listener\" );\n\t\t\tvalidateTypeFunction( listener, \"listener\" );\n\n\t\t\treturn self[ method ].apply( self, arguments );\n\t\t};\n\t}\n\n\tfunction off( self ) {\n\t\treturn validateThenCall( \"off\", self );\n\t}\n\n\tfunction on( self ) {\n\t\treturn validateThenCall( \"on\", self );\n\t}\n\n\tfunction once( self ) {\n\t\treturn validateThenCall( \"once\", self );\n\t}\n\n\tCldr.off = off( globalEe );\n\tCldr.on = on( globalEe );\n\tCldr.once = once( globalEe );\n\n\t/**\n\t * Overload Cldr.prototype.init().\n\t */\n\tsuperInit = Cldr.prototype.init;\n\tCldr.prototype.init = function() {\n\t\tvar ee;\n\t\tthis.ee = ee = new EventEmitter();\n\t\tthis.off = off( ee );\n\t\tthis.on = on( ee );\n\t\tthis.once = once( ee );\n\t\tsuperInit.apply( this, arguments );\n\t};\n\n\t/**\n\t * getOverload is encapsulated, because of cldr/unresolved. If it's loaded\n\t * after cldr/event (and note it overwrites .get), it can trigger this\n\t * overload again.\n\t */\n\tfunction getOverload() {\n\n\t\t/**\n\t\t * Overload Cldr.prototype.get().\n\t\t */\n\t\tsuperGet = Cldr.prototype.get;\n\t\tCldr.prototype.get = function( path ) {\n\t\t\tvar value = superGet.apply( this, arguments );\n\t\t\tpath = pathNormalize( path, this.attributes ).join( \"/\" );\n\t\t\tglobalEe.trigger( \"get\", [ path, value ] );\n\t\t\tthis.ee.trigger( \"get\", [ path, value ] );\n\t\t\treturn value;\n\t\t};\n\t}\n\n\tCldr._eventInit = getOverload;\n\tgetOverload();\n\n\treturn Cldr;\n\n\n\n\n}));\n","/**\n * CLDR JavaScript Library v0.5.1\n * http://jquery.com/\n *\n * Copyright 2013 Rafael Xavier de Souza\n * Released under the MIT license\n * http://jquery.org/license\n *\n * Date: 2019-01-21T13:43Z\n */\n/*!\n * CLDR JavaScript Library v0.5.1 2019-01-21T13:43Z MIT license © Rafael Xavier\n * http://git.io/h4lmVg\n */\n(function( factory ) {\n\n\tif ( typeof define === \"function\" && define.amd ) {\n\t\t// AMD.\n\t\tdefine( [ \"../cldr\" ], factory );\n\t} else if ( typeof module === \"object\" && typeof module.exports === \"object\" ) {\n\t\t// Node. CommonJS.\n\t\tmodule.exports = factory( require( \"../cldr\" ) );\n\t} else {\n\t\t// Global\n\t\tfactory( Cldr );\n\t}\n\n}(function( Cldr ) {\n\n\t// Build optimization hack to avoid duplicating functions across modules.\n\tvar alwaysArray = Cldr._alwaysArray;\n\n\n\n\tvar supplementalMain = function( cldr ) {\n\n\t\tvar prepend, supplemental;\n\t\t\n\t\tprepend = function( prepend ) {\n\t\t\treturn function( path ) {\n\t\t\t\tpath = alwaysArray( path );\n\t\t\t\treturn cldr.get( [ prepend ].concat( path ) );\n\t\t\t};\n\t\t};\n\n\t\tsupplemental = prepend( \"supplemental\" );\n\n\t\t// Week Data\n\t\t// http://www.unicode.org/reports/tr35/tr35-dates.html#Week_Data\n\t\tsupplemental.weekData = prepend( \"supplemental/weekData\" );\n\n\t\tsupplemental.weekData.firstDay = function() {\n\t\t\treturn cldr.get( \"supplemental/weekData/firstDay/{territory}\" ) ||\n\t\t\t\tcldr.get( \"supplemental/weekData/firstDay/001\" );\n\t\t};\n\n\t\tsupplemental.weekData.minDays = function() {\n\t\t\tvar minDays = cldr.get( \"supplemental/weekData/minDays/{territory}\" ) ||\n\t\t\t\tcldr.get( \"supplemental/weekData/minDays/001\" );\n\t\t\treturn parseInt( minDays, 10 );\n\t\t};\n\n\t\t// Time Data\n\t\t// http://www.unicode.org/reports/tr35/tr35-dates.html#Time_Data\n\t\tsupplemental.timeData = prepend( \"supplemental/timeData\" );\n\n\t\tsupplemental.timeData.allowed = function() {\n\t\t\treturn cldr.get( \"supplemental/timeData/{territory}/_allowed\" ) ||\n\t\t\t\tcldr.get( \"supplemental/timeData/001/_allowed\" );\n\t\t};\n\n\t\tsupplemental.timeData.preferred = function() {\n\t\t\treturn cldr.get( \"supplemental/timeData/{territory}/_preferred\" ) ||\n\t\t\t\tcldr.get( \"supplemental/timeData/001/_preferred\" );\n\t\t};\n\n\t\treturn supplemental;\n\n\t};\n\n\n\n\n\tvar initSuper = Cldr.prototype.init;\n\n\t/**\n\t * .init() automatically ran on construction.\n\t *\n\t * Overload .init().\n\t */\n\tCldr.prototype.init = function() {\n\t\tinitSuper.apply( this, arguments );\n\t\tthis.supplemental = supplementalMain( this );\n\t};\n\n\treturn Cldr;\n\n\n\n\n}));\n","/**\n * CLDR JavaScript Library v0.5.1\n * http://jquery.com/\n *\n * Copyright 2013 Rafael Xavier de Souza\n * Released under the MIT license\n * http://jquery.org/license\n *\n * Date: 2019-01-21T13:43Z\n */\n/*!\n * CLDR JavaScript Library v0.5.1 2019-01-21T13:43Z MIT license © Rafael Xavier\n * http://git.io/h4lmVg\n */\n(function( factory ) {\n\n\tif ( typeof define === \"function\" && define.amd ) {\n\t\t// AMD.\n\t\tdefine( [ \"../cldr\" ], factory );\n\t} else if ( typeof module === \"object\" && typeof module.exports === \"object\" ) {\n\t\t// Node. CommonJS.\n\t\tmodule.exports = factory( require( \"../cldr\" ) );\n\t} else {\n\t\t// Global\n\t\tfactory( Cldr );\n\t}\n\n}(function( Cldr ) {\n\n\t// Build optimization hack to avoid duplicating functions across modules.\n\tvar coreLoad = Cldr._coreLoad;\n\tvar jsonMerge = Cldr._jsonMerge;\n\tvar pathNormalize = Cldr._pathNormalize;\n\tvar resourceGet = Cldr._resourceGet;\n\tvar validatePresence = Cldr._validatePresence;\n\tvar validateTypePath = Cldr._validateTypePath;\n\n\n\n\tvar bundleParentLookup = function( Cldr, locale ) {\n\t\tvar normalizedPath, parent;\n\n\t\tif ( locale === \"root\" ) {\n\t\t\treturn;\n\t\t}\n\n\t\t// First, try to find parent on supplemental data.\n\t\tnormalizedPath = pathNormalize( [ \"supplemental/parentLocales/parentLocale\", locale ] );\n\t\tparent = resourceGet( Cldr._resolved, normalizedPath ) || resourceGet( Cldr._raw, normalizedPath );\n\t\tif ( parent ) {\n\t\t\treturn parent;\n\t\t}\n\n\t\t// Or truncate locale.\n\t\tparent = locale.substr( 0, locale.lastIndexOf( Cldr.localeSep ) );\n\t\tif ( !parent ) {\n\t\t\treturn \"root\";\n\t\t}\n\n\t\treturn parent;\n\t};\n\n\n\n\n\t// @path: normalized path\n\tvar resourceSet = function( data, path, value ) {\n\t\tvar i,\n\t\t\tnode = data,\n\t\t\tlength = path.length;\n\n\t\tfor ( i = 0; i < length - 1; i++ ) {\n\t\t\tif ( !node[ path[ i ] ] ) {\n\t\t\t\tnode[ path[ i ] ] = {};\n\t\t\t}\n\t\t\tnode = node[ path[ i ] ];\n\t\t}\n\t\tnode[ path[ i ] ] = value;\n\t};\n\n\n\tvar itemLookup = (function() {\n\n\tvar lookup;\n\n\tlookup = function( Cldr, locale, path, attributes, childLocale ) {\n\t\tvar normalizedPath, parent, value;\n\n\t\t// 1: Finish recursion\n\t\t// 2: Avoid infinite loop\n\t\tif ( typeof locale === \"undefined\" /* 1 */ || locale === childLocale /* 2 */ ) {\n\t\t\treturn;\n\t\t}\n\n\t\t// Resolve path\n\t\tnormalizedPath = pathNormalize( path, attributes );\n\n\t\t// Check resolved (cached) data first\n\t\t// 1: Due to #16, never use the cached resolved non-leaf nodes. It may not\n\t\t//    represent its leafs in its entirety.\n\t\tvalue = resourceGet( Cldr._resolved, normalizedPath );\n\t\tif ( value !== undefined && typeof value !== \"object\" /* 1 */ ) {\n\t\t\treturn value;\n\t\t}\n\n\t\t// Check raw data\n\t\tvalue = resourceGet( Cldr._raw, normalizedPath );\n\n\t\tif ( value === undefined ) {\n\t\t\t// Or, lookup at parent locale\n\t\t\tparent = bundleParentLookup( Cldr, locale );\n\t\t\tvalue = lookup( Cldr, parent, path, jsonMerge( attributes, { bundle: parent }), locale );\n\t\t}\n\n\t\tif ( value !== undefined ) {\n\t\t\t// Set resolved (cached)\n\t\t\tresourceSet( Cldr._resolved, normalizedPath, value );\n\t\t}\n\n\t\treturn value;\n\t};\n\n\treturn lookup;\n\n}());\n\n\n\tCldr._raw = {};\n\n\t/**\n\t * Cldr.load( json [, json, ...] )\n\t *\n\t * @json [JSON] CLDR data or [Array] Array of @json's.\n\t *\n\t * Load resolved or unresolved cldr data.\n\t * Overwrite Cldr.load().\n\t */\n\tCldr.load = function() {\n\t\tCldr._raw = coreLoad( Cldr, Cldr._raw, arguments );\n\t};\n\n\t/**\n\t * Overwrite Cldr.prototype.get().\n\t */\n\tCldr.prototype.get = function( path ) {\n\t\tvalidatePresence( path, \"path\" );\n\t\tvalidateTypePath( path, \"path\" );\n\n\t\t// 1: use bundle as locale on item lookup for simplification purposes, because no other extended subtag is used anyway on bundle parent lookup.\n\t\t// 2: during init(), this method is called, but bundle is yet not defined. Use \"\" as a workaround in this very specific scenario.\n\t\treturn itemLookup( Cldr, this.attributes && this.attributes.bundle /* 1 */ || \"\" /* 2 */, path, this.attributes );\n\t};\n\n\t// In case cldr/unresolved is loaded after cldr/event, we trigger its overloads again. Because, .get is overwritten in here.\n\tif ( Cldr._eventInit ) {\n\t\tCldr._eventInit();\n\t}\n\n\treturn Cldr;\n\n\n\n\n}));\n","/*** IMPORTS FROM imports-loader ***/\nvar define = false;\n\n/**\n * Globalize v1.5.0\n *\n * http://github.com/jquery/globalize\n *\n * Copyright jQuery Foundation and other contributors\n * Released under the MIT license\n * http://jquery.org/license\n *\n * Date: 2020-03-25T12:19Z\n */\n/*!\n * Globalize v1.5.0 2020-03-25T12:19Z Released under the MIT license\n * http://git.io/TrdQbw\n */\n(function( root, factory ) {\n\n\t// UMD returnExports\n\tif ( typeof define === \"function\" && define.amd ) {\n\n\t\t// AMD\n\t\tdefine([\n\t\t\t\"cldr\",\n\t\t\t\"cldr/event\"\n\t\t], factory );\n\t} else if ( typeof exports === \"object\" ) {\n\n\t\t// Node, CommonJS\n\t\tmodule.exports = factory( require( \"cldrjs\" ) );\n\t} else {\n\n\t\t// Global\n\t\troot.Globalize = factory( root.Cldr );\n\t}\n}( this, function( Cldr ) {\n\n\n/**\n * A toString method that outputs meaningful values for objects or arrays and\n * still performs as fast as a plain string in case variable is string, or as\n * fast as `\"\" + number` in case variable is a number.\n * Ref: http://jsperf.com/my-stringify\n */\nvar toString = function( variable ) {\n\treturn typeof variable === \"string\" ? variable : ( typeof variable === \"number\" ? \"\" +\n\t\tvariable : JSON.stringify( variable ) );\n};\n\n\n\n\n/**\n * formatMessage( message, data )\n *\n * @message [String] A message with optional {vars} to be replaced.\n *\n * @data [Array or JSON] Object with replacing-variables content.\n *\n * Return the formatted message. For example:\n *\n * - formatMessage( \"{0} second\", [ 1 ] ); // 1 second\n *\n * - formatMessage( \"{0}/{1}\", [\"m\", \"s\"] ); // m/s\n *\n * - formatMessage( \"{name} <{email}>\", {\n *     name: \"Foo\",\n *     email: \"bar@baz.qux\"\n *   }); // Foo <bar@baz.qux>\n */\nvar formatMessage = function( message, data ) {\n\n\t// Replace {attribute}'s\n\tmessage = message.replace( /{[0-9a-zA-Z-_. ]+}/g, function( name ) {\n\t\tname = name.replace( /^{([^}]*)}$/, \"$1\" );\n\t\treturn toString( data[ name ] );\n\t});\n\n\treturn message;\n};\n\n\n\n\nvar objectExtend = function() {\n\tvar destination = arguments[ 0 ],\n\t\tsources = [].slice.call( arguments, 1 );\n\n\tsources.forEach(function( source ) {\n\t\tvar prop;\n\t\tfor ( prop in source ) {\n\t\t\tdestination[ prop ] = source[ prop ];\n\t\t}\n\t});\n\n\treturn destination;\n};\n\n\n\n\nvar createError = function( code, message, attributes ) {\n\tvar error;\n\n\tmessage = code + ( message ? \": \" + formatMessage( message, attributes ) : \"\" );\n\terror = new Error( message );\n\terror.code = code;\n\n\tobjectExtend( error, attributes );\n\n\treturn error;\n};\n\n\n\n\n/**\n * Pushes part to parts array, concat two consecutive parts of the same type.\n */\nvar partsPush = function( parts, type, value ) {\n\n\t\t// Concat two consecutive parts of same type\n\t\tif ( parts.length && parts[ parts.length - 1 ].type === type ) {\n\t\t\tparts[ parts.length - 1 ].value += value;\n\t\t\treturn;\n\t\t}\n\n\t\tparts.push( { type: type, value: value } );\n};\n\n\n\n\n/**\n * formatMessage( message, data )\n *\n * @message [String] A message with optional {vars} to be replaced.\n *\n * @data [Array or JSON] Object with replacing-variables content.\n *\n * Return the formatted message. For example:\n *\n * - formatMessage( \"{0} second\", [ 1 ] );\n * > [{type: \"variable\", value: \"1\", name: \"0\"}, {type: \"literal\", value: \" second\"}]\n *\n * - formatMessage( \"{0}/{1}\", [\"m\", \"s\"] );\n * > [\n *     { type: \"variable\", value: \"m\", name: \"0\" },\n *     { type: \"literal\", value: \" /\" },\n *     { type: \"variable\", value: \"s\", name: \"1\" }\n *   ]\n */\nvar formatMessageToParts = function( message, data ) {\n\n\tvar lastOffset = 0,\n\t\tparts = [];\n\n\t// Create parts.\n\tmessage.replace( /{[0-9a-zA-Z-_. ]+}/g, function( nameIncludingBrackets, offset ) {\n\t\tvar name = nameIncludingBrackets.slice( 1, -1 );\n\t\tpartsPush( parts, \"literal\", message.slice( lastOffset, offset ));\n\t\tpartsPush( parts, \"variable\", data[ name ] );\n\t\tparts[ parts.length - 1 ].name = name;\n\t\tlastOffset += offset + nameIncludingBrackets.length;\n\t});\n\n\t// Skip empty ones such as `{ type: 'literal', value: '' }`.\n\treturn parts.filter(function( part ) {\n\t\treturn part.value !== \"\";\n\t});\n};\n\n\n\n\n/**\n * Returns joined parts values.\n */\nvar partsJoin = function( parts ) {\n\treturn parts.map( function( part ) {\n\t\treturn part.value;\n\t}).join( \"\" );\n};\n\n\n\n\nvar runtimeStringify = function( args ) {\n\treturn JSON.stringify( args, function( key, value ) {\n\t\tif ( value && value.runtimeKey ) {\n\t\t\treturn value.runtimeKey;\n\t\t}\n\t\treturn value;\n\t} );\n};\n\n\n\n\n// Based on http://stackoverflow.com/questions/7616461/generate-a-hash-from-string-in-javascript-jquery\nvar stringHash = function( str ) {\n\treturn [].reduce.call( str, function( hash, i ) {\n\t\tvar chr = i.charCodeAt( 0 );\n\t\thash = ( ( hash << 5 ) - hash ) + chr;\n\t\treturn hash | 0;\n\t}, 0 );\n};\n\n\n\n\nvar runtimeKey = function( fnName, locale, args, argsStr ) {\n\tvar hash;\n\targsStr = argsStr || runtimeStringify( args );\n\thash = stringHash( fnName + locale + argsStr );\n\treturn hash > 0 ? \"a\" + hash : \"b\" + Math.abs( hash );\n};\n\n\n\n\nvar functionName = function( fn ) {\n\tif ( fn.name !== undefined ) {\n\t\treturn fn.name;\n\t}\n\n\t// fn.name is not supported by IE.\n\tvar matches = /^function\\s+([\\w\\$]+)\\s*\\(/.exec( fn.toString() );\n\n\tif ( matches && matches.length > 0 ) {\n\t\treturn matches[ 1 ];\n\t}\n};\n\n\n\n\nvar runtimeBind = function( args, cldr, fn, runtimeArgs ) {\n\n\tvar argsStr = runtimeStringify( args ),\n\t\tfnName = functionName( fn ),\n\t\tlocale = cldr.locale;\n\n\t// If name of the function is not available, this is most likely due to uglification,\n\t// which most likely means we are in production, and runtimeBind here is not necessary.\n\tif ( !fnName ) {\n\t\treturn fn;\n\t}\n\n\tfn.runtimeKey = runtimeKey( fnName, locale, null, argsStr );\n\n\tfn.generatorString = function() {\n\t\treturn \"Globalize(\\\"\" + locale + \"\\\").\" + fnName + \"(\" + argsStr.slice( 1, -1 ) + \")\";\n\t};\n\n\tfn.runtimeArgs = runtimeArgs;\n\n\treturn fn;\n};\n\n\n\n\nvar validate = function( code, message, check, attributes ) {\n\tif ( !check ) {\n\t\tthrow createError( code, message, attributes );\n\t}\n};\n\n\n\n\nvar alwaysArray = function( stringOrArray ) {\n\treturn Array.isArray( stringOrArray ) ? stringOrArray : stringOrArray ? [ stringOrArray ] : [];\n};\n\n\n\n\nvar validateCldr = function( path, value, options ) {\n\tvar skipBoolean;\n\toptions = options || {};\n\n\tskipBoolean = alwaysArray( options.skip ).some(function( pathRe ) {\n\t\treturn pathRe.test( path );\n\t});\n\n\tvalidate( \"E_MISSING_CLDR\", \"Missing required CLDR content `{path}`.\", value || skipBoolean, {\n\t\tpath: path\n\t});\n};\n\n\n\n\nvar validateDefaultLocale = function( value ) {\n\tvalidate( \"E_DEFAULT_LOCALE_NOT_DEFINED\", \"Default locale has not been defined.\",\n\t\tvalue !== undefined, {} );\n};\n\n\n\n\nvar validateParameterPresence = function( value, name ) {\n\tvalidate( \"E_MISSING_PARAMETER\", \"Missing required parameter `{name}`.\",\n\t\tvalue !== undefined, { name: name });\n};\n\n\n\n\n/**\n * range( value, name, minimum, maximum )\n *\n * @value [Number].\n *\n * @name [String] name of variable.\n *\n * @minimum [Number]. The lowest valid value, inclusive.\n *\n * @maximum [Number]. The greatest valid value, inclusive.\n */\nvar validateParameterRange = function( value, name, minimum, maximum ) {\n\tvalidate(\n\t\t\"E_PAR_OUT_OF_RANGE\",\n\t\t\"Parameter `{name}` has value `{value}` out of range [{minimum}, {maximum}].\",\n\t\tvalue === undefined || value >= minimum && value <= maximum,\n\t\t{\n\t\t\tmaximum: maximum,\n\t\t\tminimum: minimum,\n\t\t\tname: name,\n\t\t\tvalue: value\n\t\t}\n\t);\n};\n\n\n\n\nvar validateParameterType = function( value, name, check, expected ) {\n\tvalidate(\n\t\t\"E_INVALID_PAR_TYPE\",\n\t\t\"Invalid `{name}` parameter ({value}). {expected} expected.\",\n\t\tcheck,\n\t\t{\n\t\t\texpected: expected,\n\t\t\tname: name,\n\t\t\tvalue: value\n\t\t}\n\t);\n};\n\n\n\n\nvar validateParameterTypeLocale = function( value, name ) {\n\tvalidateParameterType(\n\t\tvalue,\n\t\tname,\n\t\tvalue === undefined || typeof value === \"string\" || value instanceof Cldr,\n\t\t\"String or Cldr instance\"\n\t);\n};\n\n\n\n\n/**\n * Function inspired by jQuery Core, but reduced to our use case.\n */\nvar isPlainObject = function( obj ) {\n\treturn obj !== null && \"\" + obj === \"[object Object]\";\n};\n\n\n\n\nvar validateParameterTypePlainObject = function( value, name ) {\n\tvalidateParameterType(\n\t\tvalue,\n\t\tname,\n\t\tvalue === undefined || isPlainObject( value ),\n\t\t\"Plain Object\"\n\t);\n};\n\n\n\n\nvar alwaysCldr = function( localeOrCldr ) {\n\treturn localeOrCldr instanceof Cldr ? localeOrCldr : new Cldr( localeOrCldr );\n};\n\n\n\n\n// ref: https://developer.mozilla.org/en-US/docs/Web/JavaScript/Guide/Regular_Expressions?redirectlocale=en-US&redirectslug=JavaScript%2FGuide%2FRegular_Expressions\nvar regexpEscape = function( string ) {\n\treturn string.replace( /([.*+?^=!:${}()|\\[\\]\\/\\\\])/g, \"\\\\$1\" );\n};\n\n\n\n\nvar stringPad = function( str, count, right ) {\n\tvar length;\n\tif ( typeof str !== \"string\" ) {\n\t\tstr = String( str );\n\t}\n\tfor ( length = str.length; length < count; length += 1 ) {\n\t\tstr = ( right ? ( str + \"0\" ) : ( \"0\" + str ) );\n\t}\n\treturn str;\n};\n\n\n\n\nfunction validateLikelySubtags( cldr ) {\n\tcldr.once( \"get\", validateCldr );\n\tcldr.get( \"supplemental/likelySubtags\" );\n}\n\n/**\n * [new] Globalize( locale|cldr )\n *\n * @locale [String]\n *\n * @cldr [Cldr instance]\n *\n * Create a Globalize instance.\n */\nfunction Globalize( locale ) {\n\tif ( !( this instanceof Globalize ) ) {\n\t\treturn new Globalize( locale );\n\t}\n\n\tvalidateParameterPresence( locale, \"locale\" );\n\tvalidateParameterTypeLocale( locale, \"locale\" );\n\n\tthis.cldr = alwaysCldr( locale );\n\n\tvalidateLikelySubtags( this.cldr );\n}\n\n/**\n * Globalize.load( json, ... )\n *\n * @json [JSON]\n *\n * Load resolved or unresolved cldr data.\n * Somewhat equivalent to previous Globalize.addCultureInfo(...).\n */\nGlobalize.load = function() {\n\n\t// validations are delegated to Cldr.load().\n\tCldr.load.apply( Cldr, arguments );\n};\n\n/**\n * Globalize.locale( [locale|cldr] )\n *\n * @locale [String]\n *\n * @cldr [Cldr instance]\n *\n * Set default Cldr instance if locale or cldr argument is passed.\n *\n * Return the default Cldr instance.\n */\nGlobalize.locale = function( locale ) {\n\tvalidateParameterTypeLocale( locale, \"locale\" );\n\n\tif ( arguments.length ) {\n\t\tthis.cldr = alwaysCldr( locale );\n\t\tvalidateLikelySubtags( this.cldr );\n\t}\n\treturn this.cldr;\n};\n\n/**\n * Optimization to avoid duplicating some internal functions across modules.\n */\nGlobalize._alwaysArray = alwaysArray;\nGlobalize._createError = createError;\nGlobalize._formatMessage = formatMessage;\nGlobalize._formatMessageToParts = formatMessageToParts;\nGlobalize._isPlainObject = isPlainObject;\nGlobalize._objectExtend = objectExtend;\nGlobalize._partsJoin = partsJoin;\nGlobalize._partsPush = partsPush;\nGlobalize._regexpEscape = regexpEscape;\nGlobalize._runtimeBind = runtimeBind;\nGlobalize._stringPad = stringPad;\nGlobalize._validate = validate;\nGlobalize._validateCldr = validateCldr;\nGlobalize._validateDefaultLocale = validateDefaultLocale;\nGlobalize._validateParameterPresence = validateParameterPresence;\nGlobalize._validateParameterRange = validateParameterRange;\nGlobalize._validateParameterTypePlainObject = validateParameterTypePlainObject;\nGlobalize._validateParameterType = validateParameterType;\n\nreturn Globalize;\n\n\n\n\n}));\n\n","import { handleDecorator } from './handleDecorator';\nimport { DiffPropertyFunction } from './../interfaces';\nimport { auto } from './../diff';\n\n/**\n * Decorator that can be used to register a function as a specific property diff\n *\n * @param propertyName  The name of the property of which the diff function is applied\n * @param diffType      The diff type, default is DiffType.AUTO.\n * @param diffFunction  A diff function to run if diffType if DiffType.CUSTOM\n */\nexport function diffProperty(\n\tpropertyName: string,\n\tdiffFunction: DiffPropertyFunction = auto,\n\treactionFunction?: Function\n) {\n\treturn handleDecorator((target, propertyKey) => {\n\t\ttarget.addDecorator(`diffProperty:${propertyName}`, diffFunction.bind(null));\n\t\ttarget.addDecorator('registeredDiffProperty', propertyName);\n\t\tif (reactionFunction || propertyKey) {\n\t\t\ttarget.addDecorator('diffReaction', {\n\t\t\t\tpropertyName,\n\t\t\t\treaction: propertyKey ? target[propertyKey] : reactionFunction\n\t\t\t});\n\t\t}\n\t});\n}\n\nexport default diffProperty;\n","require('/home/edwinspire/Documentos/Desarrollo/mycarlog/mycarlog/opt/mycarlog/frontend/node_modules/@dojo/widgets/theme/default/grid.m.css');\nmodule.exports = {\" _key\":\"@dojo/widgets/grid\",\"root\":\"grid-m__root__3OPFW\",\"header\":\"grid-m__header__2iQXg\",\"filterGroup\":\"grid-m__filterGroup__9e2Ev\"};;","require('/home/edwinspire/Documentos/Desarrollo/mycarlog/mycarlog/opt/mycarlog/frontend/node_modules/@dojo/widgets/theme/default/grid-placeholder-row.m.css');\nmodule.exports = {\" _key\":\"@dojo/widgets/grid-placeholder-row\",\"root\":\"grid-placeholder-row-m__root__2Vhpx\",\"loading\":\"grid-placeholder-row-m__loading__209c6\",\"spin\":\"grid-placeholder-row-m__spin__3mogv\"};;","require('/home/edwinspire/Documentos/Desarrollo/mycarlog/mycarlog/opt/mycarlog/frontend/node_modules/@dojo/widgets/grid/styles/placeholder-row.m.css');\nmodule.exports = {\" _key\":\"@dojo/widgets/placeholder-row\",\"root\":\"placeholder-row-m__root__3mHcS\"};;","require('/home/edwinspire/Documentos/Desarrollo/mycarlog/mycarlog/opt/mycarlog/frontend/node_modules/@dojo/widgets/theme/default/button.m.css');\nmodule.exports = {\" _key\":\"@dojo/widgets/button\",\"root\":\"button-m__root__wCywK\",\"pressed\":\"button-m__pressed__2zyjz\",\"popup\":\"button-m__popup__2Fl0t\",\"disabled\":\"button-m__disabled__19w7M\",\"label\":\"button-m__label__3hxN8\"};;","require('/home/edwinspire/Documentos/Desarrollo/mycarlog/mycarlog/opt/mycarlog/frontend/node_modules/@dojo/widgets/grid/styles/cell.m.css');\nmodule.exports = {\" _key\":\"@dojo/widgets/cell\",\"rootFixed\":\"cell-m__rootFixed__1lXNB\"};;","require('/home/edwinspire/Documentos/Desarrollo/mycarlog/mycarlog/opt/mycarlog/frontend/node_modules/@dojo/widgets/theme/default/grid-cell.m.css');\nmodule.exports = {\" _key\":\"@dojo/widgets/grid-cell\",\"root\":\"grid-cell-m__root__3Jc73\",\"input\":\"grid-cell-m__input__3TzgA\",\"edit\":\"grid-cell-m__edit__2-ZyO base-m__visuallyHidden__22W36 base-m__focusable__rIkqd\"};;","require('/home/edwinspire/Documentos/Desarrollo/mycarlog/mycarlog/opt/mycarlog/frontend/node_modules/@dojo/widgets/grid/styles/row.m.css');\nmodule.exports = {\" _key\":\"@dojo/widgets/row\",\"rootFixed\":\"row-m__rootFixed__3ejCY\"};;","require('/home/edwinspire/Documentos/Desarrollo/mycarlog/mycarlog/opt/mycarlog/frontend/node_modules/@dojo/widgets/theme/default/grid-row.m.css');\nmodule.exports = {\" _key\":\"@dojo/widgets/grid-row\",\"root\":\"grid-row-m__root__1NF-y\",\"selected\":\"grid-row-m__selected__3CrpA\",\"selectable\":\"grid-row-m__selectable__YPZgp\"};;","require('/home/edwinspire/Documentos/Desarrollo/mycarlog/mycarlog/opt/mycarlog/frontend/node_modules/@dojo/widgets/theme/default/grid-footer.m.css');\nmodule.exports = {\" _key\":\"@dojo/widgets/grid-footer\",\"root\":\"grid-footer-m__root__1Nft4\"};;","require('/home/edwinspire/Documentos/Desarrollo/mycarlog/mycarlog/opt/mycarlog/frontend/node_modules/@dojo/widgets/theme/default/grid-header.m.css');\nmodule.exports = {\" _key\":\"@dojo/widgets/grid-header\",\"root\":\"grid-header-m__root__3Q4Hh\",\"cell\":\"grid-header-m__cell__cLUEj\",\"sortable\":\"grid-header-m__sortable__11QYG\",\"sorted\":\"grid-header-m__sorted__23Dkp\",\"desc\":\"grid-header-m__desc__3M4JP\",\"asc\":\"grid-header-m__asc__1pEsy\",\"sort\":\"grid-header-m__sort__S4v_P\",\"-webkit-filter\":\"grid-header-m__filter__2RE6E\",\"filter\":\"grid-header-m__filter__2RE6E\",\"filterInput\":\"grid-header-m__filterInput__1maed\",\"filterNoLabel\":\"grid-header-m__filterNoLabel__2iJ-q\"};;","require('/home/edwinspire/Documentos/Desarrollo/mycarlog/mycarlog/opt/mycarlog/frontend/node_modules/@dojo/widgets/grid/styles/header.m.css');\nmodule.exports = {\" _key\":\"@dojo/widgets/header\",\"rootFixed\":\"header-m__rootFixed__1gcHn\",\"cellFixed\":\"header-m__cellFixed__1R9rb\",\"column\":\"header-m__column__3Z_b8\",\"resize\":\"header-m__resize__3cPDx\",\"filterInput\":\"header-m__filterInput__18nyQ\"};;","require('/home/edwinspire/Documentos/Desarrollo/mycarlog/mycarlog/opt/mycarlog/frontend/node_modules/@dojo/widgets/grid/styles/paginated-footer.m.css');\nmodule.exports = {\" _key\":\"@dojo/widgets/paginated-footer\",\"rootFixed\":\"paginated-footer-m__rootFixed__54_sK\",\"containerFixed\":\"paginated-footer-m__containerFixed__HzKF8\",\"detailsFixed\":\"paginated-footer-m__detailsFixed__3gQUX\",\"paginationListFixed\":\"paginated-footer-m__paginationListFixed__1JPbF\",\"itemFixed\":\"paginated-footer-m__itemFixed__2W4-4\",\"moreFixed\":\"paginated-footer-m__moreFixed__1VMXn\",\"pageNavFixed\":\"paginated-footer-m__pageNavFixed__20MBZ\"};;","require('/home/edwinspire/Documentos/Desarrollo/mycarlog/mycarlog/opt/mycarlog/frontend/node_modules/@dojo/widgets/theme/default/grid-paginated-footer.m.css');\nmodule.exports = {\" _key\":\"@dojo/widgets/grid-paginated-footer\",\"root\":\"grid-paginated-footer-m__root__1gW4s\",\"pagination\":\"grid-paginated-footer-m__pagination__CwT8t\",\"details\":\"grid-paginated-footer-m__details__1QzEi\",\"paginationList\":\"grid-paginated-footer-m__paginationList__1beei\",\"item\":\"grid-paginated-footer-m__item__2ZpWL\",\"more\":\"grid-paginated-footer-m__more__33AEp\",\"pageNumber\":\"grid-paginated-footer-m__pageNumber__1tG3J\",\"pageNav\":\"grid-paginated-footer-m__pageNav___DCKR\",\"active\":\"grid-paginated-footer-m__active__3NX-O\"};;","require('/home/edwinspire/Documentos/Desarrollo/mycarlog/mycarlog/opt/mycarlog/frontend/node_modules/@dojo/widgets/grid/styles/grid.m.css');\nmodule.exports = {\" _key\":\"@dojo/widgets/grid\",\"rootFixed\":\"grid-m__rootFixed__2GZXD\",\"headerFixed\":\"grid-m__headerFixed__2X7jF\"};;","/**\n * CLDR JavaScript Library v0.5.1\n * http://jquery.com/\n *\n * Copyright 2013 Rafael Xavier de Souza\n * Released under the MIT license\n * http://jquery.org/license\n *\n * Date: 2019-01-21T13:43Z\n */\n/*!\n * CLDR JavaScript Library v0.5.1 2019-01-21T13:43Z MIT license © Rafael Xavier\n * http://git.io/h4lmVg\n */\n(function( root, factory ) {\n\n\tif ( typeof define === \"function\" && define.amd ) {\n\t\t// AMD.\n\t\tdefine( factory );\n\t} else if ( typeof module === \"object\" && typeof module.exports === \"object\" ) {\n\t\t// Node. CommonJS.\n\t\tmodule.exports = factory();\n\t} else {\n\t\t// Global\n\t\troot.Cldr = factory();\n\t}\n\n}( this, function() {\n\n\n\tvar arrayIsArray = Array.isArray || function( obj ) {\n\t\treturn Object.prototype.toString.call( obj ) === \"[object Array]\";\n\t};\n\n\n\n\n\tvar pathNormalize = function( path, attributes ) {\n\t\tif ( arrayIsArray( path ) ) {\n\t\t\tpath = path.join( \"/\" );\n\t\t}\n\t\tif ( typeof path !== \"string\" ) {\n\t\t\tthrow new Error( \"invalid path \\\"\" + path + \"\\\"\" );\n\t\t}\n\t\t// 1: Ignore leading slash `/`\n\t\t// 2: Ignore leading `cldr/`\n\t\tpath = path\n\t\t\t.replace( /^\\// , \"\" ) /* 1 */\n\t\t\t.replace( /^cldr\\// , \"\" ); /* 2 */\n\n\t\t// Replace {attribute}'s\n\t\tpath = path.replace( /{[a-zA-Z]+}/g, function( name ) {\n\t\t\tname = name.replace( /^{([^}]*)}$/, \"$1\" );\n\t\t\treturn attributes[ name ];\n\t\t});\n\n\t\treturn path.split( \"/\" );\n\t};\n\n\n\n\n\tvar arraySome = function( array, callback ) {\n\t\tvar i, length;\n\t\tif ( array.some ) {\n\t\t\treturn array.some( callback );\n\t\t}\n\t\tfor ( i = 0, length = array.length; i < length; i++ ) {\n\t\t\tif ( callback( array[ i ], i, array ) ) {\n\t\t\t\treturn true;\n\t\t\t}\n\t\t}\n\t\treturn false;\n\t};\n\n\n\n\n\t/**\n\t * Return the maximized language id as defined in\n\t * http://www.unicode.org/reports/tr35/#Likely_Subtags\n\t * 1. Canonicalize.\n\t * 1.1 Make sure the input locale is in canonical form: uses the right\n\t * separator, and has the right casing.\n\t * TODO Right casing? What df? It seems languages are lowercase, scripts are\n\t * Capitalized, territory is uppercase. I am leaving this as an exercise to\n\t * the user.\n\t *\n\t * 1.2 Replace any deprecated subtags with their canonical values using the\n\t * <alias> data in supplemental metadata. Use the first value in the\n\t * replacement list, if it exists. Language tag replacements may have multiple\n\t * parts, such as \"sh\" ➞ \"sr_Latn\" or mo\" ➞ \"ro_MD\". In such a case, the\n\t * original script and/or region are retained if there is one. Thus\n\t * \"sh_Arab_AQ\" ➞ \"sr_Arab_AQ\", not \"sr_Latn_AQ\".\n\t * TODO What <alias> data?\n\t *\n\t * 1.3 If the tag is grandfathered (see <variable id=\"$grandfathered\"\n\t * type=\"choice\"> in the supplemental data), then return it.\n\t * TODO grandfathered?\n\t *\n\t * 1.4 Remove the script code 'Zzzz' and the region code 'ZZ' if they occur.\n\t * 1.5 Get the components of the cleaned-up source tag (languages, scripts,\n\t * and regions), plus any variants and extensions.\n\t * 2. Lookup. Lookup each of the following in order, and stop on the first\n\t * match:\n\t * 2.1 languages_scripts_regions\n\t * 2.2 languages_regions\n\t * 2.3 languages_scripts\n\t * 2.4 languages\n\t * 2.5 und_scripts\n\t * 3. Return\n\t * 3.1 If there is no match, either return an error value, or the match for\n\t * \"und\" (in APIs where a valid language tag is required).\n\t * 3.2 Otherwise there is a match = languagem_scriptm_regionm\n\t * 3.3 Let xr = xs if xs is not empty, and xm otherwise.\n\t * 3.4 Return the language tag composed of languager _ scriptr _ regionr +\n\t * variants + extensions.\n\t *\n\t * @subtags [Array] normalized language id subtags tuple (see init.js).\n\t */\n\tvar coreLikelySubtags = function( Cldr, cldr, subtags, options ) {\n\t\tvar match, matchFound,\n\t\t\tlanguage = subtags[ 0 ],\n\t\t\tscript = subtags[ 1 ],\n\t\t\tsep = Cldr.localeSep,\n\t\t\tterritory = subtags[ 2 ],\n\t\t\tvariants = subtags.slice( 3, 4 );\n\t\toptions = options || {};\n\n\t\t// Skip if (language, script, territory) is not empty [3.3]\n\t\tif ( language !== \"und\" && script !== \"Zzzz\" && territory !== \"ZZ\" ) {\n\t\t\treturn [ language, script, territory ].concat( variants );\n\t\t}\n\n\t\t// Skip if no supplemental likelySubtags data is present\n\t\tif ( typeof cldr.get( \"supplemental/likelySubtags\" ) === \"undefined\" ) {\n\t\t\treturn;\n\t\t}\n\n\t\t// [2]\n\t\tmatchFound = arraySome([\n\t\t\t[ language, script, territory ],\n\t\t\t[ language, territory ],\n\t\t\t[ language, script ],\n\t\t\t[ language ],\n\t\t\t[ \"und\", script ]\n\t\t], function( test ) {\n\t\t\treturn match = !(/\\b(Zzzz|ZZ)\\b/).test( test.join( sep ) ) /* [1.4] */ && cldr.get( [ \"supplemental/likelySubtags\", test.join( sep ) ] );\n\t\t});\n\n\t\t// [3]\n\t\tif ( matchFound ) {\n\t\t\t// [3.2 .. 3.4]\n\t\t\tmatch = match.split( sep );\n\t\t\treturn [\n\t\t\t\tlanguage !== \"und\" ? language : match[ 0 ],\n\t\t\t\tscript !== \"Zzzz\" ? script : match[ 1 ],\n\t\t\t\tterritory !== \"ZZ\" ? territory : match[ 2 ]\n\t\t\t].concat( variants );\n\t\t} else if ( options.force ) {\n\t\t\t// [3.1.2]\n\t\t\treturn cldr.get( \"supplemental/likelySubtags/und\" ).split( sep );\n\t\t} else {\n\t\t\t// [3.1.1]\n\t\t\treturn;\n\t\t}\n\t};\n\n\n\n\t/**\n\t * Given a locale, remove any fields that Add Likely Subtags would add.\n\t * http://www.unicode.org/reports/tr35/#Likely_Subtags\n\t * 1. First get max = AddLikelySubtags(inputLocale). If an error is signaled,\n\t * return it.\n\t * 2. Remove the variants from max.\n\t * 3. Then for trial in {language, language _ region, language _ script}. If\n\t * AddLikelySubtags(trial) = max, then return trial + variants.\n\t * 4. If you do not get a match, return max + variants.\n\t * \n\t * @maxLanguageId [Array] maxLanguageId tuple (see init.js).\n\t */\n\tvar coreRemoveLikelySubtags = function( Cldr, cldr, maxLanguageId ) {\n\t\tvar match, matchFound,\n\t\t\tlanguage = maxLanguageId[ 0 ],\n\t\t\tscript = maxLanguageId[ 1 ],\n\t\t\tterritory = maxLanguageId[ 2 ],\n\t\t\tvariants = maxLanguageId[ 3 ];\n\n\t\t// [3]\n\t\tmatchFound = arraySome([\n\t\t\t[ [ language, \"Zzzz\", \"ZZ\" ], [ language ] ],\n\t\t\t[ [ language, \"Zzzz\", territory ], [ language, territory ] ],\n\t\t\t[ [ language, script, \"ZZ\" ], [ language, script ] ]\n\t\t], function( test ) {\n\t\t\tvar result = coreLikelySubtags( Cldr, cldr, test[ 0 ] );\n\t\t\tmatch = test[ 1 ];\n\t\t\treturn result && result[ 0 ] === maxLanguageId[ 0 ] &&\n\t\t\t\tresult[ 1 ] === maxLanguageId[ 1 ] &&\n\t\t\t\tresult[ 2 ] === maxLanguageId[ 2 ];\n\t\t});\n\n\t\tif ( matchFound ) {\n\t\t\tif ( variants ) {\n\t\t\t\tmatch.push( variants );\n\t\t\t}\n\t\t\treturn match;\n\t\t}\n\n\t\t// [4]\n\t\treturn maxLanguageId;\n\t};\n\n\n\n\n\t/**\n\t * subtags( locale )\n\t *\n\t * @locale [String]\n\t */\n\tvar coreSubtags = function( locale ) {\n\t\tvar aux, unicodeLanguageId,\n\t\t\tsubtags = [];\n\n\t\tlocale = locale.replace( /_/, \"-\" );\n\n\t\t// Unicode locale extensions.\n\t\taux = locale.split( \"-u-\" );\n\t\tif ( aux[ 1 ] ) {\n\t\t\taux[ 1 ] = aux[ 1 ].split( \"-t-\" );\n\t\t\tlocale = aux[ 0 ] + ( aux[ 1 ][ 1 ] ? \"-t-\" + aux[ 1 ][ 1 ] : \"\");\n\t\t\tsubtags[ 4 /* unicodeLocaleExtensions */ ] = aux[ 1 ][ 0 ];\n\t\t}\n\n\t\t// TODO normalize transformed extensions. Currently, skipped.\n\t\t// subtags[ x ] = locale.split( \"-t-\" )[ 1 ];\n\t\tunicodeLanguageId = locale.split( \"-t-\" )[ 0 ];\n\n\t\t// unicode_language_id = \"root\"\n\t\t//   | unicode_language_subtag         \n\t\t//     (sep unicode_script_subtag)? \n\t\t//     (sep unicode_region_subtag)?\n\t\t//     (sep unicode_variant_subtag)* ;\n\t\t//\n\t\t// Although unicode_language_subtag = alpha{2,8}, I'm using alpha{2,3}. Because, there's no language on CLDR lengthier than 3.\n\t\taux = unicodeLanguageId.match( /^(([a-z]{2,3})(-([A-Z][a-z]{3}))?(-([A-Z]{2}|[0-9]{3}))?)((-([a-zA-Z0-9]{5,8}|[0-9][a-zA-Z0-9]{3}))*)$|^(root)$/ );\n\t\tif ( aux === null ) {\n\t\t\treturn [ \"und\", \"Zzzz\", \"ZZ\" ];\n\t\t}\n\t\tsubtags[ 0 /* language */ ] = aux[ 10 ] /* root */ || aux[ 2 ] || \"und\";\n\t\tsubtags[ 1 /* script */ ] = aux[ 4 ] || \"Zzzz\";\n\t\tsubtags[ 2 /* territory */ ] = aux[ 6 ] || \"ZZ\";\n\t\tif ( aux[ 7 ] && aux[ 7 ].length ) {\n\t\t\tsubtags[ 3 /* variant */ ] = aux[ 7 ].slice( 1 ) /* remove leading \"-\" */;\n\t\t}\n\n\t\t// 0: language\n\t\t// 1: script\n\t\t// 2: territory (aka region)\n\t\t// 3: variant\n\t\t// 4: unicodeLocaleExtensions\n\t\treturn subtags;\n\t};\n\n\n\n\n\tvar arrayForEach = function( array, callback ) {\n\t\tvar i, length;\n\t\tif ( array.forEach ) {\n\t\t\treturn array.forEach( callback );\n\t\t}\n\t\tfor ( i = 0, length = array.length; i < length; i++ ) {\n\t\t\tcallback( array[ i ], i, array );\n\t\t}\n\t};\n\n\n\n\n\t/**\n\t * bundleLookup( minLanguageId )\n\t *\n\t * @Cldr [Cldr class]\n\t *\n\t * @cldr [Cldr instance]\n\t *\n\t * @minLanguageId [String] requested languageId after applied remove likely subtags.\n\t */\n\tvar bundleLookup = function( Cldr, cldr, minLanguageId ) {\n\t\tvar availableBundleMap = Cldr._availableBundleMap,\n\t\t\tavailableBundleMapQueue = Cldr._availableBundleMapQueue;\n\n\t\tif ( availableBundleMapQueue.length ) {\n\t\t\tarrayForEach( availableBundleMapQueue, function( bundle ) {\n\t\t\t\tvar existing, maxBundle, minBundle, subtags;\n\t\t\t\tsubtags = coreSubtags( bundle );\n\t\t\t\tmaxBundle = coreLikelySubtags( Cldr, cldr, subtags );\n\t\t\t\tminBundle = coreRemoveLikelySubtags( Cldr, cldr, maxBundle );\n\t\t\t\tminBundle = minBundle.join( Cldr.localeSep );\n\t\t\t\texisting = availableBundleMap[ minBundle ];\n\t\t\t\tif ( existing && existing.length < bundle.length ) {\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t\tavailableBundleMap[ minBundle ] = bundle;\n\t\t\t});\n\t\t\tCldr._availableBundleMapQueue = [];\n\t\t}\n\n\t\treturn availableBundleMap[ minLanguageId ] || null;\n\t};\n\n\n\n\n\tvar objectKeys = function( object ) {\n\t\tvar i,\n\t\t\tresult = [];\n\n\t\tif ( Object.keys ) {\n\t\t\treturn Object.keys( object );\n\t\t}\n\n\t\tfor ( i in object ) {\n\t\t\tresult.push( i );\n\t\t}\n\n\t\treturn result;\n\t};\n\n\n\n\n\tvar createError = function( code, attributes ) {\n\t\tvar error, message;\n\n\t\tmessage = code + ( attributes && JSON ? \": \" + JSON.stringify( attributes ) : \"\" );\n\t\terror = new Error( message );\n\t\terror.code = code;\n\n\t\t// extend( error, attributes );\n\t\tarrayForEach( objectKeys( attributes ), function( attribute ) {\n\t\t\terror[ attribute ] = attributes[ attribute ];\n\t\t});\n\n\t\treturn error;\n\t};\n\n\n\n\n\tvar validate = function( code, check, attributes ) {\n\t\tif ( !check ) {\n\t\t\tthrow createError( code, attributes );\n\t\t}\n\t};\n\n\n\n\n\tvar validatePresence = function( value, name ) {\n\t\tvalidate( \"E_MISSING_PARAMETER\", typeof value !== \"undefined\", {\n\t\t\tname: name\n\t\t});\n\t};\n\n\n\n\n\tvar validateType = function( value, name, check, expected ) {\n\t\tvalidate( \"E_INVALID_PAR_TYPE\", check, {\n\t\t\texpected: expected,\n\t\t\tname: name,\n\t\t\tvalue: value\n\t\t});\n\t};\n\n\n\n\n\tvar validateTypePath = function( value, name ) {\n\t\tvalidateType( value, name, typeof value === \"string\" || arrayIsArray( value ), \"String or Array\" );\n\t};\n\n\n\n\n\t/**\n\t * Function inspired by jQuery Core, but reduced to our use case.\n\t */\n\tvar isPlainObject = function( obj ) {\n\t\treturn obj !== null && \"\" + obj === \"[object Object]\";\n\t};\n\n\n\n\n\tvar validateTypePlainObject = function( value, name ) {\n\t\tvalidateType( value, name, typeof value === \"undefined\" || isPlainObject( value ), \"Plain Object\" );\n\t};\n\n\n\n\n\tvar validateTypeString = function( value, name ) {\n\t\tvalidateType( value, name, typeof value === \"string\", \"a string\" );\n\t};\n\n\n\n\n\t// @path: normalized path\n\tvar resourceGet = function( data, path ) {\n\t\tvar i,\n\t\t\tnode = data,\n\t\t\tlength = path.length;\n\n\t\tfor ( i = 0; i < length - 1; i++ ) {\n\t\t\tnode = node[ path[ i ] ];\n\t\t\tif ( !node ) {\n\t\t\t\treturn undefined;\n\t\t\t}\n\t\t}\n\t\treturn node[ path[ i ] ];\n\t};\n\n\n\n\n\t/**\n\t * setAvailableBundles( Cldr, json )\n\t *\n\t * @Cldr [Cldr class]\n\t *\n\t * @json resolved/unresolved cldr data.\n\t *\n\t * Set available bundles queue based on passed json CLDR data. Considers a bundle as any String at /main/{bundle}.\n\t */\n\tvar coreSetAvailableBundles = function( Cldr, json ) {\n\t\tvar bundle,\n\t\t\tavailableBundleMapQueue = Cldr._availableBundleMapQueue,\n\t\t\tmain = resourceGet( json, [ \"main\" ] );\n\n\t\tif ( main ) {\n\t\t\tfor ( bundle in main ) {\n\t\t\t\tif ( main.hasOwnProperty( bundle ) && bundle !== \"root\" &&\n\t\t\t\t\t\t\tavailableBundleMapQueue.indexOf( bundle ) === -1 ) {\n\t\t\t\t\tavailableBundleMapQueue.push( bundle );\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t};\n\n\n\n\tvar alwaysArray = function( somethingOrArray ) {\n\t\treturn arrayIsArray( somethingOrArray ) ?  somethingOrArray : [ somethingOrArray ];\n\t};\n\n\n\tvar jsonMerge = (function() {\n\n\t// Returns new deeply merged JSON.\n\t//\n\t// Eg.\n\t// merge( { a: { b: 1, c: 2 } }, { a: { b: 3, d: 4 } } )\n\t// -> { a: { b: 3, c: 2, d: 4 } }\n\t//\n\t// @arguments JSON's\n\t// \n\tvar merge = function() {\n\t\tvar destination = {},\n\t\t\tsources = [].slice.call( arguments, 0 );\n\t\tarrayForEach( sources, function( source ) {\n\t\t\tvar prop;\n\t\t\tfor ( prop in source ) {\n\t\t\t\tif ( prop in destination && typeof destination[ prop ] === \"object\" && !arrayIsArray( destination[ prop ] ) ) {\n\n\t\t\t\t\t// Merge Objects\n\t\t\t\t\tdestination[ prop ] = merge( destination[ prop ], source[ prop ] );\n\n\t\t\t\t} else {\n\n\t\t\t\t\t// Set new values\n\t\t\t\t\tdestination[ prop ] = source[ prop ];\n\n\t\t\t\t}\n\t\t\t}\n\t\t});\n\t\treturn destination;\n\t};\n\n\treturn merge;\n\n}());\n\n\n\t/**\n\t * load( Cldr, source, jsons )\n\t *\n\t * @Cldr [Cldr class]\n\t *\n\t * @source [Object]\n\t *\n\t * @jsons [arguments]\n\t */\n\tvar coreLoad = function( Cldr, source, jsons ) {\n\t\tvar i, j, json;\n\n\t\tvalidatePresence( jsons[ 0 ], \"json\" );\n\n\t\t// Support arbitrary parameters, e.g., `Cldr.load({...}, {...})`.\n\t\tfor ( i = 0; i < jsons.length; i++ ) {\n\n\t\t\t// Support array parameters, e.g., `Cldr.load([{...}, {...}])`.\n\t\t\tjson = alwaysArray( jsons[ i ] );\n\n\t\t\tfor ( j = 0; j < json.length; j++ ) {\n\t\t\t\tvalidateTypePlainObject( json[ j ], \"json\" );\n\t\t\t\tsource = jsonMerge( source, json[ j ] );\n\t\t\t\tcoreSetAvailableBundles( Cldr, json[ j ] );\n\t\t\t}\n\t\t}\n\n\t\treturn source;\n\t};\n\n\n\n\tvar itemGetResolved = function( Cldr, path, attributes ) {\n\t\t// Resolve path\n\t\tvar normalizedPath = pathNormalize( path, attributes );\n\n\t\treturn resourceGet( Cldr._resolved, normalizedPath );\n\t};\n\n\n\n\n\t/**\n\t * new Cldr()\n\t */\n\tvar Cldr = function( locale ) {\n\t\tthis.init( locale );\n\t};\n\n\t// Build optimization hack to avoid duplicating functions across modules.\n\tCldr._alwaysArray = alwaysArray;\n\tCldr._coreLoad = coreLoad;\n\tCldr._createError = createError;\n\tCldr._itemGetResolved = itemGetResolved;\n\tCldr._jsonMerge = jsonMerge;\n\tCldr._pathNormalize = pathNormalize;\n\tCldr._resourceGet = resourceGet;\n\tCldr._validatePresence = validatePresence;\n\tCldr._validateType = validateType;\n\tCldr._validateTypePath = validateTypePath;\n\tCldr._validateTypePlainObject = validateTypePlainObject;\n\n\tCldr._availableBundleMap = {};\n\tCldr._availableBundleMapQueue = [];\n\tCldr._resolved = {};\n\n\t// Allow user to override locale separator \"-\" (default) | \"_\". According to http://www.unicode.org/reports/tr35/#Unicode_language_identifier, both \"-\" and \"_\" are valid locale separators (eg. \"en_GB\", \"en-GB\"). According to http://unicode.org/cldr/trac/ticket/6786 its usage must be consistent throughout the data set.\n\tCldr.localeSep = \"-\";\n\n\t/**\n\t * Cldr.load( json [, json, ...] )\n\t *\n\t * @json [JSON] CLDR data or [Array] Array of @json's.\n\t *\n\t * Load resolved cldr data.\n\t */\n\tCldr.load = function() {\n\t\tCldr._resolved = coreLoad( Cldr, Cldr._resolved, arguments );\n\t};\n\n\t/**\n\t * .init() automatically run on instantiation/construction.\n\t */\n\tCldr.prototype.init = function( locale ) {\n\t\tvar attributes, language, maxLanguageId, minLanguageId, script, subtags, territory, unicodeLocaleExtensions, variant,\n\t\t\tsep = Cldr.localeSep,\n\t\t\tunicodeLocaleExtensionsRaw = \"\";\n\n\t\tvalidatePresence( locale, \"locale\" );\n\t\tvalidateTypeString( locale, \"locale\" );\n\n\t\tsubtags = coreSubtags( locale );\n\n\t\tif ( subtags.length === 5 ) {\n\t\t\tunicodeLocaleExtensions = subtags.pop();\n\t\t\tunicodeLocaleExtensionsRaw = sep + \"u\" + sep + unicodeLocaleExtensions;\n\t\t\t// Remove trailing null when there is unicodeLocaleExtensions but no variants.\n\t\t\tif ( !subtags[ 3 ] ) {\n\t\t\t\tsubtags.pop();\n\t\t\t}\n\t\t}\n\t\tvariant = subtags[ 3 ];\n\n\t\t// Normalize locale code.\n\t\t// Get (or deduce) the \"triple subtags\": language, territory (also aliased as region), and script subtags.\n\t\t// Get the variant subtags (calendar, collation, currency, etc).\n\t\t// refs:\n\t\t// - http://www.unicode.org/reports/tr35/#Field_Definitions\n\t\t// - http://www.unicode.org/reports/tr35/#Language_and_Locale_IDs\n\t\t// - http://www.unicode.org/reports/tr35/#Unicode_locale_identifier\n\n\t\t// When a locale id does not specify a language, or territory (region), or script, they are obtained by Likely Subtags.\n\t\tmaxLanguageId = coreLikelySubtags( Cldr, this, subtags, { force: true } ) || subtags;\n\t\tlanguage = maxLanguageId[ 0 ];\n\t\tscript = maxLanguageId[ 1 ];\n\t\tterritory = maxLanguageId[ 2 ];\n\n\t\tminLanguageId = coreRemoveLikelySubtags( Cldr, this, maxLanguageId ).join( sep );\n\n\t\t// Set attributes\n\t\tthis.attributes = attributes = {\n\t\t\tbundle: bundleLookup( Cldr, this, minLanguageId ),\n\n\t\t\t// Unicode Language Id\n\t\t\tminLanguageId: minLanguageId + unicodeLocaleExtensionsRaw,\n\t\t\tmaxLanguageId: maxLanguageId.join( sep ) + unicodeLocaleExtensionsRaw,\n\n\t\t\t// Unicode Language Id Subtabs\n\t\t\tlanguage: language,\n\t\t\tscript: script,\n\t\t\tterritory: territory,\n\t\t\tregion: territory, /* alias */\n\t\t\tvariant: variant\n\t\t};\n\n\t\t// Unicode locale extensions.\n\t\tunicodeLocaleExtensions && ( \"-\" + unicodeLocaleExtensions ).replace( /-[a-z]{3,8}|(-[a-z]{2})-([a-z]{3,8})/g, function( attribute, key, type ) {\n\n\t\t\tif ( key ) {\n\n\t\t\t\t// Extension is in the `keyword` form.\n\t\t\t\tattributes[ \"u\" + key ] = type;\n\t\t\t} else {\n\n\t\t\t\t// Extension is in the `attribute` form.\n\t\t\t\tattributes[ \"u\" + attribute ] = true;\n\t\t\t}\n\t\t});\n\n\t\tthis.locale = locale;\n\t};\n\n\t/**\n\t * .get()\n\t */\n\tCldr.prototype.get = function( path ) {\n\n\t\tvalidatePresence( path, \"path\" );\n\t\tvalidateTypePath( path, \"path\" );\n\n\t\treturn itemGetResolved( Cldr, path, this.attributes );\n\t};\n\n\t/**\n\t * .main()\n\t */\n\tCldr.prototype.main = function( path ) {\n\t\tvalidatePresence( path, \"path\" );\n\t\tvalidateTypePath( path, \"path\" );\n\n\t\tvalidate( \"E_MISSING_BUNDLE\", this.attributes.bundle !== null, {\n\t\t\tlocale: this.locale\n\t\t});\n\n\t\tpath = alwaysArray( path );\n\t\treturn this.get( [ \"main/{bundle}\" ].concat( path ) );\n\t};\n\n\treturn Cldr;\n\n\n\n\n}));\n","import { FetcherOptions, FetcherResult } from './interfaces';\nimport { findIndex } from '@dojo/framework/shim/array';\n\nexport function sorter(data: any[], { sort }: FetcherOptions): any[] {\n\tconst temp = [...data];\n\tif (sort) {\n\t\ttemp.sort((a, b) => {\n\t\t\tconst left = sort.direction === 'asc' ? b : a;\n\t\t\tconst right = sort.direction === 'asc' ? a : b;\n\t\t\tif (left[sort.columnId] < right[sort.columnId]) {\n\t\t\t\treturn 1;\n\t\t\t}\n\t\t\tif (left[sort.columnId] > right[sort.columnId]) {\n\t\t\t\treturn -1;\n\t\t\t}\n\t\t\treturn 0;\n\t\t});\n\t}\n\treturn temp;\n}\n\nexport function filterer(data: any[], { filter }: FetcherOptions): any[] {\n\tif (filter) {\n\t\treturn data.filter((item) => {\n\t\t\tlet match = true;\n\t\t\tObject.keys(filter).forEach((columnId) => {\n\t\t\t\tif (item[columnId].toLowerCase().indexOf(filter[columnId].toLowerCase()) === -1) {\n\t\t\t\t\tmatch = false;\n\t\t\t\t}\n\t\t\t});\n\t\t\treturn match;\n\t\t});\n\t}\n\treturn [...data];\n}\n\nexport async function createFetcherResult(\n\tdata: any[],\n\tpage: number,\n\tpageSize: number\n): Promise<FetcherResult> {\n\tconst temp = [...data];\n\tconst block = [...temp].splice((page - 1) * pageSize, pageSize);\n\treturn { data: block, meta: { total: temp.length } };\n}\n\nexport function createUpdater<S extends any>(data: S[], idColumn: string = 'id') {\n\treturn (updatedItem: S) => {\n\t\tconst index = findIndex(data, (item: any) => {\n\t\t\treturn item[idColumn] === (updatedItem as any)[idColumn];\n\t\t});\n\t\tdata[index] = updatedItem;\n\t};\n}\n\nexport function createFetcher(data: any[]) {\n\treturn async (\n\t\tpage: number,\n\t\tpageSize: number,\n\t\toptions: FetcherOptions = {}\n\t): Promise<FetcherResult> => {\n\t\treturn createFetcherResult(sorter(filterer(data, options), options), page, pageSize);\n\t};\n}\n","import { Destroyable } from '../../core/Destroyable';\nimport Set from '../../shim/Set';\nimport { WidgetMetaBase, WidgetMetaProperties, NodeHandlerInterface, WidgetBaseInterface } from '../interfaces';\n\nexport class Base extends Destroyable implements WidgetMetaBase {\n\tprivate _invalidate: () => void;\n\tprotected nodeHandler: NodeHandlerInterface;\n\n\tprivate _requestedNodeKeys = new Set<string | number>();\n\n\tprotected _bind: WidgetBaseInterface | undefined;\n\n\tconstructor(properties: WidgetMetaProperties) {\n\t\tsuper();\n\n\t\tthis._invalidate = properties.invalidate;\n\t\tthis.nodeHandler = properties.nodeHandler;\n\t\tif (properties.bind) {\n\t\t\tthis._bind = properties.bind;\n\t\t}\n\t}\n\n\tpublic has(key: string | number): boolean {\n\t\treturn this.nodeHandler.has(key);\n\t}\n\n\tprotected getNode(key: string | number): Element | undefined {\n\t\tconst stringKey = `${key}`;\n\t\tconst node = this.nodeHandler.get(stringKey);\n\n\t\tif (!node && !this._requestedNodeKeys.has(stringKey)) {\n\t\t\tconst handle = this.nodeHandler.on(stringKey, () => {\n\t\t\t\thandle.destroy();\n\t\t\t\tthis._requestedNodeKeys.delete(stringKey);\n\t\t\t\tthis.invalidate();\n\t\t\t});\n\n\t\t\tthis.own(handle);\n\t\t\tthis._requestedNodeKeys.add(stringKey);\n\t\t}\n\n\t\treturn node;\n\t}\n\n\tprotected invalidate(): void {\n\t\tthis._invalidate();\n\t}\n\n\tpublic afterRender(): void {\n\t\t// Do nothing by default.\n\t}\n}\n\nexport default Base;\n","import { Handle } from './Destroyable';\nimport { DNode, RenderResult } from './interfaces';\nimport { isWNode, isVNode } from './vdom';\n\nconst slice = Array.prototype.slice;\nconst hasOwnProperty = Object.prototype.hasOwnProperty;\n\nexport interface Modifier<T extends DNode> {\n\t(dNode: T, breaker: () => void): void;\n}\n\nexport interface Predicate<T extends DNode> {\n\t(dNode: DNode): dNode is T;\n}\n\nexport interface DecorateOptions<T extends DNode> {\n\tmodifier: Modifier<T>;\n\tpredicate?: Predicate<T>;\n\tshallow?: boolean;\n}\n\n/**\n * Type guard that ensures that the value can be coerced to Object\n * to weed out host objects that do not derive from Object.\n * This function is used to check if we want to deep copy an object or not.\n * Note: In ES6 it is possible to modify an object's Symbol.toStringTag property, which will\n * change the value returned by `toString`. This is a rare edge case that is difficult to handle,\n * so it is not handled here.\n * @param  value The value to check\n * @return       If the value is coercible into an Object\n */\nfunction shouldDeepCopyObject(value: any): value is Object {\n\treturn Object.prototype.toString.call(value) === '[object Object]';\n}\n\nfunction copyArray<T>(array: T[], inherited: boolean): T[] {\n\treturn array.map(function(item: T): T {\n\t\tif (Array.isArray(item)) {\n\t\t\treturn copyArray(item, inherited) as any;\n\t\t}\n\n\t\treturn !shouldDeepCopyObject(item)\n\t\t\t? item\n\t\t\t: _mixin({\n\t\t\t\t\tdeep: true,\n\t\t\t\t\tinherited: inherited,\n\t\t\t\t\tsources: <Array<T>>[item],\n\t\t\t\t\ttarget: <T>{}\n\t\t\t  });\n\t});\n}\n\ninterface MixinArgs<T extends {}, U extends {}> {\n\tdeep: boolean;\n\tinherited: boolean;\n\tsources: (U | null | undefined)[];\n\ttarget: T;\n\tcopied?: any[];\n}\n\nfunction _mixin<T extends {}, U extends {}>(kwArgs: MixinArgs<T, U>): T & U {\n\tconst deep = kwArgs.deep;\n\tconst inherited = kwArgs.inherited;\n\tconst target: any = kwArgs.target;\n\tconst copied = kwArgs.copied || [];\n\tconst copiedClone = [...copied];\n\n\tfor (let i = 0; i < kwArgs.sources.length; i++) {\n\t\tconst source = kwArgs.sources[i];\n\n\t\tif (source === null || source === undefined) {\n\t\t\tcontinue;\n\t\t}\n\t\tfor (let key in source) {\n\t\t\tif (inherited || hasOwnProperty.call(source, key)) {\n\t\t\t\tlet value: any = source[key];\n\n\t\t\t\tif (copiedClone.indexOf(value) !== -1) {\n\t\t\t\t\tcontinue;\n\t\t\t\t}\n\n\t\t\t\tif (deep) {\n\t\t\t\t\tif (Array.isArray(value)) {\n\t\t\t\t\t\tvalue = copyArray(value, inherited);\n\t\t\t\t\t} else if (shouldDeepCopyObject(value)) {\n\t\t\t\t\t\tconst targetValue: any = target[key] || {};\n\t\t\t\t\t\tcopied.push(source);\n\t\t\t\t\t\tvalue = _mixin({\n\t\t\t\t\t\t\tdeep: true,\n\t\t\t\t\t\t\tinherited: inherited,\n\t\t\t\t\t\t\tsources: [value],\n\t\t\t\t\t\t\ttarget: targetValue,\n\t\t\t\t\t\t\tcopied\n\t\t\t\t\t\t});\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\ttarget[key] = value;\n\t\t\t}\n\t\t}\n\t}\n\n\treturn <T & U>target;\n}\n\n/**\n * Copies the values of all enumerable own properties of one or more source objects to the target object,\n * recursively copying all nested objects and arrays as well.\n *\n * @param target The target object to receive values from source objects\n * @param sources Any number of objects whose enumerable own properties will be copied to the target object\n * @return The modified target object\n */\nexport function deepAssign<\n\tT extends {},\n\tU extends {},\n\tV extends {},\n\tW extends {},\n\tX extends {},\n\tY extends {},\n\tZ extends {}\n>(target: T, source1: U, source2: V, source3: W, source4: X, source5: Y, source6: Z): T & U & V & W & X & Y & Z;\nexport function deepAssign<T extends {}, U extends {}, V extends {}, W extends {}, X extends {}, Y extends {}>(\n\ttarget: T,\n\tsource1: U,\n\tsource2: V,\n\tsource3: W,\n\tsource4: X,\n\tsource5: Y\n): T & U & V & W & X & Y;\nexport function deepAssign<T extends {}, U extends {}, V extends {}, W extends {}, X extends {}>(\n\ttarget: T,\n\tsource1: U,\n\tsource2: V,\n\tsource3: W,\n\tsource4: X\n): T & U & V & W & X;\nexport function deepAssign<T extends {}, U extends {}, V extends {}, W extends {}>(\n\ttarget: T,\n\tsource1: U,\n\tsource2: V,\n\tsource3: W\n): T & U & V & W;\nexport function deepAssign<T extends {}, U extends {}, V extends {}>(target: T, source1: U, source2: V): T & U & V;\nexport function deepAssign<T extends {}, U extends {}>(target: T, source: U): T & U;\nexport function deepAssign(target: any, ...sources: any[]): any {\n\treturn _mixin({\n\t\tdeep: true,\n\t\tinherited: false,\n\t\tsources: sources,\n\t\ttarget: target\n\t});\n}\n\n/**\n * Copies the values of all enumerable (own or inherited) properties of one or more source objects to the\n * target object, recursively copying all nested objects and arrays as well.\n *\n * @param target The target object to receive values from source objects\n * @param sources Any number of objects whose enumerable properties will be copied to the target object\n * @return The modified target object\n */\nexport function deepMixin<\n\tT extends {},\n\tU extends {},\n\tV extends {},\n\tW extends {},\n\tX extends {},\n\tY extends {},\n\tZ extends {}\n>(target: T, source1: U, source2: V, source3: W, source4: X, source5: Y, source6: Z): T & U & V & W & X & Y & Z;\nexport function deepMixin<T extends {}, U extends {}, V extends {}, W extends {}, X extends {}, Y extends {}>(\n\ttarget: T,\n\tsource1: U,\n\tsource2: V,\n\tsource3: W,\n\tsource4: X,\n\tsource5: Y\n): T & U & V & W & X & Y;\nexport function deepMixin<T extends {}, U extends {}, V extends {}, W extends {}, X extends {}>(\n\ttarget: T,\n\tsource1: U,\n\tsource2: V,\n\tsource3: W,\n\tsource4: X\n): T & U & V & W & X;\nexport function deepMixin<T extends {}, U extends {}, V extends {}, W extends {}>(\n\ttarget: T,\n\tsource1: U,\n\tsource2: V,\n\tsource3: W\n): T & U & V & W;\nexport function deepMixin<T extends {}, U extends {}, V extends {}>(target: T, source1: U, source2: V): T & U & V;\nexport function deepMixin<T extends {}, U extends {}>(target: T, source: U): T & U;\nexport function deepMixin(target: any, ...sources: any[]): any {\n\treturn _mixin({\n\t\tdeep: true,\n\t\tinherited: true,\n\t\tsources: sources,\n\t\ttarget: target\n\t});\n}\n\n/**\n * Copies the values of all enumerable (own or inherited) properties of one or more source objects to the\n * target object.\n *\n * @return The modified target object\n */\nexport function mixin<T extends {}, U extends {}, V extends {}, W extends {}, X extends {}, Y extends {}, Z extends {}>(\n\ttarget: T,\n\tsource1: U,\n\tsource2: V,\n\tsource3: W,\n\tsource4: X,\n\tsource5: Y,\n\tsource6: Z\n): T & U & V & W & X & Y & Z;\nexport function mixin<T extends {}, U extends {}, V extends {}, W extends {}, X extends {}, Y extends {}>(\n\ttarget: T,\n\tsource1: U,\n\tsource2: V,\n\tsource3: W,\n\tsource4: X,\n\tsource5: Y\n): T & U & V & W & X & Y;\nexport function mixin<T extends {}, U extends {}, V extends {}, W extends {}, X extends {}>(\n\ttarget: T,\n\tsource1: U,\n\tsource2: V,\n\tsource3: W,\n\tsource4: X\n): T & U & V & W & X;\nexport function mixin<T extends {}, U extends {}, V extends {}, W extends {}>(\n\ttarget: T,\n\tsource1: U,\n\tsource2: V,\n\tsource3: W\n): T & U & V & W;\nexport function mixin<T extends {}, U extends {}, V extends {}>(target: T, source1: U, source2: V): T & U & V;\nexport function mixin<T extends {}, U extends {}>(target: T, source: U): T & U;\nexport function mixin(target: any, ...sources: any[]): any {\n\treturn _mixin({\n\t\tdeep: false,\n\t\tinherited: true,\n\t\tsources: sources,\n\t\ttarget: target\n\t});\n}\n\n/**\n * Returns a function which invokes the given function with the given arguments prepended to its argument list.\n * Like `Function.prototype.bind`, but does not alter execution context.\n *\n * @param targetFunction The function that needs to be bound\n * @param suppliedArgs An optional array of arguments to prepend to the `targetFunction` arguments list\n * @return The bound function\n */\nexport function partial(targetFunction: (...args: any[]) => any, ...suppliedArgs: any[]): (...args: any[]) => any {\n\treturn function(this: any) {\n\t\tconst args: any[] = arguments.length ? suppliedArgs.concat(slice.call(arguments)) : suppliedArgs;\n\n\t\treturn targetFunction.apply(this, args);\n\t};\n}\n\nexport function guaranteeMinimumTimeout(callback: (...args: any[]) => void, delay?: number): Handle {\n\tconst startTime = Date.now();\n\tlet timerId: any;\n\n\tfunction timeoutHandler() {\n\t\tconst delta = Date.now() - startTime;\n\t\tif (delay == null || delta >= delay) {\n\t\t\tcallback();\n\t\t} else {\n\t\t\ttimerId = setTimeout(timeoutHandler, delay - delta);\n\t\t}\n\t}\n\ttimerId = setTimeout(timeoutHandler, delay);\n\treturn {\n\t\tdestroy: () => {\n\t\t\tif (timerId != null) {\n\t\t\t\tclearTimeout(timerId);\n\t\t\t\ttimerId = null;\n\t\t\t}\n\t\t}\n\t};\n}\n\nexport function debounce<T extends (this: any, ...args: any[]) => void>(callback: T, delay: number): T {\n\tlet timer: Handle | null;\n\n\treturn <T>function() {\n\t\ttimer && timer.destroy();\n\n\t\tlet context = this;\n\t\tlet args: any | null = arguments;\n\n\t\ttimer = guaranteeMinimumTimeout(function() {\n\t\t\tcallback.apply(context, args);\n\t\t\targs = context = timer = null;\n\t\t}, delay);\n\t};\n}\n\nexport function throttle<T extends (this: any, ...args: any[]) => void>(callback: T, delay: number): T {\n\tlet ran: boolean | null;\n\n\treturn <T>function() {\n\t\tif (ran) {\n\t\t\treturn;\n\t\t}\n\n\t\tran = true;\n\t\tlet args: any | null = arguments;\n\n\t\tcallback.apply(this, args);\n\t\tguaranteeMinimumTimeout(function() {\n\t\t\tran = null;\n\t\t}, delay);\n\t};\n}\n\nexport function uuid(): string {\n\treturn 'xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx'.replace(/[xy]/g, function(c) {\n\t\tconst r = (Math.random() * 16) | 0,\n\t\t\tv = c === 'x' ? r : (r & 0x3) | 0x8;\n\t\treturn v.toString(16);\n\t});\n}\n\n/**\n * Generic decorate function for DNodes. The nodes are modified in place based on the provided predicate\n * and modifier functions.\n *\n * The children of each node are flattened and added to the array for decoration.\n *\n * If no predicate is supplied then the modifier will be executed on all nodes. A `breaker` function is passed to the\n * modifier which will drain the nodes array and exit the decoration.\n *\n * When the `shallow` options is set to `true` the only the top node or nodes will be decorated (only supported using\n * `DecorateOptions`).\n */\nexport function decorate<T extends DNode>(dNodes: DNode, options: DecorateOptions<T>): DNode;\nexport function decorate<T extends DNode>(dNodes: DNode[], options: DecorateOptions<T>): DNode[];\nexport function decorate<T extends DNode>(dNodes: DNode | DNode[], options: DecorateOptions<T>): DNode | DNode[];\nexport function decorate<T extends DNode>(dNodes: DNode, modifier: Modifier<T>, predicate: Predicate<T>): DNode;\nexport function decorate<T extends DNode>(dNodes: DNode[], modifier: Modifier<T>, predicate: Predicate<T>): DNode[];\nexport function decorate<T extends DNode>(\n\tdNodes: RenderResult,\n\tmodifier: Modifier<T>,\n\tpredicate: Predicate<T>\n): RenderResult;\nexport function decorate(dNodes: DNode, modifier: Modifier<DNode>): DNode;\nexport function decorate(dNodes: DNode[], modifier: Modifier<DNode>): DNode[];\nexport function decorate(dNodes: RenderResult, modifier: Modifier<DNode>): RenderResult;\nexport function decorate(\n\tdNodes: DNode | DNode[],\n\toptionsOrModifier: Modifier<DNode> | DecorateOptions<DNode>,\n\tpredicate?: Predicate<DNode>\n): DNode | DNode[] {\n\tlet shallow = false;\n\tlet modifier;\n\tif (typeof optionsOrModifier === 'function') {\n\t\tmodifier = optionsOrModifier;\n\t} else {\n\t\tmodifier = optionsOrModifier.modifier;\n\t\tpredicate = optionsOrModifier.predicate;\n\t\tshallow = optionsOrModifier.shallow || false;\n\t}\n\n\tlet nodes = Array.isArray(dNodes) ? [...dNodes] : [dNodes];\n\tfunction breaker() {\n\t\tnodes = [];\n\t}\n\twhile (nodes.length) {\n\t\tconst node = nodes.shift();\n\t\tif (node && node !== true) {\n\t\t\tif (!shallow && (isWNode(node) || isVNode(node)) && node.children) {\n\t\t\t\tnodes = [...nodes, ...node.children];\n\t\t\t}\n\t\t\tif (!predicate || predicate(node)) {\n\t\t\t\tmodifier(node, breaker);\n\t\t\t}\n\t\t}\n\t}\n\treturn dNodes;\n}\n","import { Base } from './Base';\nimport { deepAssign } from '../../core/util';\n\nexport interface TopLeft {\n\tleft: number;\n\ttop: number;\n}\n\nexport interface BottomRight {\n\tbottom: number;\n\tright: number;\n}\n\nexport interface Size {\n\theight: number;\n\twidth: number;\n}\n\nexport interface DimensionResults {\n\tposition: TopLeft & BottomRight;\n\toffset: TopLeft & Size;\n\tsize: Size;\n\tscroll: TopLeft & Size;\n\tclient: TopLeft & Size;\n}\n\nconst defaultDimensions = {\n\tclient: {\n\t\theight: 0,\n\t\tleft: 0,\n\t\ttop: 0,\n\t\twidth: 0\n\t},\n\toffset: {\n\t\theight: 0,\n\t\tleft: 0,\n\t\ttop: 0,\n\t\twidth: 0\n\t},\n\tposition: {\n\t\tbottom: 0,\n\t\tleft: 0,\n\t\tright: 0,\n\t\ttop: 0\n\t},\n\tscroll: {\n\t\theight: 0,\n\t\tleft: 0,\n\t\ttop: 0,\n\t\twidth: 0\n\t},\n\tsize: {\n\t\twidth: 0,\n\t\theight: 0\n\t}\n};\n\nexport class Dimensions extends Base {\n\tpublic get(key: string | number): Readonly<DimensionResults> {\n\t\tconst node = this.getNode(key) as HTMLElement;\n\n\t\tif (!node) {\n\t\t\treturn deepAssign({}, defaultDimensions);\n\t\t}\n\n\t\tconst boundingDimensions = node.getBoundingClientRect();\n\n\t\treturn {\n\t\t\tclient: {\n\t\t\t\theight: node.clientHeight,\n\t\t\t\tleft: node.clientLeft,\n\t\t\t\ttop: node.clientTop,\n\t\t\t\twidth: node.clientWidth\n\t\t\t},\n\t\t\toffset: {\n\t\t\t\theight: node.offsetHeight,\n\t\t\t\tleft: node.offsetLeft,\n\t\t\t\ttop: node.offsetTop,\n\t\t\t\twidth: node.offsetWidth\n\t\t\t},\n\t\t\tposition: {\n\t\t\t\tbottom: boundingDimensions.bottom,\n\t\t\t\tleft: boundingDimensions.left,\n\t\t\t\tright: boundingDimensions.right,\n\t\t\t\ttop: boundingDimensions.top\n\t\t\t},\n\t\t\tscroll: {\n\t\t\t\theight: node.scrollHeight,\n\t\t\t\tleft: node.scrollLeft,\n\t\t\t\ttop: node.scrollTop,\n\t\t\t\twidth: node.scrollWidth\n\t\t\t},\n\t\t\tsize: {\n\t\t\t\twidth: boundingDimensions.width,\n\t\t\t\theight: boundingDimensions.height\n\t\t\t}\n\t\t};\n\t}\n}\n\nexport default Dimensions;\n","import global from './global';\nimport has from '../core/has';\n`!has('build-elide')`;\nimport * as Resize from 'resize-observer-polyfill';\nimport wrapper from './util/wrapper';\n\nexport interface DOMRectReadOnly {\n\treadonly x: number;\n\treadonly y: number;\n\treadonly width: number;\n\treadonly height: number;\n\treadonly top: number;\n\treadonly right: number;\n\treadonly bottom: number;\n\treadonly left: number;\n}\n\nexport interface ResizeObserverCallback {\n\t(entries: ResizeObserverEntry[], observer: ResizeObserver): void;\n}\n\nexport interface ResizeObserverEntry {\n\treadonly target: Element;\n\treadonly contentRect: DOMRectReadOnly;\n}\n\nexport interface ResizeObserver {\n\tobserve(target: Element): void;\n\tunobserve(target: Element): void;\n\tdisconnect(): void;\n}\n\ndeclare var ResizeObserver: {\n\tprototype: ResizeObserver;\n\tnew (callback: ResizeObserverCallback): ResizeObserver;\n};\n\nif (!has('build-elide')) {\n\tif (!global.ResizeObserver) {\n\t\t// default is undefined when UMD module is used\n\t\tglobal.ResizeObserver = Resize.default || Resize;\n\t}\n}\n\nexport default wrapper('ResizeObserver', true) as typeof ResizeObserver;\n","import { Base } from './Base';\nimport Map from '../../shim/Map';\nimport ResizeObserver from '../../shim/ResizeObserver';\n\nexport interface ContentRect {\n\treadonly bottom: number;\n\treadonly height: number;\n\treadonly left: number;\n\treadonly right: number;\n\treadonly top: number;\n\treadonly width: number;\n\treadonly x: number;\n\treadonly y: number;\n}\n\nexport interface PredicateFunction {\n\t(contentRect: ContentRect): boolean;\n}\n\nexport interface PredicateFunctions {\n\t[id: string]: PredicateFunction;\n}\n\nexport type PredicateResponses<T = PredicateFunctions> = { [id in keyof T]: boolean };\n\nexport class Resize extends Base {\n\tprivate _details = new Map<string | number, PredicateResponses>();\n\n\tpublic get<T extends PredicateFunctions>(\n\t\tkey: string | number,\n\t\tpredicates = {} as PredicateFunctions\n\t): PredicateResponses<T> {\n\t\tconst node = this.getNode(key);\n\n\t\tif (!node) {\n\t\t\tconst defaultResponse: PredicateResponses = {};\n\t\t\tfor (let predicateId in predicates) {\n\t\t\t\tdefaultResponse[predicateId] = false;\n\t\t\t}\n\t\t\treturn defaultResponse as PredicateResponses<T>;\n\t\t}\n\n\t\tif (!this._details.has(key)) {\n\t\t\tthis._details.set(key, {});\n\t\t\tconst resizeObserver = new ResizeObserver(([entry]) => {\n\t\t\t\tlet predicateChanged = false;\n\t\t\t\tif (Object.keys(predicates).length) {\n\t\t\t\t\tconst { contentRect } = entry;\n\t\t\t\t\tconst previousDetails = this._details.get(key);\n\t\t\t\t\tlet predicateResponses: PredicateResponses = {};\n\n\t\t\t\t\tfor (let predicateId in predicates) {\n\t\t\t\t\t\tconst response = predicates[predicateId](contentRect);\n\t\t\t\t\t\tpredicateResponses[predicateId] = response;\n\t\t\t\t\t\tif (!predicateChanged && response !== previousDetails![predicateId]) {\n\t\t\t\t\t\t\tpredicateChanged = true;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\n\t\t\t\t\tthis._details.set(key, predicateResponses);\n\t\t\t\t} else {\n\t\t\t\t\tpredicateChanged = true;\n\t\t\t\t}\n\t\t\t\tpredicateChanged && this.invalidate();\n\t\t\t});\n\t\t\tresizeObserver.observe(node);\n\t\t\tthis.own({\n\t\t\t\tdestroy: () => {\n\t\t\t\t\tresizeObserver.disconnect();\n\t\t\t\t}\n\t\t\t});\n\t\t}\n\n\t\treturn this._details.get(key) as PredicateResponses<T>;\n\t}\n}\n\nexport default Resize;\n","import global from '../shim/global';\nimport WeakMap from '../shim/WeakMap';\nimport * as Globalize from 'globalize/dist/globalize/message';\nconst Cldr = require('cldrjs/dist/cldr');\n`!has('cldr-elide')`;\nimport './util/cldr';\n\nexport interface Messages {\n\t[key: string]: string;\n}\n\nexport interface MessageLoader {\n\t(): Promise<{ default: Messages }>;\n}\n\nexport interface CldrLoader {\n\t(): Promise<{ default: any }[]>;\n}\n\nexport interface LocaleLoaders {\n\t[index: string]: Messages | MessageLoader;\n}\n\nexport interface CldrLoaders {\n\t[index: string]: CldrLoader | true;\n}\n\nexport interface Bundle<T extends Messages> {\n\treadonly locales?: LocaleLoaders;\n\treadonly messages: T;\n}\n\nexport interface LocalizeOptions {\n\tlocale?: string;\n\tuseDefault?: boolean;\n\tinvalidator: any;\n}\n\nexport interface LocalizeResult<T extends Bundle<any>> {\n\tmessages: T['messages'];\n\tisPlaceholder: boolean;\n\tformat: (key: keyof T['messages'], options: any) => string;\n}\n\ninterface SetLocaleOptions {\n\tlocale?: string;\n\tdefault?: boolean;\n\tlocal?: boolean;\n\tinvalidator?: () => void;\n}\n\n/**\n * Ensure that the raw bundle is not mutated when\n * the resolved bundles are set\n */\nlet cldrResolved = Cldr._resolved;\n\nObject.defineProperty(Cldr, '_resolved', {\n\tget() {\n\t\treturn { ...cldrResolved };\n\t},\n\tset(value: any) {\n\t\tcldrResolved = { ...value };\n\t}\n});\n\nconst TOKEN_PATTERN = /\\{([a-z0-9_]+)\\}/gi;\nconst bundleIdMap = new WeakMap<Bundle<Messages>, string>();\nconst bundleLoaderMap = new WeakMap<MessageLoader, string>();\nconst idToBundleLoaderMap = new Map<string, MessageLoader>();\nconst globalizeInstanceMap = new Map<string, Globalize>();\nconst MESSAGE_BUNDLE_PATH = 'globalize-messages/{bundle}';\nconst DOJO_PATH = 'dojo/{bundle}/lookup';\n\nlet supportedLocales: string[] = [];\nlet defaultLocale = '';\n// Set to `unknown` to support using default message bundles\n// without an application locale configured\nlet computedLocale = 'unknown';\nlet currentLocale: string | undefined;\nlet cldrLoaders: CldrLoaders = {};\nlet bundleId = 0;\nconst cldr = new Cldr('');\n\n/**\n * Sets the array of supported locales for the application\n */\nexport function setSupportedLocales(locales: string[]) {\n\tsupportedLocales = locales;\n}\n\n/**\n * Sets the default locale of the application.\n */\nexport function setDefaultLocale(locale: string) {\n\tdefaultLocale = locale;\n}\n\n/**\n * Returns the users locale computed by using the system locale\n * of the environment and the default locale.\n *\n * The users system locale if supported by the application (i.e resolves\n * to one of the set supported locales) otherwise the registered default\n * locale.\n */\nexport function getComputedLocale() {\n\treturn computedLocale;\n}\n\n/**\n * Returns the application's current locale\n */\nexport function getCurrentLocale() {\n\treturn currentLocale;\n}\n\n/**\n * Sets the available cldr loaders for the i18n module\n */\nexport function setCldrLoaders(loaders: CldrLoaders) {\n\tcldrLoaders = { ...loaders };\n}\n\n/**\n * Returns the matching supported locale for the passed locale. If there\n * is no matching locale then undefined is returned\n */\nexport function getMatchedSupportedLocale(locale: string): string | undefined {\n\tlet partialLocale = locale.replace(/^([a-z]{2}).*/i, '$1');\n\tlet matchedLocale;\n\tfor (let i = 0; i < supportedLocales.length; i++) {\n\t\tconst supportedLocale = supportedLocales[i];\n\t\tif (locale === supportedLocale) {\n\t\t\tmatchedLocale = locale;\n\t\t\tbreak;\n\t\t}\n\t\tif (partialLocale === supportedLocale) {\n\t\t\tmatchedLocale = partialLocale;\n\t\t}\n\t}\n\treturn matchedLocale;\n}\n\n/**\n * Determines if the fallback CLDR data needs to be loaded\n * for the locale\n */\nfunction shouldLoadFallbackCldr(locale: string) {\n\treturn !getMatchedSupportedLocale(locale) && cldrLoaders.fallback && cldrLoaders.fallback !== true;\n}\n\n/**\n * Sets the i18n modules locale state based on whether the locale\n * is the default or local\n */\nfunction setI18nLocales(locale: string, isDefault: boolean, local: boolean): void {\n\tif (isDefault) {\n\t\tGlobalize.locale(locale);\n\t\tcomputedLocale = locale;\n\t\tcurrentLocale = locale;\n\t} else if (!local) {\n\t\tcurrentLocale = locale;\n\t}\n}\n\n/**\n * Load required CLDR data based on the registered loaders and support\n * for the requested locale\n */\nasync function loadCldrData(\n\tloaderPromises: Promise<any>[],\n\tuserLocale: string,\n\trequestedLocale: string,\n\tcalculatedLocale: string,\n\tisDefault: boolean,\n\tisLocal: boolean,\n\tinvalidator?: () => void\n): Promise<any> {\n\treturn Promise.all(loaderPromises).then((loaderData) => {\n\t\tcldrLoaders[userLocale] = true;\n\t\tcldrLoaders.supplemental = true;\n\t\tloaderData.forEach((results) => {\n\t\t\tresults.forEach((result: any) => {\n\t\t\t\tGlobalize.load(result.default);\n\t\t\t});\n\t\t});\n\t\tif (shouldLoadFallbackCldr(requestedLocale)) {\n\t\t\tcldrLoaders.fallback = true;\n\t\t\tconst data = cldr.get('dojo') || {};\n\t\t\tconst locales = Object.keys(data);\n\t\t\tfor (let i = 0; i < locales.length; i++) {\n\t\t\t\tconst locale = locales[i];\n\t\t\t\tif (data[locale].bundles) {\n\t\t\t\t\tGlobalize.loadMessages({ [locale]: data[locale].bundles });\n\t\t\t\t}\n\t\t\t}\n\t\t\tif (requestedLocale && locales.indexOf(requestedLocale) === -1) {\n\t\t\t\tGlobalize.loadMessages({ [requestedLocale]: {} });\n\t\t\t}\n\t\t}\n\t\tsetI18nLocales(calculatedLocale, isDefault, isLocal);\n\t\tinvalidator && invalidator();\n\t\treturn calculatedLocale;\n\t});\n}\n\n/**\n * Sets the i18n locale information for the application, loading any CLDR data or NLS\n * messages required to support the change.\n */\nexport function setLocale(options: SetLocaleOptions = {}): Promise<string> | string {\n\tconst {\n\t\tlocal: isLocal = false,\n\t\tdefault: isDefault = false,\n\t\tlocale: requestedLocale = global.navigator.language || global.navigator.userLanguage,\n\t\tinvalidator\n\t} = options;\n\tconst matchedLocale = getMatchedSupportedLocale(requestedLocale);\n\tconst userLocale = matchedLocale || defaultLocale;\n\tconst calculatedLocale = matchedLocale ? requestedLocale : defaultLocale;\n\n\tconst loaderPromises: Promise<any>[] = [];\n\tconst supplementalLoader = cldrLoaders.supplemental;\n\tconst fallbackLoader = cldrLoaders.fallback;\n\n\tif (supplementalLoader && supplementalLoader !== true) {\n\t\tloaderPromises.push(supplementalLoader());\n\t}\n\tconst localeCldrLoader = cldrLoaders[userLocale];\n\tif (localeCldrLoader && localeCldrLoader !== true) {\n\t\tloaderPromises.push(localeCldrLoader());\n\t}\n\tconst loadFallback = !matchedLocale && fallbackLoader && fallbackLoader !== true;\n\tif (loadFallback && fallbackLoader && fallbackLoader !== true) {\n\t\tloaderPromises.push(fallbackLoader());\n\t}\n\n\tif (loaderPromises.length) {\n\t\treturn loadCldrData(\n\t\t\tloaderPromises,\n\t\t\tuserLocale,\n\t\t\trequestedLocale,\n\t\t\tcalculatedLocale,\n\t\t\tisDefault,\n\t\t\tisLocal,\n\t\t\tinvalidator\n\t\t);\n\t} else if (!matchedLocale) {\n\t\tGlobalize.loadMessages({ [requestedLocale]: {} });\n\t}\n\n\tsetI18nLocales(calculatedLocale, isDefault, isLocal);\n\treturn calculatedLocale;\n}\n\nfunction getPlaceholderBundle<T extends Messages>(bundle: Bundle<T>) {\n\treturn {\n\t\tmessages: Object.keys(bundle.messages).reduce(\n\t\t\t(messages, key) => {\n\t\t\t\tmessages[key] = '';\n\t\t\t\treturn messages;\n\t\t\t},\n\t\t\t{} as any\n\t\t),\n\t\tisPlaceholder: true,\n\t\tformat: () => ''\n\t};\n}\n\nfunction getBundleId() {\n\treturn `id-${++bundleId}`;\n}\n\nfunction markBundleAsLoaded(locale: string, bundleId: string) {\n\tCldr.load({\n\t\tdojo: {\n\t\t\t[locale]: {\n\t\t\t\tlookup: {\n\t\t\t\t\t[bundleId]: {\n\t\t\t\t\t\tlocale: undefined,\n\t\t\t\t\t\tid: undefined,\n\t\t\t\t\t\tloading: undefined\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t});\n}\n\n/**\n * Registers all locale loaders for the bundle\n */\nfunction registerBundle<T extends Messages>(bundle: Bundle<T>): string {\n\tconst { locales: localeBundleLoaders = {} } = bundle;\n\tconst locales = Object.keys(localeBundleLoaders);\n\tlet bundleId = bundleIdMap.get(bundle);\n\tif (!bundleId) {\n\t\tbundleId = getBundleId();\n\t\tbundleIdMap.set(bundle, bundleId);\n\t\tconst messageBundles: { [index: string]: any } = {};\n\t\tconst lookup: { [index: string]: any } = {};\n\n\t\tfor (let i = 0; i < locales.length; i++) {\n\t\t\tconst locale = locales[i];\n\t\t\tconst isSupportedLocale = !!getMatchedSupportedLocale(locale);\n\t\t\tconst bundleLoader = localeBundleLoaders[locale];\n\t\t\tlet messages = {};\n\t\t\tif (typeof bundleLoader === 'function') {\n\t\t\t\tconst id = getBundleId();\n\t\t\t\tbundleLoaderMap.set(bundleLoader, id);\n\t\t\t\tidToBundleLoaderMap.set(id, bundleLoader);\n\t\t\t\tlookup[locale] = { lookup: { [bundleId]: { locale, id } } };\n\t\t\t} else {\n\t\t\t\tmessages = bundleLoader;\n\t\t\t}\n\t\t\tif (isSupportedLocale) {\n\t\t\t\tmessageBundles[locale] = {\n\t\t\t\t\t[bundleId]: messages\n\t\t\t\t};\n\t\t\t} else if (lookup[locale]) {\n\t\t\t\tlookup[locale].bundles = { [bundleId]: messages };\n\t\t\t} else {\n\t\t\t\tlookup[locale] = {\n\t\t\t\t\tbundles: { [bundleId]: messages }\n\t\t\t\t};\n\t\t\t}\n\t\t}\n\t\tGlobalize.loadMessages({\n\t\t\troot: { [bundleId]: bundle.messages },\n\t\t\t[computedLocale]: { [bundleId]: bundle.messages },\n\t\t\t[defaultLocale]: { [bundleId]: bundle.messages },\n\t\t\t...messageBundles\n\t\t});\n\t\tCldr.load({ dojo: lookup });\n\t}\n\treturn bundleId;\n}\n\nconst cachedBundleMap = new WeakMap<Bundle<any>, Map<string, LocalizeResult<Bundle<any>>>>();\n\nexport function localizeBundle<T extends Messages>(\n\tbundle: Bundle<T>,\n\toptions: LocalizeOptions\n): LocalizeResult<Bundle<T>> {\n\tlet { locale = computedLocale, invalidator } = options;\n\tif (computedLocale === 'unknown') {\n\t\treturn {\n\t\t\tmessages: bundle.messages,\n\t\t\tisPlaceholder: false,\n\t\t\tformat: (key, options) => {\n\t\t\t\treturn bundle.messages[key].replace(TOKEN_PATTERN, (token, property) => {\n\t\t\t\t\tconst value = options[property];\n\t\t\t\t\tif (typeof value === 'undefined') {\n\t\t\t\t\t\treturn token;\n\t\t\t\t\t}\n\t\t\t\t\treturn value;\n\t\t\t\t});\n\t\t\t}\n\t\t};\n\t}\n\tif (shouldLoadFallbackCldr(locale)) {\n\t\tsetLocale({ default: false, local: true, locale, invalidator });\n\t\treturn getPlaceholderBundle(bundle);\n\t}\n\tconst bundleId = registerBundle(bundle);\n\tconst globalize = globalizeInstanceMap.get(locale) || new Globalize(new Cldr(locale));\n\tglobalizeInstanceMap.set(locale, globalize);\n\tconst lookupId = globalize.cldr.get(`${DOJO_PATH}/${bundleId}/id`);\n\tconst lookupLocale = globalize.cldr.get(`${DOJO_PATH}/${bundleId}/locale`);\n\tif (lookupId && lookupLocale) {\n\t\tlet bundleLoader = idToBundleLoaderMap.get(lookupId);\n\t\tif (bundleLoader) {\n\t\t\tCldr.load({\n\t\t\t\tdojo: {\n\t\t\t\t\t[lookupLocale]: { lookup: { [bundleId]: { loading: true } } }\n\t\t\t\t}\n\t\t\t});\n\t\t\tconst loaderPromise = bundleLoader();\n\t\t\tloaderPromise.then((messages) => {\n\t\t\t\tmarkBundleAsLoaded(lookupLocale, bundleId as string);\n\t\t\t\tGlobalize.loadMessages({ [lookupLocale]: { [bundleId as string]: messages.default } });\n\t\t\t\tinvalidator();\n\t\t\t});\n\t\t}\n\t}\n\tconst lookupLoading = globalize.cldr.get(`${DOJO_PATH}/${bundleId}/loading`);\n\n\tif (lookupLoading) {\n\t\treturn getPlaceholderBundle(bundle);\n\t}\n\n\tconst cachedLocaleMessagesMap = cachedBundleMap.get(bundle) || new Map<string, LocalizeResult<Bundle<any>>>();\n\tlet localizedBundleMessages = cachedLocaleMessagesMap.get(locale);\n\tif (!localizedBundleMessages) {\n\t\tlocalizedBundleMessages = {\n\t\t\tmessages: Object.keys(bundle.messages).reduce(\n\t\t\t\t(messages, key) => {\n\t\t\t\t\tconst message = globalize.cldr.get(`${MESSAGE_BUNDLE_PATH}/${bundleId}/${key}`);\n\t\t\t\t\tmessages[key] = message;\n\t\t\t\t\treturn messages;\n\t\t\t\t},\n\t\t\t\t{} as any\n\t\t\t),\n\t\t\tisPlaceholder: false,\n\t\t\tformat: (key: any, options: {}) => {\n\t\t\t\treturn globalize.formatMessage(`${bundleId}/${key}`, options);\n\t\t\t}\n\t\t};\n\t\tcachedLocaleMessagesMap.set(locale, localizedBundleMessages);\n\t\tcachedBundleMap.set(bundle, cachedLocaleMessagesMap);\n\t}\n\treturn localizedBundleMessages;\n}\n","import { handleDecorator } from './handleDecorator';\n\n/**\n * Decorator that can be used to register a function to run as an aspect to `render`\n */\nexport function afterRender(method: Function): (target: any) => void;\nexport function afterRender(): (target: any, propertyKey: string) => void;\nexport function afterRender(method?: Function) {\n\treturn handleDecorator((target, propertyKey) => {\n\t\ttarget.addDecorator('afterRender', propertyKey ? target[propertyKey] : method);\n\t});\n}\n\nexport default afterRender;\n","import { handleDecorator } from './handleDecorator';\nimport { BeforeProperties } from './../interfaces';\n\n/**\n * Decorator that adds the function passed of target method to be run\n * in the `beforeProperties` lifecycle.\n */\nexport function beforeProperties(method: BeforeProperties): (target: any) => void;\nexport function beforeProperties(): (target: any, propertyKey: string) => void;\nexport function beforeProperties(method?: BeforeProperties) {\n\treturn handleDecorator((target, propertyKey) => {\n\t\ttarget.addDecorator('beforeProperties', propertyKey ? target[propertyKey] : method);\n\t});\n}\n\nexport default beforeProperties;\n","import WeakMap from '../../shim/WeakMap';\nimport { WidgetBase } from './../WidgetBase';\nimport { handleDecorator } from './handleDecorator';\nimport { beforeProperties } from './beforeProperties';\nimport { InjectorItem, RegistryLabel } from './../interfaces';\n\n/**\n * Map of instances against registered injectors.\n */\nconst registeredInjectorsMap: WeakMap<WidgetBase, InjectorItem[]> = new WeakMap();\n\n/**\n * Defines the contract requires for the get properties function\n * used to map the injected properties.\n */\nexport interface GetProperties<T = any> {\n\t(payload: any, properties: T): T;\n}\n\n/**\n * Defines the inject configuration required for use of the `inject` decorator\n */\nexport interface InjectConfig {\n\t/**\n\t * The label of the registry injector\n\t */\n\tname: RegistryLabel;\n\n\t/**\n\t * Function that returns propertues to inject using the passed properties\n\t * and the injected payload.\n\t */\n\tgetProperties: GetProperties;\n}\n\nexport function getInjector(instance: WidgetBase & { own: Function }, name: RegistryLabel) {\n\tconst injectorItem = instance.registry.getInjector(name);\n\tif (injectorItem) {\n\t\tconst { injector, invalidator } = injectorItem;\n\t\tconst registeredInjectors = registeredInjectorsMap.get(instance) || [];\n\t\tif (registeredInjectors.length === 0) {\n\t\t\tregisteredInjectorsMap.set(instance, registeredInjectors);\n\t\t}\n\t\tif (registeredInjectors.indexOf(injectorItem) === -1) {\n\t\t\tinstance.own(\n\t\t\t\tinvalidator.on('invalidate', () => {\n\t\t\t\t\tinstance.invalidate();\n\t\t\t\t})\n\t\t\t);\n\t\t\tregisteredInjectors.push(injectorItem);\n\t\t}\n\t\treturn injector;\n\t}\n}\n\n/**\n * Decorator retrieves an injector from an available registry using the name and\n * calls the `getProperties` function with the payload from the injector\n * and current properties with the the injected properties returned.\n *\n * @param InjectConfig the inject configuration\n */\nexport function inject({ name, getProperties }: InjectConfig) {\n\treturn handleDecorator((target) => {\n\t\tbeforeProperties(function(this: WidgetBase & { own: Function }, properties: any) {\n\t\t\tconst injector = getInjector(this, name);\n\t\t\tif (injector) {\n\t\t\t\treturn getProperties(injector(), properties);\n\t\t\t}\n\t\t})(target);\n\t});\n}\n\nexport default inject;\n","import { LocaleData } from './interfaces';\nimport { setLocale, getComputedLocale } from '../i18n/i18n';\nimport { Injector } from './Injector';\nimport Registry from './Registry';\nimport { isThenable } from '../shim/Promise';\n\nexport const INJECTOR_KEY = '__i18n_injector';\n\nexport class I18nInjector extends Injector {\n\tset(localeData: LocaleData = {}) {\n\t\tconst result = setLocale({ locale: localeData.locale || getComputedLocale() });\n\t\tif (isThenable(result)) {\n\t\t\tresult.then(() => {\n\t\t\t\tsuper.set(localeData);\n\t\t\t});\n\t\t\treturn;\n\t\t}\n\t\tsuper.set(localeData);\n\t}\n}\n\nexport function registerI18nInjector(localeData: LocaleData, registry: Registry): I18nInjector {\n\tconst injector = new I18nInjector(localeData);\n\tregistry.defineInjector(INJECTOR_KEY, (invalidator) => {\n\t\tinjector.setInvalidator(invalidator);\n\t\treturn () => injector;\n\t});\n\treturn injector;\n}\n\nexport default I18nInjector;\n","/* tslint:disable:interface-name */\nimport { localizeBundle, Bundle, Messages, setLocale, getCurrentLocale } from '../../i18n/i18n';\nimport { isVNode } from './../vdom';\nimport { afterRender } from './../decorators/afterRender';\nimport { getInjector } from './../decorators/inject';\nimport { Constructor, DNode, VNodeProperties, LocalizedMessages, I18nProperties, LocaleData } from './../interfaces';\nimport { Injector } from './../Injector';\nimport { WidgetBase } from './../WidgetBase';\nimport { decorate } from '../util';\nimport { isThenable } from '../../shim/Promise';\nimport beforeProperties from '../decorators/beforeProperties';\nimport { INJECTOR_KEY } from '../I18nInjector';\n\nexport { LocalizedMessages, I18nProperties, LocaleData } from './../interfaces';\nexport { INJECTOR_KEY, registerI18nInjector } from '../I18nInjector';\n\n/**\n * interface for I18n functionality\n */\nexport interface I18nMixin {\n\t/**\n\t * Return the cached messages for the specified bundle for the current locale, assuming they have already\n\t * been loaded. If the locale-specific messages have not been loaded, they are fetched and the widget state\n\t * is updated.\n\t *\n\t * @param bundle\n\t * The required bundle object for which available locale messages should be loaded.\n\t *\n\t * @return\n\t * An object containing the localized messages, along with a `format` method for formatting ICU-formatted\n\t * templates and an `isPlaceholder` property indicating whether the returned messages are the defaults.\n\t */\n\tlocalizeBundle<T extends Messages>(bundle: Bundle<T>): LocalizedMessages<T>;\n\n\tproperties: I18nProperties;\n}\n\n/**\n * @private\n * An internal helper interface for defining locale and text direction attributes on widget nodes.\n */\ninterface I18nVNodeProperties extends VNodeProperties {\n\tdir: string;\n\tlang: string;\n}\n\nconst previousLocaleMap: WeakMap<WidgetBase, string> = new WeakMap();\n\nexport function I18nMixin<T extends Constructor<WidgetBase<any>>>(Base: T): T & Constructor<I18nMixin> {\n\t@beforeProperties(function(this: WidgetBase & { own: Function }, properties: any) {\n\t\tconst injector = getInjector(this, INJECTOR_KEY);\n\t\tlet injectedLocale: string | undefined;\n\t\tlet injectedRtl: boolean | undefined;\n\t\tif (injector) {\n\t\t\tconst injectLocaleData = injector() as Injector<LocaleData>;\n\t\t\tif (injectLocaleData) {\n\t\t\t\tconst injectedLocaleData = injectLocaleData.get();\n\t\t\t\tif (injectedLocaleData) {\n\t\t\t\t\tinjectedLocale = injectedLocaleData.locale;\n\t\t\t\t\tinjectedRtl = injectedLocaleData.rtl;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\tconst previousLocale = previousLocaleMap.get(this);\n\t\tpreviousLocaleMap.set(this, properties.locale);\n\n\t\tif (properties.locale && previousLocale !== properties.locale) {\n\t\t\tconst result = setLocale({ locale: properties.locale, local: true });\n\t\t\tif (isThenable(result)) {\n\t\t\t\tresult.then(() => {\n\t\t\t\t\tthis.invalidate();\n\t\t\t\t});\n\t\t\t\treturn {\n\t\t\t\t\tlocale: previousLocale || injectedLocale || getCurrentLocale(),\n\t\t\t\t\trtl: properties.rtl !== undefined ? properties.rtl : injectedRtl\n\t\t\t\t};\n\t\t\t}\n\t\t}\n\t\treturn {\n\t\t\tlocale: properties.locale || injectedLocale || getCurrentLocale(),\n\t\t\trtl: properties.rtl !== undefined ? properties.rtl : injectedRtl\n\t\t};\n\t})\n\tabstract class I18n extends Base {\n\t\tpublic abstract properties: I18nProperties;\n\n\t\tpublic localizeBundle<T extends Messages>(baseBundle: Bundle<T>): LocalizedMessages<T> {\n\t\t\tlet { locale, i18nBundle } = this.properties;\n\t\t\tif (i18nBundle) {\n\t\t\t\tif (i18nBundle instanceof Map) {\n\t\t\t\t\tbaseBundle = i18nBundle.get(baseBundle) || baseBundle;\n\t\t\t\t} else {\n\t\t\t\t\tbaseBundle = i18nBundle as Bundle<T>;\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn localizeBundle(baseBundle, {\n\t\t\t\tlocale,\n\t\t\t\tinvalidator: () => {\n\t\t\t\t\tthis.invalidate();\n\t\t\t\t}\n\t\t\t});\n\t\t}\n\n\t\t@afterRender()\n\t\tprotected renderDecorator(result: DNode | DNode[]): DNode | DNode[] {\n\t\t\tdecorate(result, {\n\t\t\t\tmodifier: (node, breaker) => {\n\t\t\t\t\tconst { locale, rtl } = this.properties;\n\t\t\t\t\tconst properties: Partial<I18nVNodeProperties> = {};\n\t\t\t\t\tif (typeof rtl === 'boolean') {\n\t\t\t\t\t\tproperties['dir'] = rtl ? 'rtl' : 'ltr';\n\t\t\t\t\t}\n\t\t\t\t\tif (locale) {\n\t\t\t\t\t\tproperties['lang'] = locale;\n\t\t\t\t\t}\n\t\t\t\t\tnode.properties = { ...node.properties, ...properties };\n\t\t\t\t\tbreaker();\n\t\t\t\t},\n\t\t\t\tpredicate: isVNode\n\t\t\t});\n\t\t\treturn result;\n\t\t}\n\t}\n\n\treturn I18n;\n}\n\nexport default I18nMixin;\n","import {\n\tTheme,\n\tClasses,\n\tClassNames,\n\tConstructor,\n\tSupportedClassName,\n\tThemeWithVariant,\n\tThemeWithVariants\n} from './../interfaces';\nimport { Registry } from './../Registry';\nimport { inject } from './../decorators/inject';\nimport { WidgetBase } from './../WidgetBase';\nimport { handleDecorator } from './../decorators/handleDecorator';\nimport { diffProperty } from './../decorators/diffProperty';\nimport {\n\tThemeInjector,\n\tisThemeWithVariant,\n\tisThemeWithVariants,\n\tisThemeInjectorPayloadWithVariant\n} from '../ThemeInjector';\n\nexport { Theme, Classes, ClassNames } from './../interfaces';\n\n/**\n * Properties required for the Themed mixin\n */\nexport interface ThemedProperties<T = ClassNames> {\n\t/** Overriding custom theme for the widget */\n\ttheme?: Theme | ThemeWithVariant;\n\t/** Map of widget keys and associated overriding classes */\n\tclasses?: Classes;\n\t/** Extra classes to be applied to the widget */\n\textraClasses?: { [P in keyof T]?: string };\n}\n\nexport const THEME_KEY = ' _key';\n\nexport const INJECTED_THEME_KEY = '__theme_injector';\n\n/**\n * Interface for the ThemedMixin\n */\nexport interface ThemedMixin<T = ClassNames> {\n\ttheme(classes: SupportedClassName): SupportedClassName;\n\ttheme(classes: SupportedClassName[]): SupportedClassName[];\n\tvariant(): string | undefined;\n\tproperties: ThemedProperties<T>;\n}\n\n/**\n * Decorator for base css classes\n */\nexport function theme(theme: {}) {\n\treturn handleDecorator((target) => {\n\t\ttarget.addDecorator('baseThemeClasses', theme);\n\t});\n}\n\n/**\n * Creates a reverse lookup for the classes passed in via the `theme` function.\n *\n * @param classes The baseClasses object\n * @requires\n */\nfunction createThemeClassesLookup(classes: ClassNames[]): ClassNames {\n\treturn classes.reduce(\n\t\t(currentClassNames, baseClass) => {\n\t\t\tObject.keys(baseClass).forEach((key: string) => {\n\t\t\t\tcurrentClassNames[baseClass[key]] = key;\n\t\t\t});\n\t\t\treturn currentClassNames;\n\t\t},\n\t\t<ClassNames>{}\n\t);\n}\n\n/**\n * Convenience function that is given a theme and an optional registry, the theme\n * injector is defined against the registry, returning the theme.\n *\n * @param theme the theme to set\n * @param themeRegistry registry to define the theme injector against. Defaults\n * to the global registry\n *\n * @returns the theme injector used to set the theme\n */\nexport function registerThemeInjector(\n\ttheme: Theme | ThemeWithVariants | ThemeWithVariant,\n\tthemeRegistry: Registry\n): ThemeInjector {\n\tconst themeInjector = new ThemeInjector(theme);\n\tthemeRegistry.defineInjector(INJECTED_THEME_KEY, (invalidator) => {\n\t\tthemeInjector.setInvalidator(invalidator);\n\t\treturn () => themeInjector;\n\t});\n\treturn themeInjector;\n}\n\n/**\n * Function that returns a class decorated with with Themed functionality\n */\n\nexport function ThemedMixin<E, T extends Constructor<WidgetBase<ThemedProperties<E>>>>(\n\tBase: T\n): Constructor<ThemedMixin<E>> & T {\n\t@inject({\n\t\tname: INJECTED_THEME_KEY,\n\t\tgetProperties: (theme: ThemeInjector, properties: ThemedProperties): ThemedProperties => {\n\t\t\tif (!properties.theme) {\n\t\t\t\tconst payload = theme.get();\n\t\t\t\tif (isThemeInjectorPayloadWithVariant(payload)) {\n\t\t\t\t\treturn { theme: payload };\n\t\t\t\t} else if (payload) {\n\t\t\t\t\treturn { theme: payload.theme };\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn {};\n\t\t}\n\t})\n\tabstract class Themed extends Base {\n\t\tpublic abstract properties: ThemedProperties<E>;\n\n\t\t/**\n\t\t * The Themed baseClasses\n\t\t */\n\t\tprivate _registeredBaseTheme: ClassNames | undefined;\n\n\t\t/**\n\t\t * Registered base theme keys\n\t\t */\n\t\tprivate _registeredBaseThemeKeys: string[] = [];\n\n\t\t/**\n\t\t * Reverse lookup of the theme classes\n\t\t */\n\t\tprivate _baseThemeClassesReverseLookup: ClassNames | undefined;\n\n\t\t/**\n\t\t * Indicates if classes meta data need to be calculated.\n\t\t */\n\t\tprivate _recalculateClasses = true;\n\n\t\t/**\n\t\t * Extra classes map\n\t\t */\n\t\tprivate _classes!: Classes;\n\n\t\t/**\n\t\t * Loaded theme\n\t\t */\n\t\tprivate _theme: ClassNames = {};\n\n\t\tpublic theme(classes: SupportedClassName): SupportedClassName;\n\t\tpublic theme(classes: SupportedClassName[]): SupportedClassName[];\n\t\tpublic theme(classes: SupportedClassName | SupportedClassName[]): SupportedClassName | SupportedClassName[] {\n\t\t\tif (this._recalculateClasses) {\n\t\t\t\tthis._recalculateThemeClasses();\n\t\t\t}\n\t\t\tif (Array.isArray(classes)) {\n\t\t\t\treturn classes.map((className) => this._getThemeClass(className));\n\t\t\t}\n\t\t\treturn this._getThemeClass(classes);\n\t\t}\n\n\t\tpublic variant() {\n\t\t\tconst { theme } = this.properties;\n\n\t\t\tif (theme && isThemeWithVariant(theme)) {\n\t\t\t\treturn theme.variant.value.root;\n\t\t\t}\n\t\t}\n\n\t\t/**\n\t\t * Function fired when `theme` or `extraClasses` are changed.\n\t\t */\n\t\t@diffProperty('theme')\n\t\t@diffProperty('extraClasses')\n\t\t@diffProperty('classes')\n\t\tprotected onPropertiesChanged() {\n\t\t\tthis._recalculateClasses = true;\n\t\t}\n\n\t\tprivate _getThemeClass(className: SupportedClassName): SupportedClassName {\n\t\t\tif (className === undefined || className === null || className === false || className === true) {\n\t\t\t\treturn className;\n\t\t\t}\n\n\t\t\tconst extraClasses = this.properties.extraClasses || ({} as any);\n\t\t\tconst themeClassName = this._baseThemeClassesReverseLookup![className];\n\t\t\tlet resultClassNames: string[] = [];\n\t\t\tif (!themeClassName) {\n\t\t\t\tconsole.warn(`Class name: '${className}' not found in theme`);\n\t\t\t\treturn null;\n\t\t\t}\n\n\t\t\tif (this._classes) {\n\t\t\t\tconst classes = Object.keys(this._classes).reduce(\n\t\t\t\t\t(classes, key) => {\n\t\t\t\t\t\tconst classNames = Object.keys(this._classes[key]);\n\t\t\t\t\t\tfor (let i = 0; i < classNames.length; i++) {\n\t\t\t\t\t\t\tconst extraClass = this._classes[key][classNames[i]];\n\t\t\t\t\t\t\tif (classNames[i] === themeClassName && extraClass) {\n\t\t\t\t\t\t\t\textraClass.forEach((className) => {\n\t\t\t\t\t\t\t\t\tif (className && className !== true) {\n\t\t\t\t\t\t\t\t\t\tclasses.push(className);\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t\treturn classes;\n\t\t\t\t\t},\n\t\t\t\t\t[] as string[]\n\t\t\t\t);\n\n\t\t\t\tresultClassNames.push(...classes);\n\t\t\t}\n\n\t\t\tif (extraClasses[themeClassName]) {\n\t\t\t\tresultClassNames.push(extraClasses[themeClassName]);\n\t\t\t}\n\n\t\t\tif (this._theme[themeClassName]) {\n\t\t\t\tresultClassNames.push(this._theme[themeClassName]);\n\t\t\t} else {\n\t\t\t\tresultClassNames.push(this._registeredBaseTheme![themeClassName]);\n\t\t\t}\n\t\t\treturn resultClassNames.join(' ');\n\t\t}\n\n\t\tprivate _recalculateThemeClasses() {\n\t\t\tlet { theme: themeProp = {}, classes = {} } = this.properties;\n\t\t\tlet theme: Theme;\n\n\t\t\tif (isThemeWithVariant(themeProp)) {\n\t\t\t\ttheme = isThemeWithVariants(themeProp.theme) ? themeProp.theme.theme : themeProp.theme;\n\t\t\t} else {\n\t\t\t\ttheme = themeProp;\n\t\t\t}\n\n\t\t\tif (!this._registeredBaseTheme) {\n\t\t\t\tconst baseThemes = this.getDecorator('baseThemeClasses');\n\t\t\t\tif (baseThemes.length === 0) {\n\t\t\t\t\tconsole.warn(\n\t\t\t\t\t\t'A base theme has not been provided to this widget. Please use the @theme decorator to add a theme.'\n\t\t\t\t\t);\n\t\t\t\t}\n\t\t\t\tthis._registeredBaseTheme = baseThemes.reduce((finalBaseTheme, baseTheme) => {\n\t\t\t\t\tconst { [THEME_KEY]: key, ...classes } = baseTheme;\n\t\t\t\t\tthis._registeredBaseThemeKeys.push(key);\n\t\t\t\t\treturn { ...finalBaseTheme, ...classes };\n\t\t\t\t}, {});\n\t\t\t\tthis._baseThemeClassesReverseLookup = createThemeClassesLookup(baseThemes);\n\t\t\t}\n\n\t\t\tthis._theme = this._registeredBaseThemeKeys.reduce((baseTheme, themeKey) => {\n\t\t\t\treturn { ...baseTheme, ...theme[themeKey] };\n\t\t\t}, {});\n\n\t\t\tthis._classes = Object.keys(classes).reduce((computed, key) => {\n\t\t\t\tif (this._registeredBaseThemeKeys.indexOf(key) > -1) {\n\t\t\t\t\tcomputed = { ...computed, [key]: classes[key] };\n\t\t\t\t}\n\t\t\t\treturn computed;\n\t\t\t}, {});\n\n\t\t\tthis._recalculateClasses = false;\n\t\t}\n\t}\n\n\treturn Themed;\n}\n\nexport default ThemedMixin;\n","import WidgetBase from '@dojo/framework/core/WidgetBase';\nimport { v } from '@dojo/framework/core/vdom';\nimport ThemedMixin, { theme } from '@dojo/framework/core/mixins/Themed';\nimport { DNode } from '@dojo/framework/core/interfaces';\nimport * as css from '../theme/default/grid-placeholder-row.m.css';\nimport * as fixedCss from './styles/placeholder-row.m.css';\n\n@theme(css)\nexport default class PlaceholderRow extends ThemedMixin(WidgetBase) {\n\tprotected render(): DNode {\n\t\treturn v('div', { classes: [this.variant(), fixedCss.root, this.theme(css.root)] }, [\n\t\t\tv('div', { classes: this.theme(css.loading) })\n\t\t]);\n\t}\n}\n","import { Constructor } from './../interfaces';\nimport { WidgetBase } from './../WidgetBase';\nimport { diffProperty } from './../decorators/diffProperty';\nimport { FocusProperties } from '../interfaces';\n\nexport { FocusProperties } from '../interfaces';\n\nexport interface FocusMixin {\n\tfocus: () => void;\n\tshouldFocus: () => boolean;\n\tproperties: FocusProperties;\n}\n\nfunction diffFocus(previousProperty: Function, newProperty: Function) {\n\tconst result = newProperty && newProperty();\n\treturn {\n\t\tchanged: result,\n\t\tvalue: newProperty\n\t};\n}\n\nexport function FocusMixin<T extends Constructor<WidgetBase<FocusProperties>>>(Base: T): T & Constructor<FocusMixin> {\n\tabstract class Focus extends Base {\n\t\tpublic abstract properties: FocusProperties;\n\n\t\tprivate _currentToken = 0;\n\n\t\tprivate _previousToken = 0;\n\n\t\t@diffProperty('focus', diffFocus)\n\t\tprotected isFocusedReaction() {\n\t\t\tthis._currentToken++;\n\t\t}\n\n\t\tpublic shouldFocus = () => {\n\t\t\tconst result = this._currentToken !== this._previousToken;\n\t\t\tthis._previousToken = this._currentToken;\n\t\t\treturn result;\n\t\t};\n\n\t\tpublic focus() {\n\t\t\tthis._currentToken++;\n\t\t\tthis.invalidate();\n\t\t}\n\t}\n\treturn Focus;\n}\n\nexport default FocusMixin;\n","import { RenderResult } from '@dojo/framework/core/interfaces';\nimport focus from '@dojo/framework/core/middleware/focus';\nimport { createICacheMiddleware } from '@dojo/framework/core/middleware/icache';\nimport theme from '@dojo/framework/core/middleware/theme';\nimport validity from '@dojo/framework/core/middleware/validity';\nimport { create, diffProperty, invalidator, tsx } from '@dojo/framework/core/vdom';\nimport { formatAriaProperties } from '../common/util';\nimport HelperText from '../helper-text/index';\nimport Label from '../label/index';\nimport * as css from '../theme/default/text-input.m.css';\n\nexport type TextInputType =\n\t| 'text'\n\t| 'email'\n\t| 'number'\n\t| 'password'\n\t| 'search'\n\t| 'tel'\n\t| 'url'\n\t| 'date';\n\nexport interface BaseInputProperties<T extends { value: any } = { value: string }> {\n\t/** Custom aria attributes */\n\taria?: { [key: string]: string | null };\n\t/** Should the field autocomplete */\n\tautocomplete?: boolean | string;\n\t/** The disabled property of the input */\n\tdisabled?: boolean;\n\t/** Text to display below the input */\n\thelperText?: string;\n\t/** Hides the label for a11y purposes */\n\tlabelHidden?: boolean;\n\t/** The name property of the input */\n\tname?: string;\n\t/** Callback fired when the input is blurred */\n\tonBlur?(): void;\n\t/** Callback fired when the input is focused */\n\tonFocus?(): void;\n\t/** Callback fired when a key is pressed down */\n\tonKeyDown?(key: number, preventDefault: () => void): void;\n\t/** Callback fired when a key is released */\n\tonKeyUp?(key: number, preventDefault: () => void): void;\n\t/** Callback fired when the input validation changes */\n\tonValidate?: (valid: boolean | undefined, message: string) => void;\n\t/** Callback fired when the input value changes */\n\tonValue?(value?: T['value']): void;\n\t/** Callback fired when the input is clicked */\n\tonClick?(): void;\n\t/** Callback fired when the pointer enters the input */\n\tonOver?(): void;\n\t/** Callback fired when the pointer leaves the input */\n\tonOut?(): void;\n\t/** Placeholder text */\n\tplaceholder?: string;\n\t/** The readonly attribute of the input */\n\treadOnly?: boolean;\n\t/** The required attribute of the input */\n\trequired?: boolean;\n\t/** The initial value */\n\tinitialValue?: T['value'];\n\t/** The controlled value */\n\tvalue?: T['value'];\n\t/** The id to be applied to the input */\n\twidgetId?: string;\n}\n\nexport interface TextInputChildren {\n\t/** The label to be displayed above the input */\n\tlabel?: RenderResult;\n\t/** Renderer for leading content */\n\tleading?: RenderResult;\n\t/** Renderer for trailing content */\n\ttrailing?: RenderResult;\n}\n\nexport interface TextInputProperties extends BaseInputProperties {\n\t/** Custom validator used to validate the contents of the input */\n\tcustomValidator?: (value: string) => { valid?: boolean; message?: string } | void;\n\t/** The min value a number can be */\n\tmin?: number | string;\n\t/** The max value a number can be */\n\tmax?: number | string;\n\t/** The step to increment the number value by */\n\tstep?: number | string;\n\t/** Maximum number of characters allowed in the input */\n\tmaxLength?: number | string;\n\t/** Minimum number of characters allowed in the input */\n\tminLength?: number | string;\n\t/** Pattern used as part of validation */\n\tpattern?: string | RegExp;\n\t/** Input type, e.g. text, email, tel, etc. */\n\ttype?: TextInputType;\n\t/** Represents if the input value is valid */\n\tvalid?: { valid?: boolean; message?: string } | boolean;\n}\n\nfunction formatAutocomplete(autocomplete: string | boolean | undefined): string | undefined {\n\tif (typeof autocomplete === 'boolean') {\n\t\treturn autocomplete ? 'on' : 'off';\n\t}\n\treturn autocomplete;\n}\n\ninterface TextInputICache {\n\tuuid: string;\n\tdirty: boolean;\n\tvalue?: string;\n\tinitialValue?: string;\n}\n\nconst factory = create({\n\ttheme,\n\ticache: createICacheMiddleware<TextInputICache>(),\n\tvalidity,\n\tfocus,\n\tdiffProperty,\n\tinvalidator\n})\n\t.properties<TextInputProperties>()\n\t.children<TextInputChildren | undefined>();\n\nexport const TextInput = factory(function TextInput({\n\tmiddleware: { icache, theme, validity, focus, diffProperty, invalidator },\n\tproperties,\n\tchildren,\n\tid\n}) {\n\tdiffProperty('pattern', (previous: TextInputProperties, next: TextInputProperties) => {\n\t\tconst value = next.pattern instanceof RegExp ? next.pattern.source : next.pattern;\n\t\tif (value !== previous.pattern) {\n\t\t\tinvalidator();\n\t\t}\n\t});\n\n\tconst themeCss = theme.classes(css);\n\tconst dirty = icache.getOrSet('dirty', false);\n\n\tconst {\n\t\taria = {},\n\t\tautocomplete,\n\t\tclasses,\n\t\tcustomValidator,\n\t\tdisabled,\n\t\thelperText,\n\t\tlabelHidden = false,\n\t\tmax,\n\t\tmaxLength,\n\t\tmin,\n\t\tminLength,\n\t\tname,\n\t\tonBlur,\n\t\tonClick,\n\t\tonFocus,\n\t\tonKeyDown,\n\t\tonKeyUp,\n\t\tonOut,\n\t\tonOver,\n\t\tonValidate,\n\t\tonValue,\n\t\tpattern: patternValue,\n\t\tplaceholder,\n\t\treadOnly,\n\t\trequired,\n\t\tstep,\n\t\ttheme: themeProp,\n\t\ttype = 'text',\n\t\tinitialValue,\n\t\tvalid: validValue = { valid: undefined, message: '' },\n\t\twidgetId = `text-input-${id}`\n\t} = properties();\n\n\tlet { value } = properties();\n\tconst [{ label, leading, trailing } = {} as TextInputChildren] = children();\n\n\tif (value === undefined) {\n\t\tvalue = icache.get('value');\n\t\tconst existingInitialValue = icache.get('initialValue');\n\n\t\tif (initialValue !== existingInitialValue) {\n\t\t\ticache.set('value', initialValue);\n\t\t\ticache.set('initialValue', initialValue);\n\t\t\tvalue = initialValue;\n\t\t}\n\t}\n\n\tconst pattern = patternValue instanceof RegExp ? patternValue.source : patternValue;\n\n\tfunction _callOnValidate(valid: boolean | undefined, message: string) {\n\t\tlet { valid: previousValid } = properties();\n\t\tlet previousMessage: string | undefined;\n\n\t\tif (typeof previousValid === 'object') {\n\t\t\tpreviousMessage = previousValid.message;\n\t\t\tpreviousValid = previousValid.valid;\n\t\t}\n\n\t\tif (valid !== previousValid || message !== previousMessage) {\n\t\t\tonValidate && onValidate(valid, message);\n\t\t}\n\t}\n\n\tif (onValidate) {\n\t\tif (value === '' && !dirty) {\n\t\t\t_callOnValidate(undefined, '');\n\t\t} else {\n\t\t\ticache.set('dirty', true);\n\t\t\tlet { valid, message = '' } = validity.get('input', value || '');\n\t\t\tif (valid && customValidator) {\n\t\t\t\tconst customValid = customValidator(value || '');\n\t\t\t\tif (customValid) {\n\t\t\t\t\tvalid = customValid.valid;\n\t\t\t\t\tmessage = customValid.message || '';\n\t\t\t\t}\n\t\t\t}\n\n\t\t\t_callOnValidate(valid, message);\n\t\t}\n\t}\n\n\tconst { valid, message } =\n\t\ttypeof validValue === 'boolean' ? { valid: validValue, message: '' } : validValue;\n\n\tconst computedHelperText = (valid === false && message) || helperText;\n\tconst inputFocused = focus.isFocused('input');\n\n\treturn (\n\t\t<div key=\"root\" classes={[theme.variant(), themeCss.root]} role=\"presentation\">\n\t\t\t<div\n\t\t\t\tkey=\"wrapper\"\n\t\t\t\tclasses={[\n\t\t\t\t\tthemeCss.wrapper,\n\t\t\t\t\tdisabled ? themeCss.disabled : null,\n\t\t\t\t\tinputFocused ? themeCss.focused : null,\n\t\t\t\t\tvalid === false ? themeCss.invalid : null,\n\t\t\t\t\tvalid === true ? themeCss.valid : null,\n\t\t\t\t\treadOnly ? themeCss.readonly : null,\n\t\t\t\t\trequired ? themeCss.required : null,\n\t\t\t\t\tleading ? themeCss.hasLeading : null,\n\t\t\t\t\ttrailing ? themeCss.hasTrailing : null,\n\t\t\t\t\t!label || labelHidden ? themeCss.noLabel : null\n\t\t\t\t]}\n\t\t\t\trole=\"presentation\"\n\t\t\t>\n\t\t\t\t{label && (\n\t\t\t\t\t<Label\n\t\t\t\t\t\ttheme={themeProp}\n\t\t\t\t\t\tdisabled={disabled}\n\t\t\t\t\t\tvalid={valid}\n\t\t\t\t\t\tfocused={inputFocused}\n\t\t\t\t\t\treadOnly={readOnly}\n\t\t\t\t\t\trequired={required}\n\t\t\t\t\t\thidden={labelHidden}\n\t\t\t\t\t\tforId={widgetId}\n\t\t\t\t\t\tactive={!!value || inputFocused}\n\t\t\t\t\t>\n\t\t\t\t\t\t{label}\n\t\t\t\t\t</Label>\n\t\t\t\t)}\n\t\t\t\t<div\n\t\t\t\t\tkey=\"inputWrapper\"\n\t\t\t\t\tclasses={[\n\t\t\t\t\t\tthemeCss.inputWrapper,\n\t\t\t\t\t\tinputFocused ? themeCss.inputWrapperFocused : undefined\n\t\t\t\t\t]}\n\t\t\t\t\trole=\"presentation\"\n\t\t\t\t>\n\t\t\t\t\t{leading}\n\t\t\t\t\t<input\n\t\t\t\t\t\t{...formatAriaProperties(aria)}\n\t\t\t\t\t\taria-invalid={valid === false ? 'true' : null}\n\t\t\t\t\t\tautocomplete={formatAutocomplete(autocomplete)}\n\t\t\t\t\t\tclasses={themeCss.input}\n\t\t\t\t\t\tdisabled={disabled}\n\t\t\t\t\t\tid={widgetId}\n\t\t\t\t\t\tfocus={focus.shouldFocus}\n\t\t\t\t\t\tkey={'input'}\n\t\t\t\t\t\tmax={max}\n\t\t\t\t\t\tmaxlength={maxLength ? `${maxLength}` : null}\n\t\t\t\t\t\tmin={min}\n\t\t\t\t\t\tminlength={minLength ? `${minLength}` : null}\n\t\t\t\t\t\tname={name}\n\t\t\t\t\t\tpattern={pattern}\n\t\t\t\t\t\tplaceholder={placeholder}\n\t\t\t\t\t\treadOnly={readOnly}\n\t\t\t\t\t\taria-readonly={readOnly ? 'true' : null}\n\t\t\t\t\t\trequired={required}\n\t\t\t\t\t\tstep={step}\n\t\t\t\t\t\ttype={type}\n\t\t\t\t\t\tvalue={value}\n\t\t\t\t\t\tonblur={() => {\n\t\t\t\t\t\t\tonBlur && onBlur();\n\t\t\t\t\t\t}}\n\t\t\t\t\t\tonfocus={() => {\n\t\t\t\t\t\t\tonFocus && onFocus();\n\t\t\t\t\t\t}}\n\t\t\t\t\t\toninput={(event: Event) => {\n\t\t\t\t\t\t\tevent.stopPropagation();\n\t\t\t\t\t\t\tconst value = (event.target as HTMLInputElement).value;\n\t\t\t\t\t\t\ticache.set('value', value);\n\t\t\t\t\t\t\tonValue && onValue(value);\n\t\t\t\t\t\t}}\n\t\t\t\t\t\tonkeydown={(event: KeyboardEvent) => {\n\t\t\t\t\t\t\tevent.stopPropagation();\n\t\t\t\t\t\t\tonKeyDown && onKeyDown(event.which, () => event.preventDefault());\n\t\t\t\t\t\t}}\n\t\t\t\t\t\tonkeyup={(event: KeyboardEvent) => {\n\t\t\t\t\t\t\tevent.stopPropagation();\n\t\t\t\t\t\t\tonKeyUp && onKeyUp(event.which, () => event.preventDefault());\n\t\t\t\t\t\t}}\n\t\t\t\t\t\tonclick={() => {\n\t\t\t\t\t\t\tonClick && onClick();\n\t\t\t\t\t\t}}\n\t\t\t\t\t\tonpointerenter={() => {\n\t\t\t\t\t\t\tonOver && onOver();\n\t\t\t\t\t\t}}\n\t\t\t\t\t\tonpointerleave={() => {\n\t\t\t\t\t\t\tonOut && onOut();\n\t\t\t\t\t\t}}\n\t\t\t\t\t/>\n\t\t\t\t\t{trailing}\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t\t<HelperText\n\t\t\t\ttext={computedHelperText}\n\t\t\t\tvalid={valid}\n\t\t\t\tclasses={classes}\n\t\t\t\ttheme={themeProp}\n\t\t\t/>\n\t\t</div>\n\t);\n});\n\nexport interface AddonProperties {\n\tfilled?: boolean;\n}\n\nconst addonFactory = create({\n\ttheme\n})\n\t.properties<AddonProperties>()\n\t.children();\n\nexport const Addon = addonFactory(function Addon({ middleware: { theme }, properties, children }) {\n\tconst themeCss = theme.classes(css);\n\tconst { filled } = properties();\n\n\treturn (\n\t\t<span classes={[themeCss.addonRoot, filled ? themeCss.addonFilled : null]}>\n\t\t\t{children()}\n\t\t</span>\n\t);\n});\n\nexport default TextInput;\n","export default {\n\tmessages: {\n\t\tcurrentPage: 'Current Page, Page {page}',\n\t\tedit: 'Edit',\n\t\teditValue: 'Edit {value}',\n\t\tgoToPage: 'Go to Page {page}',\n\t\tnoResults: '0 Results',\n\t\tpageOfTotal: 'Page {page} of {totalPages}. Total rows {totalRows}',\n\t\tpageOfUnknownTotal: 'Page {page} of ?',\n\t\tpagination: 'Pagination Navigation',\n\t\tresultRange: '{from} – {to} of {total} Results',\n\t\tsortBy: 'Sort by {name}',\n\t\tfilterBy: 'Filter by {name}'\n\t}\n};\n","import WidgetBase from '@dojo/framework/core/WidgetBase';\nimport { v, w } from '@dojo/framework/core/vdom';\nimport { FocusMixin, FocusProperties } from '@dojo/framework/core/mixins/Focus';\nimport I18nMixin from '@dojo/framework/core/mixins/I18n';\nimport ThemedMixin, { theme } from '@dojo/framework/core/mixins/Themed';\nimport { DNode } from '@dojo/framework/core/interfaces';\nimport { uuid } from '@dojo/framework/core/util';\nimport { Keys } from '../common/util';\nimport TextInput from '../text-input/index';\nimport Button from '../button/index';\nimport Icon from '../icon/index';\n\nimport bundle from './nls/Grid';\nimport * as fixedCss from './styles/cell.m.css';\nimport * as css from '../theme/default/grid-cell.m.css';\n\nexport interface CellProperties extends FocusProperties {\n\t/** The display value (or widget) of the cell */\n\tvalue: string | DNode;\n\t/** If the cell's value may be updated */\n\teditable?: boolean;\n\t/** The underlying string value of the cell (used by the editor) */\n\trawValue: string;\n\t/** Called when the Cell's value is saved by the editor */\n\tupdater: (value: any) => void;\n\t/** The width (in pixels) */\n\twidth?: number;\n}\n\n@theme(css)\nexport default class Cell extends I18nMixin(ThemedMixin(FocusMixin(WidgetBase)))<CellProperties> {\n\tprivate _editing = false;\n\tprivate _editingValue = '';\n\tprivate _focusKey!: string;\n\tprivate _idBase = uuid();\n\n\tprivate _callFocus(key: string) {\n\t\tthis._focusKey = key;\n\t\tthis.focus();\n\t}\n\n\tprivate _onEdit = () => {\n\t\tconst { editable } = this.properties;\n\t\tif (editable) {\n\t\t\tthis._editing = true;\n\t\t\tthis._callFocus('input');\n\t\t\tthis._editingValue = this.properties.rawValue;\n\t\t\tthis.invalidate();\n\t\t}\n\t};\n\n\tprivate _onBlur() {\n\t\tif (this._editing) {\n\t\t\tthis._onSave();\n\t\t}\n\t}\n\n\tprivate _onInput(value: string) {\n\t\tthis._editingValue = value;\n\t}\n\n\tprivate _onKeyDown(key: number) {\n\t\tif (key === Keys.Enter) {\n\t\t\tthis._onSave();\n\t\t\tthis._callFocus('button');\n\t\t} else if (key === Keys.Escape) {\n\t\t\tthis._editing = false;\n\t\t\tthis._callFocus('button');\n\t\t\tthis.invalidate();\n\t\t}\n\t}\n\n\tprivate _onSave() {\n\t\tthis._editing = false;\n\t\tthis.properties.updater(this._editingValue);\n\t\tthis.invalidate();\n\t}\n\n\tprotected renderContent(): DNode {\n\t\tconst { value } = this.properties;\n\t\treturn v(\n\t\t\t'div',\n\t\t\t{\n\t\t\t\tkey: 'content',\n\t\t\t\tid: this._idBase,\n\t\t\t\tondblclick: this._onEdit\n\t\t\t},\n\t\t\t[value]\n\t\t);\n\t}\n\n\tprotected render(): DNode {\n\t\tlet { editable, rawValue, theme, classes, width } = this.properties;\n\t\tconst { format, messages } = this.localizeBundle(bundle);\n\n\t\tconst passedInputClasses = (classes && classes['@dojo/widgets/text-input']) || {};\n\t\tconst passedButtonClasses = (classes && classes['@dojo/widgets/button']) || {};\n\n\t\treturn v(\n\t\t\t'div',\n\t\t\t{\n\t\t\t\trole: 'cell',\n\t\t\t\tstyles: width\n\t\t\t\t\t? {\n\t\t\t\t\t\t\tflex: `0 1 ${width}px`\n\t\t\t\t\t  }\n\t\t\t\t\t: {},\n\t\t\t\tclasses: [this.theme(css.root), fixedCss.rootFixed]\n\t\t\t},\n\t\t\t[\n\t\t\t\tthis._editing\n\t\t\t\t\t? w(\n\t\t\t\t\t\t\tTextInput,\n\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\tkey: 'input',\n\t\t\t\t\t\t\t\ttheme,\n\t\t\t\t\t\t\t\tclasses: {\n\t\t\t\t\t\t\t\t\t...classes,\n\t\t\t\t\t\t\t\t\t'@dojo/widgets/text-input': {\n\t\t\t\t\t\t\t\t\t\tinput: [this.theme(css.input)],\n\t\t\t\t\t\t\t\t\t\t...passedInputClasses\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\tlabelHidden: true,\n\t\t\t\t\t\t\t\tfocus: this._focusKey === 'input' ? this.shouldFocus : () => false,\n\t\t\t\t\t\t\t\tinitialValue: this._editingValue,\n\t\t\t\t\t\t\t\tonValue: this._onInput,\n\t\t\t\t\t\t\t\tonBlur: this._onBlur,\n\t\t\t\t\t\t\t\tonKeyDown: this._onKeyDown\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t[{ label: format('editValue', { value: rawValue }) }]\n\t\t\t\t\t  )\n\t\t\t\t\t: this.renderContent(),\n\t\t\t\teditable && !this._editing\n\t\t\t\t\t? w(\n\t\t\t\t\t\t\tButton,\n\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\tkey: 'button',\n\t\t\t\t\t\t\t\ttheme,\n\t\t\t\t\t\t\t\tclasses: {\n\t\t\t\t\t\t\t\t\t...classes,\n\t\t\t\t\t\t\t\t\t'@dojo/widgets/button': {\n\t\t\t\t\t\t\t\t\t\troot: [this.theme(css.edit)],\n\t\t\t\t\t\t\t\t\t\t...passedButtonClasses\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\taria: { describedby: this._idBase },\n\t\t\t\t\t\t\t\tfocus: this._focusKey === 'button' ? this.shouldFocus : () => false,\n\t\t\t\t\t\t\t\ttype: 'button',\n\t\t\t\t\t\t\t\tonClick: this._onEdit\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t[w(Icon, { type: 'editIcon', altText: messages.edit, classes, theme })]\n\t\t\t\t\t  )\n\t\t\t\t\t: null\n\t\t\t]\n\t\t);\n\t}\n}\n","import WidgetBase from '@dojo/framework/core/WidgetBase';\nimport { v, w } from '@dojo/framework/core/vdom';\nimport { DNode } from '@dojo/framework/core/interfaces';\nimport I18nMixin from '@dojo/framework/core/mixins/I18n';\nimport ThemedMixin, { theme } from '@dojo/framework/core/mixins/Themed';\n\nimport { ColumnConfig } from './interfaces';\nimport Cell from './Cell';\nimport * as fixedCss from './styles/row.m.css';\nimport * as css from '../theme/default/grid-row.m.css';\n\nexport interface RowProperties {\n\t/** identifier for the row */\n\tid: number;\n\t/** A list of values indexed on the column id */\n\titem: { [index: string]: any };\n\t/** Configuration for grid columns (id, title, properties, and custom renderer)  */\n\tcolumnConfig: ColumnConfig[];\n\t/** Handles updating the value of a cell */\n\tupdater: (rowNumber: number, columnId: string, value: any) => void;\n\t/** Calculated column widths */\n\tcolumnWidths?: { [index: string]: number };\n\t/** handler for row selection */\n\tonRowSelect?: (type: any) => void;\n\t/** array of selected rows */\n\tselected?: boolean;\n}\n\n@theme(css)\nexport default class Row extends I18nMixin(ThemedMixin(WidgetBase))<RowProperties> {\n\tprivate _onRowSelect(event: MouseEvent) {\n\t\tconst { onRowSelect } = this.properties;\n\t\tconst type = event.ctrlKey || event.metaKey ? 'multi' : 'single';\n\t\tonRowSelect && onRowSelect(type);\n\t}\n\n\tprotected render(): DNode {\n\t\tconst {\n\t\t\ti18nBundle,\n\t\t\titem,\n\t\t\tcolumnConfig,\n\t\t\tid,\n\t\t\ttheme,\n\t\t\tclasses,\n\t\t\tcolumnWidths,\n\t\t\tonRowSelect,\n\t\t\tselected\n\t\t} = this.properties;\n\t\tlet columns = columnConfig.map(\n\t\t\t(config) => {\n\t\t\t\tlet value: string | DNode = `${item[config.id]}`;\n\t\t\t\tif (config.renderer) {\n\t\t\t\t\tvalue = config.renderer({ value });\n\t\t\t\t}\n\t\t\t\treturn w(Cell, {\n\t\t\t\t\ti18nBundle,\n\t\t\t\t\ttheme,\n\t\t\t\t\tkey: config.id,\n\t\t\t\t\tclasses,\n\t\t\t\t\tupdater: (updatedValue: string) => {\n\t\t\t\t\t\tthis.properties.updater(id, config.id, updatedValue);\n\t\t\t\t\t},\n\t\t\t\t\tvalue,\n\t\t\t\t\teditable: config.editable,\n\t\t\t\t\trawValue: `${item[config.id]}`,\n\t\t\t\t\twidth: columnWidths ? columnWidths[config.id] : undefined\n\t\t\t\t});\n\t\t\t},\n\t\t\t[] as DNode[]\n\t\t);\n\n\t\treturn v(\n\t\t\t'div',\n\t\t\t{\n\t\t\t\tkey: 'root',\n\t\t\t\tclasses: [\n\t\t\t\t\tthis.theme(css.root),\n\t\t\t\t\tselected && this.theme(css.selected),\n\t\t\t\t\tfixedCss.rootFixed,\n\t\t\t\t\tonRowSelect && this.theme(css.selectable)\n\t\t\t\t],\n\t\t\t\trole: 'row',\n\t\t\t\tonclick: onRowSelect ? this._onRowSelect : undefined,\n\t\t\t\t'aria-rowindex': `${id + 1}`\n\t\t\t},\n\t\t\tcolumns\n\t\t);\n\t}\n}\n","import global from '@dojo/framework/shim/global';\nimport WidgetBase from '@dojo/framework/core/WidgetBase';\nimport { v, w } from '@dojo/framework/core/vdom';\nimport I18nMixin from '@dojo/framework/core/mixins/I18n';\nimport ThemedMixin, { theme } from '@dojo/framework/core/mixins/Themed';\nimport { DNode, VNodeProperties } from '@dojo/framework/core/interfaces';\nimport renderer from '@dojo/framework/core/vdom';\n\nimport { GridPages, ColumnConfig, SelectionType } from './interfaces';\nimport PlaceholderRow from './PlaceholderRow';\nimport Row from './Row';\n\nimport * as fixedCss from './styles/body.m.css';\nimport * as css from '../theme/default/grid-body.m.css';\nimport { diffProperty } from '@dojo/framework/core/decorators/diffProperty';\nimport { auto, reference } from '@dojo/framework/core/diff';\n\nexport interface BodyProperties<S> {\n\t/** The total number of rows */\n\ttotalRows?: number;\n\t/** The number of elements to a page */\n\tpageSize: number;\n\t/** A list of paginated grids */\n\tpages: GridPages<S>;\n\t/** The height (in pixels) */\n\theight: number;\n\t/** The width (in pixels) */\n\twidth?: number;\n\t/** Configuration for grid columns (id, title, properties, and custom renderer) */\n\tcolumnConfig: ColumnConfig[];\n\t/** Custom renderer for the placeholder row used while data is loaded */\n\tplaceholderRowRenderer?: (index: number) => DNode;\n\t/** Used to fetch additional pages of information */\n\tfetcher: (page: number, pageSize: number) => void;\n\t/** Called when a cell is updated */\n\tupdater: (page: number, rowNumber: number, columnId: string, value: string) => void;\n\t/** Called when the page changes */\n\tpageChange: (page: number) => void;\n\t/** Handler for scroll events */\n\tonScroll?: (value: number) => void;\n\t/** Calculated column widths */\n\tcolumnWidths?: { [index: string]: number };\n\t/** handler for row selection */\n\tonRowSelect?: (index: number, type: SelectionType) => void;\n\t/** array of selected rows */\n\tselectedRows?: number[];\n}\n\nconst offscreen = (dnode: DNode) => {\n\tconst r = renderer(() =>\n\t\tw(\n\t\t\tclass extends WidgetBase {\n\t\t\t\trender() {\n\t\t\t\t\treturn dnode;\n\t\t\t\t}\n\t\t\t},\n\t\t\t{}\n\t\t)\n\t);\n\tconst div = global.document.createElement('div');\n\tdiv.style.position = 'absolute';\n\tglobal.document.body.appendChild(div);\n\tr.mount({ domNode: div, sync: true });\n\tconst dimensions = div.getBoundingClientRect();\n\tglobal.document.body.removeChild(div);\n\treturn dimensions;\n};\n\n@theme(css)\n@diffProperty('pages', reference)\nexport default class Body<S> extends I18nMixin(ThemedMixin(WidgetBase))<BodyProperties<S>> {\n\tprivate _rowHeight!: number;\n\tprivate _rowsInView!: number;\n\tprivate _renderPageSize!: number;\n\tprivate _start = 0;\n\tprivate _end = 100;\n\tprivate _resetScroll = false;\n\n\tprivate _defaultPlaceholderRow(key: number) {\n\t\tconst { classes, theme } = this.properties;\n\t\treturn w(PlaceholderRow, { key, theme, classes });\n\t}\n\n\tprivate _updater(rowNumber: number, columnId: string, value: any) {\n\t\tconst page = Math.max(Math.ceil(rowNumber / this.properties.pageSize), 1);\n\t\tconst pageItemNumber = rowNumber - (page - 1) * this.properties.pageSize;\n\t\tthis.properties.updater(page, pageItemNumber, columnId, value);\n\t}\n\n\tprivate _onScroll(event: UIEvent) {\n\t\tconst { totalRows = 0, onScroll } = this.properties;\n\t\tconst scrollTop = (event.target as HTMLElement).scrollTop;\n\t\tconst scrollLeft = (event.target as HTMLElement).scrollLeft;\n\t\tconst topRow = Math.round(scrollTop / this._rowHeight);\n\t\tconst bottomRow = topRow + this._rowsInView;\n\t\tif (topRow <= this._start) {\n\t\t\tthis._start = Math.max(0, topRow - this._renderPageSize);\n\t\t\tthis._end = Math.min(totalRows, this._start + this._renderPageSize * 2);\n\t\t}\n\t\tif (bottomRow >= this._end) {\n\t\t\tthis._start = Math.min(topRow, totalRows - this._renderPageSize);\n\t\t\tthis._end = Math.min(totalRows, this._start + this._renderPageSize * 2);\n\t\t}\n\t\tonScroll && onScroll(scrollLeft);\n\t\tthis.invalidate();\n\t}\n\n\t@diffProperty('totalRows', auto)\n\tprotected _onDiffTotalRows() {\n\t\tthis._start = 0;\n\t\tthis._end = 100;\n\t\tthis._resetScroll = true;\n\t}\n\n\tprivate _renderRows(start: number, end: number) {\n\t\tconst {\n\t\t\ti18nBundle,\n\t\t\tpageSize,\n\t\t\tfetcher,\n\t\t\tpages,\n\t\t\tcolumnConfig,\n\t\t\tplaceholderRowRenderer = this._defaultPlaceholderRow,\n\t\t\tpageChange,\n\t\t\ttotalRows,\n\t\t\ttheme,\n\t\t\tclasses,\n\t\t\tcolumnWidths,\n\t\t\tonRowSelect,\n\t\t\tselectedRows = []\n\t\t} = this.properties;\n\n\t\tconst startPage = Math.max(Math.ceil(start / pageSize), 1);\n\t\tconst endPage = Math.ceil(end / pageSize);\n\n\t\tlet data = pages[`page-${startPage}`] || [];\n\n\t\tif (!data.length && (totalRows === undefined || totalRows > 0)) {\n\t\t\tfetcher(startPage, pageSize);\n\t\t}\n\n\t\tif (startPage !== endPage) {\n\t\t\tconst endData = pages[`page-${endPage}`] || [];\n\t\t\tif (!endData.length) {\n\t\t\t\tfetcher(endPage, pageSize);\n\t\t\t}\n\t\t\tconst midScreenPage = Math.max(Math.ceil((start + this._rowsInView / 2) / pageSize), 1);\n\t\t\tpageChange(midScreenPage);\n\t\t\tdata = [...data, ...endData];\n\t\t} else {\n\t\t\tpageChange(startPage);\n\t\t}\n\n\t\tconst rows: DNode[] = [];\n\n\t\tfor (let i = start; i < end; i++) {\n\t\t\tconst offset = i - (startPage * pageSize - pageSize);\n\t\t\tconst item = data[offset];\n\t\t\tif (item) {\n\t\t\t\trows.push(\n\t\t\t\t\tw(Row, {\n\t\t\t\t\t\tid: i,\n\t\t\t\t\t\tkey: i,\n\t\t\t\t\t\ti18nBundle,\n\t\t\t\t\t\ttheme,\n\t\t\t\t\t\tclasses,\n\t\t\t\t\t\titem,\n\t\t\t\t\t\tcolumnConfig,\n\t\t\t\t\t\tupdater: this._updater,\n\t\t\t\t\t\tcolumnWidths,\n\t\t\t\t\t\tonRowSelect: onRowSelect\n\t\t\t\t\t\t\t? (type: SelectionType) => {\n\t\t\t\t\t\t\t\t\tonRowSelect(i, type);\n\t\t\t\t\t\t\t  }\n\t\t\t\t\t\t\t: undefined,\n\t\t\t\t\t\tselected: selectedRows.indexOf(i) !== -1\n\t\t\t\t\t})\n\t\t\t\t);\n\t\t\t} else {\n\t\t\t\tif (totalRows === undefined || (i > -1 && i < totalRows)) {\n\t\t\t\t\trows.push(placeholderRowRenderer(i));\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\treturn rows;\n\t}\n\n\tprotected render(): DNode {\n\t\tconst {\n\t\t\tplaceholderRowRenderer = this._defaultPlaceholderRow,\n\t\t\ttotalRows = 0,\n\t\t\tpageSize,\n\t\t\theight,\n\t\t\twidth,\n\t\t\tcolumnWidths\n\t\t} = this.properties;\n\n\t\tconst rowWidth =\n\t\t\tcolumnWidths &&\n\t\t\tObject.keys(columnWidths).reduce((rowWidth, key) => {\n\t\t\t\treturn rowWidth + columnWidths[key];\n\t\t\t}, 0);\n\n\t\tif (!this._rowHeight) {\n\t\t\tconst firstRow = placeholderRowRenderer(0);\n\t\t\tconst dimensions = offscreen(firstRow);\n\t\t\tthis._rowHeight = dimensions.height;\n\t\t\tthis._rowsInView = Math.ceil(height / this._rowHeight);\n\t\t\tthis._renderPageSize = this._rowsInView * 2;\n\t\t}\n\n\t\tconst rows: DNode[] = this._renderRows(this._start, this._end);\n\t\tconst topPaddingHeight = this._rowHeight * this._start;\n\t\tlet bottomPaddingHeight = 0;\n\t\tif (totalRows >= pageSize) {\n\t\t\tbottomPaddingHeight =\n\t\t\t\ttotalRows * this._rowHeight -\n\t\t\t\ttopPaddingHeight -\n\t\t\t\t(this._end - this._start) * this._rowHeight;\n\t\t}\n\n\t\tlet containerProperties: VNodeProperties = {\n\t\t\tkey: 'root',\n\t\t\tclasses: [this.theme(css.root), fixedCss.rootFixed],\n\t\t\trole: 'rowgroup',\n\t\t\tonscroll: this._onScroll,\n\t\t\tstyles: width\n\t\t\t\t? { height: `${height}px`, width: `${width}px` }\n\t\t\t\t: { height: `${height}px` }\n\t\t};\n\n\t\tif (this._resetScroll) {\n\t\t\tthis._resetScroll = false;\n\t\t\tcontainerProperties = {\n\t\t\t\t...containerProperties,\n\t\t\t\tscrollTop: 0\n\t\t\t};\n\t\t}\n\n\t\treturn v('div', containerProperties, [\n\t\t\tv('div', { styles: rowWidth ? { width: `${rowWidth}px` } : {} }, [\n\t\t\t\tv('div', { key: 'top', styles: { height: `${topPaddingHeight}px` } }),\n\t\t\t\t...rows,\n\t\t\t\tv('div', {\n\t\t\t\t\tkey: 'bottom',\n\t\t\t\t\tstyles: { height: `${bottomPaddingHeight}px` }\n\t\t\t\t})\n\t\t\t])\n\t\t]);\n\t}\n}\n","import WidgetBase from '@dojo/framework/core/WidgetBase';\nimport { v } from '@dojo/framework/core/vdom';\nimport I18nMixin from '@dojo/framework/core/mixins/I18n';\nimport ThemedMixin, { theme } from '@dojo/framework/core/mixins/Themed';\nimport { DNode } from '@dojo/framework/core/interfaces';\n\nimport bundle from './nls/Grid';\nimport * as css from '../theme/default/grid-footer.m.css';\n\nexport interface FooterProperties {\n\t/** The total number of rows */\n\ttotal?: number;\n\t/** The current page */\n\tpage: number;\n\t/** The number of rows per page */\n\tpageSize: number;\n}\n\n@theme(css)\nexport default class Footer extends I18nMixin(ThemedMixin(WidgetBase))<FooterProperties> {\n\tprotected render(): DNode {\n\t\tconst { total, page, pageSize } = this.properties;\n\t\tconst { format } = this.localizeBundle(bundle);\n\t\tconst footer =\n\t\t\ttotal !== undefined\n\t\t\t\t? format('pageOfTotal', {\n\t\t\t\t\t\tpage,\n\t\t\t\t\t\ttotalPages: Math.ceil(total / pageSize),\n\t\t\t\t\t\ttotalRows: total\n\t\t\t\t  })\n\t\t\t\t: format('pageOfUnknownTotal', { page });\n\t\treturn v('div', { classes: this.theme(css.root) }, [footer]);\n\t}\n}\n","import { deepAssign } from '../../core/util';\nimport global from '../../shim/global';\nimport { assign } from '../../shim/object';\nimport WeakMap from '../../shim/WeakMap';\nimport { Base } from './Base';\n\nexport interface DragResults {\n\t/**\n\t * The movement of pointer during the duration of the drag state\n\t */\n\tdelta: Position;\n\n\t/**\n\t * Is the DOM node currently in a drag state\n\t */\n\tisDragging: boolean;\n\n\t/**\n\t * A matrix of posistions that represent the start position for the current drag interaction\n\t */\n\tstart?: PositionMatrix;\n}\n\ninterface NodeData {\n\tdragResults: DragResults;\n\tinvalidate: () => void;\n\tlast: PositionMatrix;\n\tstart: PositionMatrix;\n}\n\n/**\n * An x/y position structure\n */\nexport interface Position {\n\tx: number;\n\ty: number;\n}\n\n/**\n * A matrix of x/y positions\n */\nexport interface PositionMatrix {\n\t/**\n\t * Client x/y position\n\t */\n\tclient: Position;\n\n\t/**\n\t * Offset x/y position\n\t */\n\toffset: Position;\n\n\t/**\n\t * Page x/y position\n\t */\n\tpage: Position;\n\n\t/**\n\t * Screen x/y position\n\t */\n\tscreen: Position;\n}\n\nfunction createNodeData(invalidate: () => void): NodeData {\n\treturn {\n\t\tdragResults: deepAssign({}, emptyResults),\n\t\tinvalidate,\n\t\tlast: createPositionMatrix(),\n\t\tstart: createPositionMatrix()\n\t};\n}\n\n/**\n * Creates an empty position\n */\nfunction createPosition(): Position {\n\treturn { x: 0, y: 0 };\n}\n\n/**\n * Create an empty position matrix\n */\nfunction createPositionMatrix(): PositionMatrix {\n\treturn {\n\t\tclient: { x: 0, y: 0 },\n\t\toffset: { x: 0, y: 0 },\n\t\tpage: { x: 0, y: 0 },\n\t\tscreen: { x: 0, y: 0 }\n\t};\n}\n\n/**\n * A frozen empty result object, frozen to ensure that no one downstream modifies it\n */\nconst emptyResults = Object.freeze({\n\tdelta: Object.freeze(createPosition()),\n\tisDragging: false\n});\n\n/**\n * Return the x/y position matrix for an event\n * @param event The pointer event\n */\nfunction getPositionMatrix(event: PointerEvent): PositionMatrix {\n\treturn {\n\t\tclient: {\n\t\t\tx: event.clientX,\n\t\t\ty: event.clientY\n\t\t},\n\t\toffset: {\n\t\t\tx: event.offsetX,\n\t\t\ty: event.offsetY\n\t\t},\n\t\tpage: {\n\t\t\tx: event.pageX,\n\t\t\ty: event.pageY\n\t\t},\n\t\tscreen: {\n\t\t\tx: event.screenX,\n\t\t\ty: event.screenY\n\t\t}\n\t};\n}\n\n/**\n * Return the delta position between two positions\n * @param start The first position\n * @param current The second position\n */\nfunction getDelta(start: PositionMatrix, current: PositionMatrix): Position {\n\treturn {\n\t\tx: current.client.x - start.client.x,\n\t\ty: current.client.y - start.client.y\n\t};\n}\n\n/**\n * Sets the `touch-action` on nodes so that PointerEvents are always emitted for the node\n * @param node The node to init\n */\nfunction initNode(node: HTMLElement): void {\n\t// Ensure that the node has `touch-action` none\n\tnode.style.touchAction = 'none';\n\t// PEP requires an attribute of `touch-action` to be set on the element\n\tnode.setAttribute('touch-action', 'none');\n}\n\nclass DragController {\n\tprivate _nodeMap = new WeakMap<HTMLElement, NodeData>();\n\tprivate _dragging: HTMLElement | undefined = undefined;\n\n\tprivate _getData(target: HTMLElement): { state: NodeData; target: HTMLElement } | undefined {\n\t\tif (this._nodeMap.has(target)) {\n\t\t\treturn { state: this._nodeMap.get(target)!, target };\n\t\t}\n\t\tif (target.parentElement) {\n\t\t\treturn this._getData(target.parentElement);\n\t\t}\n\t}\n\n\tprivate _onDragStart = (event: PointerEvent) => {\n\t\tconst { _dragging } = this;\n\t\tif (!event.isPrimary && _dragging) {\n\t\t\t// we have a second touch going on here, while we are dragging, so we aren't really dragging, so we\n\t\t\t// will close this down\n\t\t\tconst state = this._nodeMap.get(_dragging)!;\n\t\t\tstate.dragResults.isDragging = false;\n\t\t\tstate.invalidate();\n\t\t\tthis._dragging = undefined;\n\t\t\treturn;\n\t\t}\n\t\tif (event.button !== 0) {\n\t\t\t// it isn't the primary button that is being clicked, so we will ignore this\n\t\t\treturn;\n\t\t}\n\t\tconst data = this._getData(event.target as HTMLElement);\n\t\tif (data) {\n\t\t\tconst { state, target } = data;\n\t\t\tthis._dragging = target;\n\t\t\tstate.last = state.start = getPositionMatrix(event);\n\t\t\tstate.dragResults.delta = createPosition();\n\t\t\tstate.dragResults.start = deepAssign({}, state.start);\n\t\t\tstate.dragResults.isDragging = true;\n\t\t\tstate.invalidate();\n\n\t\t\tevent.preventDefault();\n\t\t\tevent.stopPropagation();\n\t\t} // else, we are ignoring the event\n\t};\n\n\tprivate _onDrag = (event: PointerEvent) => {\n\t\tconst { _dragging } = this;\n\t\tif (!_dragging) {\n\t\t\treturn;\n\t\t}\n\t\t// state cannot be unset, using ! operator\n\t\tconst state = this._nodeMap.get(_dragging)!;\n\t\tstate.last = getPositionMatrix(event);\n\t\tstate.dragResults.delta = getDelta(state.start, state.last);\n\t\tif (!state.dragResults.start) {\n\t\t\tstate.dragResults.start = deepAssign({}, state.start);\n\t\t}\n\t\tstate.invalidate();\n\n\t\tevent.preventDefault();\n\t\tevent.stopPropagation();\n\t};\n\n\tprivate _onDragStop = (event: PointerEvent) => {\n\t\tconst { _dragging } = this;\n\t\tif (!_dragging) {\n\t\t\treturn;\n\t\t}\n\t\t// state cannot be unset, using ! operator\n\t\tconst state = this._nodeMap.get(_dragging)!;\n\t\tstate.last = getPositionMatrix(event);\n\t\tstate.dragResults.delta = getDelta(state.start, state.last);\n\t\tif (!state.dragResults.start) {\n\t\t\tstate.dragResults.start = deepAssign({}, state.start);\n\t\t}\n\t\tstate.dragResults.isDragging = false;\n\t\tstate.invalidate();\n\t\tthis._dragging = undefined;\n\n\t\tevent.preventDefault();\n\t\tevent.stopPropagation();\n\t};\n\n\tconstructor() {\n\t\tconst win: Window = global.window;\n\t\twin.addEventListener('pointerdown', this._onDragStart);\n\t\t// Use capture phase, to determine the right node target, as it will be top down versus bottom up\n\t\twin.addEventListener('pointermove', this._onDrag, true);\n\t\twin.addEventListener('pointerup', this._onDragStop, true);\n\t}\n\n\tpublic get(node: HTMLElement, invalidate: () => void): DragResults {\n\t\tconst { _nodeMap } = this;\n\t\t// first time we see a node, we will initialize its state and properties\n\t\tif (!_nodeMap.has(node)) {\n\t\t\t_nodeMap.set(node, createNodeData(invalidate));\n\t\t\tinitNode(node);\n\t\t\treturn emptyResults;\n\t\t}\n\n\t\tconst state = _nodeMap.get(node)!;\n\t\t// shallow \"clone\" the results, so no downstream manipulation can occur\n\t\tconst dragResults = assign({}, state.dragResults);\n\t\t// we are offering up an accurate delta, so we need to take the last event position and move it to the start so\n\t\t// that our deltas are calculated from the last time they are read\n\t\tstate.start = state.last;\n\t\t// reset the delta after we have read, as any future reads should have an empty delta\n\t\tstate.dragResults.delta = createPosition();\n\t\t// clear the start state\n\t\tdelete state.dragResults.start;\n\n\t\treturn dragResults;\n\t}\n}\n\nconst controller = new DragController();\n\nexport class Drag extends Base {\n\tprivate _boundInvalidate: () => void = this.invalidate.bind(this);\n\n\tpublic get(key: string | number): Readonly<DragResults> {\n\t\tconst node = this.getNode(key) as HTMLElement;\n\n\t\t// if we don't have a reference to the node yet, return an empty set of results\n\t\tif (!node) {\n\t\t\treturn emptyResults;\n\t\t}\n\n\t\t// otherwise we will ask the controller for our results\n\t\treturn controller.get(node, this._boundInvalidate);\n\t}\n}\n\nexport default Drag;\n","import WidgetBase from '@dojo/framework/core/WidgetBase';\nimport { v, w } from '@dojo/framework/core/vdom';\nimport Drag from '@dojo/framework/core/meta/Drag';\nimport I18nMixin from '@dojo/framework/core/mixins/I18n';\nimport ThemedMixin, { theme } from '@dojo/framework/core/mixins/Themed';\nimport { ColumnConfig, SortOptions } from './interfaces';\nimport { DNode } from '@dojo/framework/core/interfaces';\nimport TextInput from '../text-input/index';\nimport Icon from '../icon/index';\n\nimport bundle from './nls/Grid';\nimport * as css from '../theme/default/grid-header.m.css';\nimport * as fixedCss from './styles/header.m.css';\n\nexport interface SortRenderer {\n\t(column: ColumnConfig, direction: undefined | 'asc' | 'desc', sorter: () => void): DNode;\n}\n\nexport interface FilterRenderer {\n\t(\n\t\tcolumn: ColumnConfig,\n\t\tfilterValue: string,\n\t\tdoFilter: (value: string) => void,\n\t\ttitle?: string | DNode\n\t): DNode;\n}\n\nexport interface HeaderProperties {\n\t/** Configuration for grid columns (id, title, properties, and custom renderer) */\n\tcolumnConfig: ColumnConfig[];\n\t/** Handles changing the sort order of a column */\n\tsorter: (columnId: string, direction: 'asc' | 'desc') => void;\n\t/** Handles filtering rows based on a given column */\n\tfilterer: (columnId: string, value: any) => void;\n\t/** Applied filters */\n\tfilter?: {\n\t\t[index: string]: string;\n\t};\n\t/** Applied sort options */\n\tsort?: SortOptions;\n\t/** Custom column renderer for displaying sort options */\n\tsortRenderer?: SortRenderer;\n\t/** Custom renderer displaying applied filters */\n\tfilterRenderer?: FilterRenderer;\n\t/** Callback on column resize */\n\tonColumnResize?: (index: number, value: number) => void;\n\t/** Calculated column widths */\n\tcolumnWidths?: { [index: string]: number };\n}\n\n@theme(css)\nexport default class Header extends I18nMixin(ThemedMixin(WidgetBase))<HeaderProperties> {\n\tprivate _getColumnTitle(column: ColumnConfig): string | DNode {\n\t\tif (typeof column.title === 'function') {\n\t\t\treturn column.title();\n\t\t}\n\t\treturn column.title;\n\t}\n\n\tprivate _sortColumn(id: string) {\n\t\tconst { sort, sorter } = this.properties;\n\t\tconst direction = sort\n\t\t\t? sort.columnId !== id\n\t\t\t\t? 'desc'\n\t\t\t\t: sort.direction === 'desc'\n\t\t\t\t? 'asc'\n\t\t\t\t: 'desc'\n\t\t\t: 'desc';\n\t\tsorter(id, direction);\n\t}\n\n\tprivate _sortRenderer = (\n\t\tcolumn: ColumnConfig,\n\t\tdirection: undefined | 'asc' | 'desc',\n\t\tsorter: () => void\n\t) => {\n\t\tconst { theme, classes } = this.properties;\n\t\tconst { format } = this.localizeBundle(bundle);\n\t\treturn v('button', { classes: this.theme(css.sort), onclick: sorter }, [\n\t\t\tw(Icon, {\n\t\t\t\ttheme,\n\t\t\t\tclasses,\n\t\t\t\ttype: direction === 'asc' ? 'upIcon' : 'downIcon',\n\t\t\t\taltText: format('sortBy', {\n\t\t\t\t\tname: this._getColumnTitle(column)\n\t\t\t\t})\n\t\t\t})\n\t\t]);\n\t};\n\n\tprivate _filterRenderer = (\n\t\tcolumnConfig: ColumnConfig,\n\t\tfilterValue: string,\n\t\tdoFilter: (value: string) => void,\n\t\ttitle?: string | DNode\n\t) => {\n\t\tconst { theme, classes = {} } = this.properties;\n\t\tconst { format } = this.localizeBundle(bundle);\n\t\treturn w(\n\t\t\tTextInput,\n\t\t\t{\n\t\t\t\tkey: 'filter',\n\t\t\t\ttheme,\n\t\t\t\tclasses: {\n\t\t\t\t\t...classes,\n\t\t\t\t\t'@dojo/widgets/text-input': {\n\t\t\t\t\t\troot: [this.theme(css.filter)],\n\t\t\t\t\t\tinput: [this.theme(css.filterInput)],\n\t\t\t\t\t\tnoLabel: [this.theme(css.filterNoLabel)],\n\t\t\t\t\t\t...classes['@dojo/widgets/text-input']\n\t\t\t\t\t}\n\t\t\t\t},\n\t\t\t\tlabelHidden: true,\n\t\t\t\ttype: 'search',\n\t\t\t\tinitialValue: filterValue || undefined,\n\t\t\t\tonValue: doFilter\n\t\t\t},\n\t\t\t[{ label: format('filterBy', { name: title }) }]\n\t\t);\n\t};\n\n\tprotected render(): DNode {\n\t\tconst {\n\t\t\tcolumnConfig,\n\t\t\tsort,\n\t\t\tfilterer,\n\t\t\tfilter = {},\n\t\t\tsortRenderer = this._sortRenderer,\n\t\t\tfilterRenderer = this._filterRenderer,\n\t\t\tcolumnWidths,\n\t\t\tonColumnResize\n\t\t} = this.properties;\n\n\t\tconst rowWidth =\n\t\t\tcolumnWidths &&\n\t\t\tObject.keys(columnWidths).reduce((rowWidth, key) => {\n\t\t\t\treturn rowWidth + columnWidths[key];\n\t\t\t}, 0);\n\n\t\treturn v(\n\t\t\t'div',\n\t\t\t{\n\t\t\t\tstyles: rowWidth ? { width: `${rowWidth}px` } : {},\n\t\t\t\tclasses: [this.theme(css.root), fixedCss.rootFixed],\n\t\t\t\trole: 'row'\n\t\t\t},\n\t\t\tcolumnConfig.map((column, index) => {\n\t\t\t\tconst title = this._getColumnTitle(column);\n\t\t\t\tlet headerProperties = {};\n\t\t\t\tconst isSorted = sort && sort.columnId === column.id;\n\t\t\t\tconst isSortedAsc = Boolean(\n\t\t\t\t\tsort && sort.columnId === column.id && sort.direction === 'asc'\n\t\t\t\t);\n\t\t\t\tif (column.sortable) {\n\t\t\t\t\theaderProperties = {\n\t\t\t\t\t\tclasses: [\n\t\t\t\t\t\t\tfixedCss.column,\n\t\t\t\t\t\t\tthis.theme(css.sortable),\n\t\t\t\t\t\t\tisSorted ? this.theme(css.sorted) : null,\n\t\t\t\t\t\t\tisSorted && !isSortedAsc ? this.theme(css.desc) : null,\n\t\t\t\t\t\t\tisSortedAsc ? this.theme(css.asc) : null\n\t\t\t\t\t\t],\n\t\t\t\t\t\tonclick: () => {\n\t\t\t\t\t\t\tthis._sortColumn(column.id);\n\t\t\t\t\t\t}\n\t\t\t\t\t};\n\t\t\t\t}\n\n\t\t\t\tconst filterKeys = Object.keys(filter);\n\t\t\t\tconst direction = !isSorted ? undefined : isSortedAsc ? 'asc' : 'desc';\n\t\t\t\tconst filterValue = filterKeys.indexOf(column.id) > -1 ? filter[column.id] : '';\n\t\t\t\tconst doFilter = (value: string) => {\n\t\t\t\t\tfilterer(column.id, value);\n\t\t\t\t};\n\n\t\t\t\tif (column.resizable) {\n\t\t\t\t\tconst dragResults = this.meta(Drag).get(`${column.id}-resize`);\n\n\t\t\t\t\tif (dragResults.isDragging) {\n\t\t\t\t\t\tdragResults.delta.x !== 0 &&\n\t\t\t\t\t\t\tonColumnResize &&\n\t\t\t\t\t\t\tonColumnResize(index, dragResults.delta.x);\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\treturn v(\n\t\t\t\t\t'div',\n\t\t\t\t\t{\n\t\t\t\t\t\t'aria-sort': isSorted ? (isSortedAsc ? 'ascending' : 'descending') : null,\n\t\t\t\t\t\tclasses: [this.theme(css.cell), fixedCss.cellFixed],\n\t\t\t\t\t\trole: 'columnheader',\n\t\t\t\t\t\tstyles: columnWidths\n\t\t\t\t\t\t\t? {\n\t\t\t\t\t\t\t\t\tflex: `0 1 ${columnWidths[column.id]}px`\n\t\t\t\t\t\t\t  }\n\t\t\t\t\t\t\t: {}\n\t\t\t\t\t},\n\t\t\t\t\t[\n\t\t\t\t\t\tv('div', headerProperties, [\n\t\t\t\t\t\t\ttitle,\n\t\t\t\t\t\t\tcolumn.sortable\n\t\t\t\t\t\t\t\t? sortRenderer(column, direction, () => {\n\t\t\t\t\t\t\t\t\t\tthis._sortColumn(column.id);\n\t\t\t\t\t\t\t\t  })\n\t\t\t\t\t\t\t\t: null\n\t\t\t\t\t\t]),\n\n\t\t\t\t\t\tcolumn.filterable\n\t\t\t\t\t\t\t? filterRenderer(column, filterValue, doFilter, title)\n\t\t\t\t\t\t\t: null,\n\t\t\t\t\t\tcolumn.resizable &&\n\t\t\t\t\t\t\tv('span', {\n\t\t\t\t\t\t\t\tkey: `${column.id}-resize`,\n\t\t\t\t\t\t\t\tclasses: [fixedCss.resize]\n\t\t\t\t\t\t\t})\n\t\t\t\t\t]\n\t\t\t\t);\n\t\t\t})\n\t\t);\n\t}\n}\n","import WidgetBase from '@dojo/framework/core/WidgetBase';\nimport { v, w } from '@dojo/framework/core/vdom';\nimport I18nMixin from '@dojo/framework/core/mixins/I18n';\nimport ThemedMixin, { theme } from '@dojo/framework/core/mixins/Themed';\nimport { DNode } from '@dojo/framework/core/interfaces';\n\nimport { GridPages, ColumnConfig, SelectionType } from './interfaces';\nimport PlaceholderRow from './PlaceholderRow';\nimport Row from './Row';\n\nimport * as fixedCss from './styles/body.m.css';\nimport * as css from '../theme/default/grid-body.m.css';\nimport { diffProperty } from '@dojo/framework/core/decorators/diffProperty';\nimport { reference } from '@dojo/framework/core/diff';\n\nexport interface PaginatedBodyProperties<S> {\n\t/** The current page number */\n\tpageNumber: number;\n\t/** A list of paginated grids */\n\tpages: GridPages<S>;\n\t/** The height (in pixels) */\n\theight: number;\n\t/** The width (in pixels) */\n\twidth?: number;\n\t/** The number of elements to a page */\n\tpageSize: number;\n\t/** Configuration for grid columns (id, title, properties, and custom renderer) */\n\tcolumnConfig: ColumnConfig[];\n\t/** Custom renderer for the placeholder row used while data is loaded */\n\tplaceholderRowRenderer?: (index: number) => DNode;\n\t/** Used to fetch additional pages of information */\n\tfetcher: (page: number, pageSize: number) => void;\n\t/** Called when a cell is updated */\n\tupdater: (page: number, rowNumber: number, columnId: string, value: string) => void;\n\t/** Handler for scroll events */\n\tonScroll: (value: number) => void;\n\t/** Calculated column widths */\n\tcolumnWidths?: { [index: string]: number };\n\t/** handler for row selection */\n\tonRowSelect?: (index: number, type: SelectionType) => void;\n\t/** array of selected rows */\n\tselectedRows?: number[];\n}\n\n@theme(css)\n@diffProperty('pages', reference)\nexport default class PaginatedBody<S> extends I18nMixin(ThemedMixin(WidgetBase))<\n\tPaginatedBodyProperties<S>\n> {\n\tprivate _defaultPlaceholderRow(key: number) {\n\t\tconst { classes, theme } = this.properties;\n\t\treturn w(PlaceholderRow, { key, theme, classes });\n\t}\n\n\tprivate _updater(rowNumber: number, columnId: string, value: any) {\n\t\tconst page = Math.max(Math.ceil(rowNumber / this.properties.pageSize), 1);\n\t\tconst pageItemNumber = rowNumber - (page - 1) * this.properties.pageSize;\n\t\tthis.properties.updater(page, pageItemNumber, columnId, value);\n\t}\n\n\tprivate _onScroll(event: UIEvent) {\n\t\tconst scrollLeft = (event.target as HTMLElement).scrollLeft;\n\t\tthis.properties.onScroll(scrollLeft);\n\t}\n\n\tprivate _renderRows() {\n\t\tconst {\n\t\t\ti18nBundle,\n\t\t\tpageSize,\n\t\t\tfetcher,\n\t\t\tpages,\n\t\t\tcolumnConfig,\n\t\t\tplaceholderRowRenderer = this._defaultPlaceholderRow,\n\t\t\tpageNumber,\n\t\t\ttheme,\n\t\t\tclasses,\n\t\t\tcolumnWidths,\n\t\t\tonRowSelect,\n\t\t\tselectedRows = []\n\t\t} = this.properties;\n\t\tlet data = pages[`page-${pageNumber}`];\n\t\tif (!data) {\n\t\t\tfetcher(pageNumber, pageSize);\n\t\t}\n\t\tlet rows: DNode[] = [];\n\t\tconst rowCount = data ? data.length : pageSize;\n\t\tfor (let i = 0; i < rowCount; i++) {\n\t\t\tif (!data) {\n\t\t\t\trows.push(placeholderRowRenderer(i));\n\t\t\t} else {\n\t\t\t\trows.push(\n\t\t\t\t\tw(Row, {\n\t\t\t\t\t\tid: i,\n\t\t\t\t\t\tkey: i,\n\t\t\t\t\t\ti18nBundle,\n\t\t\t\t\t\ttheme,\n\t\t\t\t\t\tclasses,\n\t\t\t\t\t\titem: data[i],\n\t\t\t\t\t\tcolumnConfig,\n\t\t\t\t\t\tcolumnWidths,\n\t\t\t\t\t\tupdater: this._updater,\n\t\t\t\t\t\tonRowSelect: onRowSelect\n\t\t\t\t\t\t\t? (type: SelectionType) => {\n\t\t\t\t\t\t\t\t\tonRowSelect && onRowSelect(i, type);\n\t\t\t\t\t\t\t  }\n\t\t\t\t\t\t\t: undefined,\n\t\t\t\t\t\tselected: selectedRows.indexOf(i) !== -1\n\t\t\t\t\t})\n\t\t\t\t);\n\t\t\t}\n\t\t}\n\t\treturn rows;\n\t}\n\n\tprotected render(): DNode {\n\t\tconst { height, width, columnWidths } = this.properties;\n\n\t\tconst rowWidth =\n\t\t\tcolumnWidths &&\n\t\t\tObject.keys(columnWidths).reduce((rowWidth, key) => {\n\t\t\t\treturn rowWidth + columnWidths[key];\n\t\t\t}, 0);\n\n\t\treturn v(\n\t\t\t'div',\n\t\t\t{\n\t\t\t\tkey: 'root',\n\t\t\t\tclasses: [this.theme(css.root), fixedCss.rootFixed],\n\t\t\t\trole: 'rowgroup',\n\t\t\t\tonscroll: this._onScroll,\n\t\t\t\tstyles: width\n\t\t\t\t\t? { height: `${height}px`, width: `${width}px` }\n\t\t\t\t\t: { height: `${height}px` }\n\t\t\t},\n\t\t\t[\n\t\t\t\tv('div', { styles: rowWidth ? { width: `${rowWidth}px` } : {} }, [\n\t\t\t\t\tv('div'),\n\t\t\t\t\t...this._renderRows()\n\t\t\t\t])\n\t\t\t]\n\t\t);\n\t}\n}\n","import { WidgetBase } from '@dojo/framework/core/WidgetBase';\nimport I18nMixin from '@dojo/framework/core/mixins/I18n';\nimport { ThemedMixin, theme } from '@dojo/framework/core/mixins/Themed';\nimport { v } from '@dojo/framework/core/vdom';\n\nimport bundle from './nls/Grid';\nimport * as fixedCss from './styles/paginated-footer.m.css';\nimport * as css from '../theme/default/grid-paginated-footer.m.css';\n\nexport interface PaginatedFooterProperties {\n\ttotal?: number;\n\tpage: number;\n\tpageSize: number;\n\tonPageChange: (page: number) => void;\n}\n\n@theme(css)\nexport default class PaginatedFooter extends I18nMixin(ThemedMixin(WidgetBase))<\n\tPaginatedFooterProperties\n> {\n\tprivate _renderPageControl(page: number) {\n\t\tconst { onPageChange, page: currentPage } = this.properties;\n\t\tconst { format } = this.localizeBundle(bundle);\n\t\tconst active = page === currentPage;\n\n\t\treturn v(\n\t\t\t'button',\n\t\t\t{\n\t\t\t\tkey: active ? 'current' : `${page}`,\n\t\t\t\tdisabled: active,\n\t\t\t\tonclick: () => {\n\t\t\t\t\tonPageChange(page);\n\t\t\t\t},\n\t\t\t\t'aria-current': active ? 'page' : undefined,\n\t\t\t\t'aria-label': active\n\t\t\t\t\t? format('currentPage', { page })\n\t\t\t\t\t: format('goToPage', { page }),\n\t\t\t\tclasses: [this.theme(css.pageNumber), active && this.theme(css.active)]\n\t\t\t},\n\t\t\t[`${page}`]\n\t\t);\n\t}\n\n\tprivate _renderPaginationControls(totalPages: number) {\n\t\tconst { page } = this.properties;\n\t\tif (page < 4) {\n\t\t\treturn [\n\t\t\t\tthis._renderPageControl(1),\n\t\t\t\ttotalPages > 1 && this._renderPageControl(2),\n\t\t\t\ttotalPages > 2 && this._renderPageControl(3),\n\t\t\t\ttotalPages > 3 && this._renderPageControl(4),\n\t\t\t\ttotalPages > 4 && this._renderPageControl(5),\n\t\t\t\ttotalPages > 5 &&\n\t\t\t\t\tv(\n\t\t\t\t\t\t'span',\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tkey: 'more',\n\t\t\t\t\t\t\t'aria-hidden': true,\n\t\t\t\t\t\t\tclasses: [this.theme(css.more), fixedCss.moreFixed]\n\t\t\t\t\t\t},\n\t\t\t\t\t\t['...']\n\t\t\t\t\t),\n\t\t\t\ttotalPages > 5 && this._renderPageControl(totalPages)\n\t\t\t];\n\t\t} else if (page > totalPages - 3) {\n\t\t\treturn [\n\t\t\t\tthis._renderPageControl(1),\n\t\t\t\tv(\n\t\t\t\t\t'span',\n\t\t\t\t\t{\n\t\t\t\t\t\tkey: 'less',\n\t\t\t\t\t\t'aria-hidden': true,\n\t\t\t\t\t\tclasses: [this.theme(css.more), fixedCss.moreFixed]\n\t\t\t\t\t},\n\t\t\t\t\t['...']\n\t\t\t\t),\n\t\t\t\tthis._renderPageControl(totalPages - 4),\n\t\t\t\tthis._renderPageControl(totalPages - 3),\n\t\t\t\tthis._renderPageControl(totalPages - 2),\n\t\t\t\tthis._renderPageControl(totalPages - 1),\n\t\t\t\tthis._renderPageControl(totalPages)\n\t\t\t];\n\t\t} else {\n\t\t\treturn [\n\t\t\t\tthis._renderPageControl(1),\n\t\t\t\tv(\n\t\t\t\t\t'span',\n\t\t\t\t\t{\n\t\t\t\t\t\tkey: 'less',\n\t\t\t\t\t\t'aria-hidden': true,\n\t\t\t\t\t\tclasses: [this.theme(css.more), fixedCss.moreFixed]\n\t\t\t\t\t},\n\t\t\t\t\t['...']\n\t\t\t\t),\n\t\t\t\tthis._renderPageControl(page - 1),\n\t\t\t\tthis._renderPageControl(page),\n\t\t\t\tthis._renderPageControl(page + 1),\n\t\t\t\tv(\n\t\t\t\t\t'span',\n\t\t\t\t\t{\n\t\t\t\t\t\tkey: 'more',\n\t\t\t\t\t\t'aria-hidden': true,\n\t\t\t\t\t\tclasses: [this.theme(css.more), fixedCss.moreFixed]\n\t\t\t\t\t},\n\t\t\t\t\t['...']\n\t\t\t\t),\n\t\t\t\tthis._renderPageControl(totalPages)\n\t\t\t];\n\t\t}\n\t}\n\n\tprotected render() {\n\t\tconst { onPageChange, page, total, pageSize } = this.properties;\n\t\tconst { format, messages } = this.localizeBundle(bundle);\n\t\tif (total === undefined) {\n\t\t\treturn v('div', { classes: [this.theme(css.root), fixedCss.rootFixed] });\n\t\t}\n\t\tconst totalPages = Math.ceil(total / pageSize);\n\t\tconst from = page === 1 ? '1' : `${(page - 1) * pageSize + 1}`;\n\t\tconst to = page === 1 ? pageSize : page * pageSize;\n\n\t\tconst controls = total ? this._renderPaginationControls(totalPages) : [];\n\t\treturn v('div', { classes: [this.theme(css.root), fixedCss.rootFixed] }, [\n\t\t\tv(\n\t\t\t\t'div',\n\t\t\t\t{\n\t\t\t\t\tclasses: [\n\t\t\t\t\t\tfixedCss.containerFixed,\n\t\t\t\t\t\tthis.theme(css.details),\n\t\t\t\t\t\tfixedCss.detailsFixed\n\t\t\t\t\t]\n\t\t\t\t},\n\t\t\t\t[\n\t\t\t\t\ttotal\n\t\t\t\t\t\t? format('resultRange', {\n\t\t\t\t\t\t\t\tfrom,\n\t\t\t\t\t\t\t\tto: total < to ? total : to,\n\t\t\t\t\t\t\t\ttotal\n\t\t\t\t\t\t  })\n\t\t\t\t\t\t: messages.noResults\n\t\t\t\t]\n\t\t\t),\n\t\t\tv(\n\t\t\t\t'nav',\n\t\t\t\t{\n\t\t\t\t\trole: 'navigation',\n\t\t\t\t\t'aria-label': messages.pagination,\n\t\t\t\t\tclasses: [this.theme(css.pagination)]\n\t\t\t\t},\n\t\t\t\t[\n\t\t\t\t\tv(\n\t\t\t\t\t\t'ul',\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tclasses: [\n\t\t\t\t\t\t\t\tfixedCss.containerFixed,\n\t\t\t\t\t\t\t\tthis.theme(css.paginationList),\n\t\t\t\t\t\t\t\tfixedCss.paginationListFixed\n\t\t\t\t\t\t\t]\n\t\t\t\t\t\t},\n\t\t\t\t\t\t[\n\t\t\t\t\t\t\tv('li', { classes: [fixedCss.itemFixed, this.theme(css.item)] }, [\n\t\t\t\t\t\t\t\ttotalPages > 1 &&\n\t\t\t\t\t\t\t\t\tv(\n\t\t\t\t\t\t\t\t\t\t'button',\n\t\t\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\t\t\tkey: 'previous',\n\t\t\t\t\t\t\t\t\t\t\tdisabled: page === 1,\n\t\t\t\t\t\t\t\t\t\t\tonclick: () => {\n\t\t\t\t\t\t\t\t\t\t\t\tonPageChange(page - 1);\n\t\t\t\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t\t\t\t'aria-label': format('goToPage', { page: page - 1 }),\n\t\t\t\t\t\t\t\t\t\t\tclasses: [\n\t\t\t\t\t\t\t\t\t\t\t\tthis.theme(css.pageNav),\n\t\t\t\t\t\t\t\t\t\t\t\tfixedCss.pageNavFixed\n\t\t\t\t\t\t\t\t\t\t\t]\n\t\t\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t\t\t['<']\n\t\t\t\t\t\t\t\t\t),\n\t\t\t\t\t\t\t\t...controls,\n\t\t\t\t\t\t\t\ttotalPages > 1 &&\n\t\t\t\t\t\t\t\t\tv(\n\t\t\t\t\t\t\t\t\t\t'button',\n\t\t\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\t\t\tkey: 'next',\n\t\t\t\t\t\t\t\t\t\t\tdisabled: page === totalPages,\n\t\t\t\t\t\t\t\t\t\t\tonclick: () => {\n\t\t\t\t\t\t\t\t\t\t\t\tonPageChange(page + 1);\n\t\t\t\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t\t\t\t'aria-label': format('goToPage', { page: page + 1 }),\n\t\t\t\t\t\t\t\t\t\t\tclasses: [\n\t\t\t\t\t\t\t\t\t\t\t\tthis.theme(css.pageNav),\n\t\t\t\t\t\t\t\t\t\t\t\tfixedCss.pageNavFixed\n\t\t\t\t\t\t\t\t\t\t\t]\n\t\t\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t\t\t['>']\n\t\t\t\t\t\t\t\t\t)\n\t\t\t\t\t\t\t])\n\t\t\t\t\t\t]\n\t\t\t\t\t)\n\t\t\t\t]\n\t\t\t)\n\t\t]);\n\t}\n}\n","import { isThenable } from '../shim/Promise';\nimport { PatchOperation } from './state/Patch';\nimport { replace, remove } from './state/operations';\nimport { Path, State, Store } from './Store';\nimport Map from '../shim/Map';\nimport has from '../core/has';\n\n/**\n * Default Payload interface\n */\nexport interface DefaultPayload {\n\t[index: string]: any;\n}\n\n/**\n * The arguments passed to a `Command`\n */\nexport interface CommandRequest<T = any, P extends object = DefaultPayload> extends State<T> {\n\tpayload: P;\n\tstate: T;\n}\n\n/**\n * A command factory interface. Returns the passed command. This provides a way to automatically infer and/or\n * verify the type of multiple commands without explicitly specifying the generic for each command\n */\nexport interface CommandFactory<T = any, P extends object = DefaultPayload> {\n\t<R extends object = P>(command: AsyncCommandWithOps<T, R>): AsyncCommandWithOps<T, R>;\n\t<R extends object = P>(command: SyncCommandWithOps<T, R>): SyncCommandWithOps<T, R>;\n\t<R extends object = P>(command: AsyncCommand<T, R>): AsyncCommand<T, R>;\n\t<R extends object = P>(command: SyncCommand<T, R>): SyncCommand<T, R>;\n}\n\nexport interface AsyncCommandWithOps<T = any, P extends object = DefaultPayload> {\n\t(request: CommandRequest<T, P>): Promise<PatchOperation<T>[]>;\n}\n\nexport interface SyncCommandWithOps<T = any, P extends object = DefaultPayload> {\n\t(request: CommandRequest<T, P>): PatchOperation<T>[];\n}\n\nexport interface AsyncCommand<T = any, P extends object = DefaultPayload> {\n\t(request: CommandRequest<T, P>): Promise<void>;\n}\n\nexport interface SyncCommand<T = any, P extends object = DefaultPayload> {\n\t(request: CommandRequest<T, P>): void;\n}\n\n/**\n * Command that returns patch operations based on the command request\n */\nexport type Command<T = any, P extends object = DefaultPayload> =\n\t| SyncCommand<T, P>\n\t| ((request: CommandRequest<T, P>) => Promise<void | PatchOperation<T>[]>)\n\t| SyncCommandWithOps<T, P>;\n\n/**\n * Transformer function\n */\nexport interface Transformer<P extends object = DefaultPayload, R extends object = DefaultPayload> {\n\t(payload: R): P;\n}\n\n/**\n * A process that returns an executor using a Store and Transformer\n */\nexport interface Process<T = any, P extends object = DefaultPayload> {\n\t<R extends object = DefaultPayload>(store: Store<T>, transformer: Transformer<P, R>): ProcessExecutor<T, P, R>;\n\t(store: Store<T>): ProcessExecutor<T, P, P>;\n}\n\n/**\n * Represents an error from a ProcessExecutor\n */\nexport interface ProcessError<T = any> {\n\terror: Error | null;\n\tcommand?: Command<T, any>[] | Command<T, any>;\n}\n\nexport interface ProcessResultExecutor<T = any> {\n\t<P extends object = DefaultPayload, R extends object = DefaultPayload>(\n\t\tprocess: Process<T, P>,\n\t\tpayload: R,\n\t\ttransformer: Transformer<P, R>\n\t): Promise<ProcessResult<T, P> | ProcessError<T>>;\n\t<P extends object = object>(process: Process<T, P>, payload: P): Promise<ProcessResult<T, P> | ProcessError<T>>;\n}\n\n/**\n * Represents a successful result from a ProcessExecutor\n */\nexport interface ProcessResult<T = any, P extends object = DefaultPayload> extends State<T> {\n\texecutor: ProcessResultExecutor<T>;\n\tstore: Store<T>;\n\toperations: PatchOperation<T>[];\n\tundoOperations: PatchOperation<T>[];\n\tapply: (operations: PatchOperation<T>[], invalidate?: boolean) => PatchOperation<T>[];\n\tpayload: P;\n\tid: string;\n\terror?: ProcessError<T> | null;\n}\n\n/**\n * Runs a process for the given arguments.\n */\nexport interface ProcessExecutor<T = any, P extends object = DefaultPayload, R extends object = DefaultPayload> {\n\t(payload: R): Promise<ProcessResult<T, P>>;\n}\n\nexport interface ProcessCallback<T = any, P extends object = DefaultPayload> {\n\t(): {\n\t\tbefore?: ProcessCallbackBefore<T, P>;\n\t\tafter?: ProcessCallbackAfter<T>;\n\t};\n}\n\n/**\n * Callback for a process, returns an error as the first argument\n */\nexport interface ProcessCallbackAfter<T = any> {\n\t(error: ProcessError<T> | null, result: ProcessResult<T>): void;\n}\n\nexport interface ProcessCallbackBefore<T = any, P extends object = DefaultPayload> {\n\t(payload: P, store: Store<T>, id: string): void | Promise<void>;\n}\n\n/**\n * Function for undoing operations\n */\nexport interface Undo {\n\t(): void;\n}\n\n/**\n * ProcessCallbackDecorator callback\n */\ninterface ProcessCallbackDecorator {\n\t(callback?: ProcessCallback): ProcessCallback;\n}\n\n/**\n * CreateProcess factory interface\n */\nexport interface CreateProcess<T = any, P extends object = DefaultPayload> {\n\t(id: string, commands: (Command<T, P>[] | Command<T, P>)[], callback?: ProcessCallback<T>): Process<T, P>;\n}\n\n/**\n * Creates a command factory with the specified type\n */\nexport function createCommandFactory<T, P extends object = DefaultPayload>(): CommandFactory<T, P> {\n\tfunction commandFactory<R extends object = P>(command: AsyncCommand<T, R>): AsyncCommand<T, R>;\n\tfunction commandFactory<R extends object = P>(command: SyncCommand<T, R>): SyncCommand<T, R>;\n\tfunction commandFactory<R extends object = P>(command: AsyncCommandWithOps<T, R>): AsyncCommandWithOps<T, R>;\n\tfunction commandFactory<R extends object = P>(command: SyncCommandWithOps<T, R>): SyncCommandWithOps<T, R>;\n\tfunction commandFactory<R extends object = P>(command: Command<T, R>): Command<T, R> {\n\t\treturn command;\n\t}\n\treturn commandFactory;\n}\n\n/**\n * Commands that can be passed to a process\n */\nexport type Commands<T = any, P extends object = DefaultPayload> = (Command<T, P>[] | Command<T, P>)[];\n\nconst processMap = new Map();\nconst valueSymbol = Symbol('value');\n\nexport function isStateProxy(value: any) {\n\tif (typeof value !== 'object' || value === null) {\n\t\treturn false;\n\t}\n\n\treturn Boolean(value[valueSymbol]);\n}\n\nexport function getProcess(id: string) {\n\treturn processMap.get(id);\n}\n\nconst proxyError = 'State updates are not available on legacy browsers';\n\nfunction removeProxies(value: any) {\n\tif (typeof value === 'object' && value !== null) {\n\t\tif (value[valueSymbol]) {\n\t\t\tvalue = value[valueSymbol];\n\t\t}\n\n\t\tconst newValue: typeof value = Array.isArray(value) ? [] : {};\n\t\tconst keys = Object.keys(value);\n\t\tfor (let i = 0; i < keys.length; i++) {\n\t\t\tnewValue[keys[i]] = removeProxies(value[keys[i]]);\n\t\t}\n\n\t\tvalue = newValue;\n\t}\n\n\treturn value;\n}\n\nexport function processExecutor<T = any, P extends object = DefaultPayload>(\n\tid: string,\n\tcommands: Commands<T, P>,\n\tstore: Store<T>,\n\tbefore: ProcessCallbackBefore | undefined,\n\tafter: ProcessCallbackAfter | undefined,\n\ttransformer: Transformer<P> | undefined\n): ProcessExecutor<T, any, any> {\n\tconst { apply, get, path, at } = store;\n\tfunction executor(\n\t\tprocess: Process,\n\t\tpayload: any,\n\t\ttransformer?: Transformer\n\t): Promise<ProcessResult | ProcessError> {\n\t\treturn process(store)(payload);\n\t}\n\n\treturn async (executorPayload: P): Promise<ProcessResult<T, P>> => {\n\t\tconst operations: PatchOperation[] = [];\n\t\tconst commandsCopy = [...commands];\n\t\tlet undoOperations: PatchOperation[] = [];\n\t\tlet command = commandsCopy.shift();\n\t\tlet error: ProcessError | null = null;\n\t\tconst payload = transformer ? transformer(executorPayload) : executorPayload;\n\n\t\tif (before) {\n\t\t\tlet result = before(payload, store, id);\n\t\t\tif (result) {\n\t\t\t\tawait result;\n\t\t\t}\n\t\t}\n\n\t\tfunction createProxy() {\n\t\t\tconst proxies = new Map<string, any>();\n\t\t\tconst proxied = new Map<string, any>();\n\n\t\t\tconst proxyOperations: PatchOperation[] = [];\n\t\t\tconst createHandler = (partialPath?: Path<T, any>) => ({\n\t\t\t\tget(obj: any, prop: string): any {\n\t\t\t\t\tconst fullPath = partialPath ? path(partialPath, prop) : path(prop as keyof T);\n\t\t\t\t\tconst stringPath = fullPath.path;\n\n\t\t\t\t\tif (typeof prop === 'symbol' && prop === valueSymbol) {\n\t\t\t\t\t\treturn proxied.get(stringPath);\n\t\t\t\t\t}\n\n\t\t\t\t\tlet value = partialPath || obj.hasOwnProperty(prop) ? obj[prop] : get(fullPath);\n\n\t\t\t\t\tif (typeof value === 'object' && value !== null) {\n\t\t\t\t\t\tlet proxiedValue;\n\t\t\t\t\t\tif (!proxies.has(stringPath)) {\n\t\t\t\t\t\t\tif (Array.isArray(value)) {\n\t\t\t\t\t\t\t\tvalue = value.slice();\n\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\tvalue = { ...value };\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tproxiedValue = new Proxy(value, createHandler(fullPath));\n\t\t\t\t\t\t\tproxies.set(stringPath, proxiedValue);\n\t\t\t\t\t\t\tproxied.set(stringPath, value);\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tproxiedValue = proxies.get(stringPath);\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tobj[prop] = value;\n\t\t\t\t\t\treturn proxiedValue;\n\t\t\t\t\t}\n\n\t\t\t\t\tobj[prop] = value;\n\t\t\t\t\treturn value;\n\t\t\t\t},\n\n\t\t\t\tset(obj: any, prop: string, value: any) {\n\t\t\t\t\tvalue = removeProxies(value);\n\n\t\t\t\t\tproxyOperations.push(replace(partialPath ? path(partialPath, prop) : path(prop as keyof T), value));\n\t\t\t\t\tobj[prop] = value;\n\n\t\t\t\t\treturn true;\n\t\t\t\t},\n\n\t\t\t\tdeleteProperty(obj: any, prop: string) {\n\t\t\t\t\tproxyOperations.push(remove(partialPath ? path(partialPath, prop) : path(prop as keyof T)));\n\t\t\t\t\tdelete obj[prop];\n\n\t\t\t\t\treturn true;\n\t\t\t\t}\n\t\t\t});\n\n\t\t\treturn { proxy: new Proxy({}, createHandler()) as T, operations: proxyOperations };\n\t\t}\n\n\t\ttry {\n\t\t\twhile (command) {\n\t\t\t\tlet results = [];\n\t\t\t\tconst commandArray = Array.isArray(command) ? command : [command];\n\n\t\t\t\tresults = commandArray.map((commandFunction: Command<T, P>) => {\n\t\t\t\t\tlet state: T;\n\t\t\t\t\tlet proxyOperations: PatchOperation[] = [];\n\t\t\t\t\tif (typeof Proxy !== 'undefined') {\n\t\t\t\t\t\tconst { operations, proxy } = createProxy();\n\t\t\t\t\t\tstate = proxy;\n\t\t\t\t\t\tproxyOperations = operations;\n\t\t\t\t\t}\n\t\t\t\t\tlet result = commandFunction({\n\t\t\t\t\t\tat,\n\t\t\t\t\t\tget,\n\t\t\t\t\t\tpath,\n\t\t\t\t\t\tpayload,\n\t\t\t\t\t\tget state() {\n\t\t\t\t\t\t\tif (typeof Proxy === 'undefined') {\n\t\t\t\t\t\t\t\tthrow new Error(proxyError);\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\treturn state;\n\t\t\t\t\t\t}\n\t\t\t\t\t});\n\n\t\t\t\t\tif (isThenable(result)) {\n\t\t\t\t\t\treturn result.then((result: any) => {\n\t\t\t\t\t\t\tresult = result ? [...proxyOperations, ...result] : [...proxyOperations];\n\n\t\t\t\t\t\t\treturn result;\n\t\t\t\t\t\t});\n\t\t\t\t\t} else {\n\t\t\t\t\t\tresult =\n\t\t\t\t\t\t\tresult && Array.isArray(result) ? [...proxyOperations, ...result] : [...proxyOperations];\n\n\t\t\t\t\t\treturn result;\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t\tlet resolvedResults: PatchOperation[][];\n\t\t\t\tif (results.some(isThenable)) {\n\t\t\t\t\tresolvedResults = await Promise.all(results);\n\t\t\t\t} else {\n\t\t\t\t\tresolvedResults = results as PatchOperation[][];\n\t\t\t\t}\n\n\t\t\t\tfor (let i = 0; i < results.length; i++) {\n\t\t\t\t\toperations.push(...resolvedResults[i]);\n\t\t\t\t\tundoOperations = [...apply(resolvedResults[i]), ...undoOperations];\n\t\t\t\t}\n\n\t\t\t\tstore.invalidate();\n\t\t\t\tcommand = commandsCopy.shift();\n\t\t\t}\n\t\t} catch (e) {\n\t\t\tif (e.message === proxyError) {\n\t\t\t\tthrow e;\n\t\t\t}\n\t\t\terror = { error: e, command };\n\t\t}\n\n\t\tafter &&\n\t\t\tafter(error, {\n\t\t\t\tundoOperations,\n\t\t\t\tstore,\n\t\t\t\tid,\n\t\t\t\toperations,\n\t\t\t\tapply,\n\t\t\t\tat,\n\t\t\t\tget,\n\t\t\t\tpath,\n\t\t\t\texecutor,\n\t\t\t\tpayload\n\t\t\t});\n\t\treturn Promise.resolve({\n\t\t\tstore,\n\t\t\tundoOperations,\n\t\t\tid,\n\t\t\terror,\n\t\t\toperations,\n\t\t\tapply,\n\t\t\tat,\n\t\t\tget,\n\t\t\tpath,\n\t\t\texecutor,\n\t\t\tpayload\n\t\t});\n\t};\n}\n/**\n * Factories a process using the provided commands and an optional callback. Returns an executor used to run the process.\n *\n * @param commands The commands for the process\n * @param callback Callback called after the process is completed\n */\nexport function createProcess<T = any, P extends object = DefaultPayload>(\n\tid: string,\n\tcommands: Commands<T, P>,\n\tcallbacks?: ProcessCallback | ProcessCallback[]\n): Process<T, P> {\n\tcallbacks = Array.isArray(callbacks) ? callbacks : callbacks ? [callbacks] : [];\n\n\tconst callback = callbacks.length\n\t\t? callbacks.reduce((callback, nextCallback) => {\n\t\t\t\treturn combineCallbacks(nextCallback, id)(callback);\n\t\t  })\n\t\t: undefined;\n\n\tconst { before = undefined, after = undefined } = callback ? callback() : {};\n\n\tprocessMap.set(id, [id, commands, before, after]);\n\treturn (store: Store<T>, transformer?: Transformer<P>) =>\n\t\tprocessExecutor(id, commands, store, before, after, transformer);\n}\n\n/**\n * Creates a process factory that will create processes with the specified callback decorators applied.\n * @param callbacks array of process callback to be used by the returned factory.\n * @param initializers array of process initializers to be used by the returned factory.\n */\nexport function createProcessFactoryWith(callbacks: ProcessCallback[]) {\n\treturn <S, P extends object>(\n\t\tid: string,\n\t\tcommands: (Command<S, P>[] | Command<S, P>)[],\n\t\tcallback?: ProcessCallback<S>\n\t): Process<S, P> => {\n\t\treturn createProcess(id, commands, callback ? [...callbacks, callback] : callbacks);\n\t};\n}\n\n/**\n * Creates a `ProcessCallbackDecorator` from a `ProcessCallback`.\n * @param processCallback the process callback to convert to a decorator.\n * @param id process id to be passed to the before callback\n */\nfunction combineCallbacks(processCallback: ProcessCallback, id: string): ProcessCallbackDecorator {\n\tconst { before, after } = processCallback();\n\treturn (previousCallback?: ProcessCallback) => {\n\t\tconst { before: previousBefore = undefined, after: previousAfter = undefined } = previousCallback\n\t\t\t? previousCallback()\n\t\t\t: {};\n\t\treturn () => ({\n\t\t\tafter(error: ProcessError | null, result: ProcessResult) {\n\t\t\t\tif (previousAfter) {\n\t\t\t\t\tpreviousAfter(error, result);\n\t\t\t\t}\n\n\t\t\t\tif (after) {\n\t\t\t\t\tafter(error, result);\n\t\t\t\t}\n\t\t\t},\n\t\t\tbefore(payload: DefaultPayload, store: Store<any>) {\n\t\t\t\tif (previousBefore) {\n\t\t\t\t\tpreviousBefore(payload, store, id);\n\t\t\t\t}\n\n\t\t\t\tif (before) {\n\t\t\t\t\tbefore(payload, store, id);\n\t\t\t\t}\n\t\t\t}\n\t\t});\n\t};\n}\n\nexport function createCallbackDecorator(\n\tcallback: ProcessCallbackAfter\n): (callbacks?: ProcessCallback[]) => ProcessCallback[] {\n\tif (has('dojo-debug')) {\n\t\tconsole.warn(\n\t\t\t'Process using the the legacy middleware API. Please update to use the latest API, see https://github.com/dojo/framework/blob/master/docs/V5-Migration-Guide.md for details.'\n\t\t);\n\t}\n\tconst convertedCallback = () => ({\n\t\tafter: callback\n\t});\n\treturn (callbacks: ProcessCallback[] = []) => {\n\t\treturn [convertedCallback, ...callbacks];\n\t};\n}\n","import { createProcess, createCommandFactory, Process } from '@dojo/framework/stores/process';\nimport { replace, remove } from '@dojo/framework/stores/state/operations';\nimport {\n\tFetcherResult,\n\tGridState,\n\tFetcherCommandPayload,\n\tPageChangeCommandPayload,\n\tSortCommandPayload,\n\tFilterCommandPayload,\n\tUpdaterCommandPayload,\n\tSelectionCommandPayload\n} from './interfaces';\nimport { findIndex } from '@dojo/framework/shim/array';\n\nconst commandFactory = createCommandFactory<GridState>();\n\nconst pageChangeCommand = commandFactory<PageChangeCommandPayload>(\n\t({ path, get, payload: { id, page } }) => {\n\t\tconst currentPage = get(path(id, 'meta', 'page'));\n\t\tif (page !== currentPage) {\n\t\t\treturn [replace(path(id, 'meta', 'page'), page)];\n\t\t}\n\t\treturn [];\n\t}\n);\n\nconst preFetcherCommand = commandFactory<FetcherCommandPayload>(\n\t({ path, get, payload: { id, page, pageSize } }) => {\n\t\tconst fetchedPages = get(path(id, 'meta', 'fetchedPages')) || [];\n\t\tif (fetchedPages.indexOf(page) === -1) {\n\t\t\treturn [\n\t\t\t\treplace(path(id, 'meta', 'fetchedPages'), [...fetchedPages, page]),\n\t\t\t\treplace(path(id, 'meta', 'page'), page),\n\t\t\t\treplace(path(id, 'meta', 'pageSize'), pageSize)\n\t\t\t];\n\t\t}\n\t\tthrow Error('The page has already been requested');\n\t}\n);\n\nconst fetcherCommand = commandFactory<FetcherCommandPayload>(\n\tasync ({ at, path, get, payload: { id, fetcher, page, pageSize } }) => {\n\t\tlet result: FetcherResult;\n\t\tconst isSorting = get(path(id, 'meta', 'isSorting'));\n\t\tif (!isSorting) {\n\t\t\tconst sortOptions = get(path(id, 'meta', 'sort'));\n\t\t\tconst filterOptions = get(path(id, 'meta', 'filter'));\n\t\t\ttry {\n\t\t\t\tresult = await fetcher(page, pageSize, {\n\t\t\t\t\tsort: sortOptions,\n\t\t\t\t\tfilter: filterOptions\n\t\t\t\t});\n\t\t\t} catch (error) {\n\t\t\t\treturn [remove(path(id, 'data', 'pages', `page-${page}`))];\n\t\t\t}\n\t\t\treturn [\n\t\t\t\treplace(path(id, 'data', 'pages', `page-${page}`), result.data),\n\t\t\t\treplace(path(id, 'meta', 'total'), result.meta.total)\n\t\t\t];\n\t\t} else {\n\t\t\tthrow Error('The grid is being sorted or filtered');\n\t\t}\n\t}\n);\n\nconst preSortCommand = commandFactory<SortCommandPayload>(\n\t({ at, path, get, payload: { id, columnId, direction } }) => {\n\t\tconst page = get(path(id, 'meta', 'page'));\n\t\treturn [\n\t\t\tremove(path(id, 'data', 'pages')),\n\t\t\tremove(path(id, 'meta', 'selection')),\n\t\t\treplace(path(id, 'meta', 'fetchedPages'), page === 1 ? [1] : [page, page - 1]),\n\t\t\treplace(path(id, 'meta', 'sort', 'columnId'), columnId),\n\t\t\treplace(path(id, 'meta', 'sort', 'direction'), direction),\n\t\t\treplace(path(id, 'meta', 'isSorting'), true)\n\t\t];\n\t}\n);\n\nconst preFilterCommand = commandFactory<FilterCommandPayload>(\n\t({ at, path, get, payload: { id, filterOptions } }) => {\n\t\treturn [\n\t\t\tremove(path(id, 'data', 'pages')),\n\t\t\tremove(path(id, 'meta', 'selection')),\n\t\t\treplace(path(id, 'meta', 'fetchedPages'), [1]),\n\t\t\treplace(path(id, 'meta', 'filter', filterOptions.columnId), filterOptions.value),\n\t\t\treplace(path(id, 'meta', 'currentFilter'), filterOptions),\n\t\t\treplace(path(id, 'meta', 'page'), 1),\n\t\t\treplace(path(id, 'meta', 'isSorting'), true)\n\t\t];\n\t}\n);\n\nconst sortCommand = commandFactory<SortCommandPayload>(\n\tasync ({ at, path, get, payload, state }) => {\n\t\tconst { id, fetcher, columnId, direction } = payload;\n\t\tconst page = get(path(id, 'meta', 'page'));\n\t\tif (page === 1) {\n\t\t\treturn sortForFirstPage({ at, get, path, payload, state });\n\t\t}\n\t\tconst pageSize = get(path(id, 'meta', 'pageSize'));\n\t\tconst filterOptions = get(path(id, 'meta', 'filter'));\n\t\tlet result: FetcherResult[];\n\t\ttry {\n\t\t\tconst options = {\n\t\t\t\tsort: { columnId, direction },\n\t\t\t\tfilter: filterOptions\n\t\t\t};\n\t\t\tconst previousPage = fetcher(page - 1, pageSize, options);\n\t\t\tconst currentPage = fetcher(page, pageSize, options);\n\t\t\tresult = await Promise.all([previousPage, currentPage]);\n\t\t} catch (err) {\n\t\t\treturn [];\n\t\t}\n\n\t\treturn [\n\t\t\treplace(path(id, 'data', 'pages', `page-${page - 1}`), result[0].data),\n\t\t\treplace(path(id, 'data', 'pages', `page-${page}`), result[1].data),\n\t\t\treplace(path(id, 'meta', 'sort', 'columnId'), columnId),\n\t\t\treplace(path(id, 'meta', 'sort', 'direction'), direction),\n\t\t\treplace(path(id, 'meta', 'total'), result[1].meta.total),\n\t\t\treplace(path(id, 'meta', 'page'), page),\n\t\t\treplace(path(id, 'meta', 'isSorting'), false)\n\t\t];\n\t}\n);\n\nconst sortForFirstPage = commandFactory<SortCommandPayload>(\n\tasync ({ at, path, get, payload: { id, fetcher, columnId, direction } }) => {\n\t\tconst pageSize = get(path(id, 'meta', 'pageSize'));\n\t\tconst filterOptions = get(path(id, 'meta', 'filter'));\n\t\tlet result: FetcherResult;\n\t\ttry {\n\t\t\tresult = await fetcher(1, pageSize, {\n\t\t\t\tsort: { columnId, direction },\n\t\t\t\tfilter: filterOptions\n\t\t\t});\n\t\t} catch (err) {\n\t\t\treturn [];\n\t\t}\n\t\treturn [\n\t\t\treplace(path(id, 'data', 'pages', 'page-1'), result.data),\n\t\t\treplace(path(id, 'meta', 'sort', 'columnId'), columnId),\n\t\t\treplace(path(id, 'meta', 'sort', 'direction'), direction),\n\t\t\treplace(path(id, 'meta', 'total'), result.meta.total),\n\t\t\treplace(path(id, 'meta', 'page'), 1),\n\t\t\treplace(path(id, 'meta', 'isSorting'), false)\n\t\t];\n\t}\n);\n\nconst filterCommand = commandFactory<FilterCommandPayload>(\n\tasync ({ at, path, get, payload: { id, fetcher, filterOptions } }) => {\n\t\tconst pageSize = get(path(id, 'meta', 'pageSize'));\n\t\tconst sortOptions = get(path(id, 'meta', 'sort'));\n\t\tconst currentFilters = get(path(id, 'meta', 'filter'));\n\t\tlet result: FetcherResult;\n\t\ttry {\n\t\t\tresult = await fetcher(1, pageSize, { sort: sortOptions, filter: currentFilters });\n\t\t} catch (err) {\n\t\t\treturn [];\n\t\t}\n\n\t\tif (filterOptions !== get(path(id, 'meta', 'currentFilter'))) {\n\t\t\tthrow new Error();\n\t\t}\n\t\treturn [\n\t\t\tremove(path(id, 'data', 'pages')),\n\t\t\treplace(path(id, 'data', 'pages', 'page-1'), result.data),\n\t\t\treplace(path(id, 'meta', 'total'), result.meta.total),\n\t\t\treplace(path(id, 'meta', 'isSorting'), false)\n\t\t];\n\t}\n);\n\nconst preUpdateCommand = commandFactory<UpdaterCommandPayload>(\n\t({ at, path, get, payload: { id, updater, columnId, value, page, rowNumber } }) => {\n\t\tconst item = get(at(path(id, 'data', 'pages', `page-${page}`), rowNumber));\n\t\tconst updatedItem = { ...item, [columnId]: value };\n\n\t\treturn [\n\t\t\treplace(at(path(id, 'data', 'pages', `page-${page}`), rowNumber), updatedItem),\n\t\t\treplace(path(id, 'meta', 'editedRow', 'page'), page),\n\t\t\treplace(path(id, 'meta', 'editedRow', 'index'), rowNumber),\n\t\t\treplace(path(id, 'meta', 'editedRow', 'item'), { ...item })\n\t\t];\n\t}\n);\n\nconst updaterCommand = commandFactory<UpdaterCommandPayload>(\n\tasync ({ at, path, get, payload: { id, updater, columnId, value, page, rowNumber } }) => {\n\t\tconst item = get(at(path(id, 'data', 'pages', `page-${page}`), rowNumber));\n\t\ttry {\n\t\t\tawait updater(item);\n\t\t} catch (err) {\n\t\t\tconst previousItem = get(path(id, 'meta', 'editedRow', 'item'));\n\t\t\treturn [\n\t\t\t\treplace(at(path(id, 'data', 'pages', `page-${page}`), rowNumber), previousItem)\n\t\t\t];\n\t\t}\n\n\t\treturn [replace(path(id, 'meta', 'editedRow'), undefined)];\n\t}\n);\n\nconst selectionCommand = commandFactory<SelectionCommandPayload>(\n\t({ payload: { id, index, type }, get, path }) => {\n\t\tlet currentSelection = [...(get(path(id, 'meta', 'selection')) || [])];\n\t\tif (type === 'single') {\n\t\t\tif (currentSelection.indexOf(index) === -1) {\n\t\t\t\tcurrentSelection = [index];\n\t\t\t} else if (currentSelection.length > 1) {\n\t\t\t\tcurrentSelection = [index];\n\t\t\t} else {\n\t\t\t\tcurrentSelection = [];\n\t\t\t}\n\t\t} else {\n\t\t\tconst existingIndex = findIndex(currentSelection, (idx) => idx === index);\n\t\t\tif (existingIndex === -1) {\n\t\t\t\tcurrentSelection = [...currentSelection, index];\n\t\t\t} else {\n\t\t\t\tcurrentSelection.splice(existingIndex, 1);\n\t\t\t}\n\t\t}\n\n\t\treturn [replace(path(id, 'meta', 'selection'), currentSelection)];\n\t}\n);\n\nconst clearSelectionCommand = commandFactory<{ id: string }>(({ payload: { id }, path }) => {\n\treturn [remove(path(id, 'meta', 'selection'))];\n});\n\nexport const updaterProcess: Process<GridState, UpdaterCommandPayload> = createProcess(\n\t'grid-update',\n\t[preUpdateCommand, updaterCommand]\n);\nexport const fetcherProcess: Process<GridState, FetcherCommandPayload> = createProcess(\n\t'grid-fetch',\n\t[preFetcherCommand, fetcherCommand]\n);\nexport const filterProcess: Process<GridState, FilterCommandPayload> = createProcess(\n\t'grid-filter',\n\t[preFilterCommand, filterCommand]\n);\nexport const sortProcess: Process<GridState, SortCommandPayload> = createProcess('grid-sort', [\n\tpreSortCommand,\n\tsortCommand\n]);\nexport const selectionProcess: Process<GridState, SelectionCommandPayload> = createProcess(\n\t'grid-selection',\n\t[selectionCommand]\n);\nexport const clearSelectionProcess = createProcess('clear-selection', [clearSelectionCommand]);\nexport const pageChangeProcess: Process<GridState, PageChangeCommandPayload> = createProcess(\n\t'grid-page-change',\n\t[pageChangeCommand]\n);\n","import { v, w } from \"@dojo/framework/core/vdom\";\nimport WidgetBase from \"@dojo/framework/core/WidgetBase\";\nimport Grid from \"@dojo/widgets/grid\";\nimport { createFetcher } from \"@dojo/widgets/grid/utils\";\nimport ToolBar from \"../ToolBar/ToolBar\";\n//import IconX from \".././Icon/Icon\";\n\nexport interface FuelingLogProperties {\n  idvehicle?: string;\n}\n\nexport default class FuelingLog extends WidgetBase<FuelingLogProperties> {\n  private url: string = \"/fuelinglog\";\n  private Params = {\n    idvehicle: \"0\",\n  };\n  private columnConfig = [\n    {\n      id: \"date_reg\",\n      title: \"Fecha\",\n      filterable: true,\n      sortable: true,\n      //editable: true,\n      resizable: true,\n    },\n    {\n      id: \"odometer\",\n      title: \"Odometer\",\n      filterable: true,\n      sortable: true,\n      //editable: true,\n      resizable: true,\n    },\n    {\n      id: \"quantity\",\n      title: \"Cantidad\",\n      filterable: true,\n      sortable: true,\n      //editable: true,\n      resizable: true,\n    },\n    {\n      id: \"price_by_unit\",\n      title: \"Precio x Unidad\",\n      filterable: true,\n      sortable: true,\n      //editable: true,\n      resizable: true,\n    },\n\n    {\n      id: \"total\",\n      title: \"Total\",\n      filterable: true,\n      sortable: true,\n      //editable: true,\n      resizable: true,\n    },\n    {\n      id: \"address\",\n      title: \"Dirección\",\n      //filterable: true,\n      sortable: true,\n      //editable: true,\n      resizable: true,\n    },\n    {\n      id: \"note\",\n      title: \"Notas\",\n      //filterable: true,\n      sortable: true,\n      //editable: true,\n      resizable: true,\n    },\n  ];\n\n  private _fetcher: any;\n\n  async onAttach() {\n    setTimeout(() => {\n      this.columnConfig = [\n        {\n          id: \"date_reg\",\n          title: \"Fecha\",\n          filterable: false,\n          sortable: true,\n          //editable: true,\n          resizable: true,\n        },\n        {\n          id: \"odometer\",\n          title: \"Odometer\",\n          filterable: false,\n          sortable: true,\n          //editable: true,\n          resizable: true,\n        },\n        {\n          id: \"quantity\",\n          title: \"Cantidad\",\n          filterable: false,\n          sortable: true,\n          //editable: true,\n          resizable: true,\n        },\n        {\n          id: \"total\",\n          title: \"Total\",\n          filterable: false,\n          sortable: true,\n          //editable: true,\n          resizable: true,\n        },\n        {\n          id: \"address\",\n          title: \"Dirección\",\n          //filterable: true,\n          sortable: false,\n          //editable: true,\n          resizable: true,\n        },\n      ];\n\n      this.invalidate();\n    }, 10000);\n\n    var paramsString = window.location.hash.split(\"?\")[1];\n    var searchParams = new URLSearchParams(paramsString);\n    this.Params.idvehicle = searchParams.get(\"idvehicle\") || \"-2\";\n\n    const res = await fetch(this.url + \"?idvehicle=\" + this.Params.idvehicle, {\n      method: \"GET\",\n      headers: {\n        \"Content-Type\": \"application/json\",\n      },\n    });\n    let data = await res.json();\n    console.log(data);\n    this._fetcher = createFetcher(data);\n    this.invalidate();\n  }\n\n  protected render() {\n    return v(\"div\", {}, [\n      w(ToolBar, { title: \"ABASTECIMIENTOS\", ShowSave: true, onSave: ()=>{\n        window.location.href = \"/#fueling?idfueling=0&rowkey=0\";\n      }}),\n      v(\"div\", {}, [\n        this._fetcher\n          ? w(Grid, {\n              columnConfig: this.columnConfig,\n              fetcher: this._fetcher,\n              height: 400,\n              onRowSelect: (items: any[]) => {\n                console.log(items, this._fetcher);\n                window.location.href =\n                  \"/#fueling?idfueling=\" +\n                  items[0].idfueling +\n                  \"&rowkey=\" +\n                  items[0].rowkey;\n              },\n            })\n          : null,\n      ]),\n    ]);\n  }\n}\n","import { create, node, invalidator } from '../vdom';\n\nconst factory = create({ node, invalidator });\n\nexport const validity = factory(function({ middleware: { node, invalidator } }) {\n\treturn {\n\t\tget(key: string | number, value: string) {\n\t\t\tconst domNode = node.get(key) as HTMLFormElement | undefined;\n\n\t\t\tif (!domNode) {\n\t\t\t\treturn { valid: undefined, message: '' };\n\t\t\t}\n\n\t\t\tif (value !== domNode.value) {\n\t\t\t\tsetTimeout(() => invalidator());\n\t\t\t}\n\n\t\t\treturn {\n\t\t\t\tvalid: domNode.validity.valid,\n\t\t\t\tmessage: domNode.validationMessage\n\t\t\t};\n\t\t}\n\t};\n});\n\nexport default validity;\n","require('/home/edwinspire/Documentos/Desarrollo/mycarlog/mycarlog/opt/mycarlog/frontend/node_modules/@dojo/widgets/theme/default/icon.m.css');\nmodule.exports = {\" _key\":\"@dojo/widgets/icon\",\"root\":\"icon-m__root__1eoV_\",\"medium\":\"icon-m__medium__3Xwur\",\"large\":\"icon-m__large__Ml3b4\",\"small\":\"icon-m__small__2BbOV\",\"icon\":\"icon-m__icon__UdYI1\",\"clockIcon\":\"icon-m__clockIcon__3GLpu\",\"downIcon\":\"icon-m__downIcon__2q5lh\",\"leftIcon\":\"icon-m__leftIcon__pBWIt\",\"rightIcon\":\"icon-m__rightIcon__18AW6\",\"closeIcon\":\"icon-m__closeIcon__21KIr\",\"plusIcon\":\"icon-m__plusIcon__2b4l_\",\"minusIcon\":\"icon-m__minusIcon__1DHfu\",\"checkIcon\":\"icon-m__checkIcon__2D3mV\",\"upIcon\":\"icon-m__upIcon__2Whg2\",\"upAltIcon\":\"icon-m__upAltIcon__2GXtu\",\"downAltIcon\":\"icon-m__downAltIcon__hm7FZ\",\"searchIcon\":\"icon-m__searchIcon__2HGOw\",\"barsIcon\":\"icon-m__barsIcon__2e0Qo\",\"settingsIcon\":\"icon-m__settingsIcon__2-UEA\",\"alertIcon\":\"icon-m__alertIcon__WjF2F\",\"helpIcon\":\"icon-m__helpIcon__3c7_4\",\"infoIcon\":\"icon-m__infoIcon__PXtvl\",\"cancelIcon\":\"icon-m__cancelIcon__2ey9p\",\"checkedBoxIcon\":\"icon-m__checkedBoxIcon__TSG-9\",\"phoneIcon\":\"icon-m__phoneIcon__2BO7g\",\"editIcon\":\"icon-m__editIcon__3j9QX\",\"dateIcon\":\"icon-m__dateIcon__3vXGn\",\"linkIcon\":\"icon-m__linkIcon__314xM\",\"locationIcon\":\"icon-m__locationIcon__1uwwo\",\"secureIcon\":\"icon-m__secureIcon__UXrMt\",\"mailIcon\":\"icon-m__mailIcon__3uh6Q\",\"eyeIcon\":\"icon-m__eyeIcon__2Cqqq\",\"eyeSlashIcon\":\"icon-m__eyeSlashIcon__17wRy\",\"starIcon\":\"icon-m__starIcon__r0lYz\"};;","require('/home/edwinspire/Documentos/Desarrollo/mycarlog/mycarlog/opt/mycarlog/frontend/node_modules/@dojo/widgets/theme/default/helper-text.m.css');\nmodule.exports = {\" _key\":\"@dojo/widgets/helper-text\",\"root\":\"helper-text-m__root__3s_po\",\"text\":\"helper-text-m__text__dNGJX\",\"valid\":\"helper-text-m__valid__18VWN\",\"invalid\":\"helper-text-m__invalid__1CrCV\"};;","require('/home/edwinspire/Documentos/Desarrollo/mycarlog/mycarlog/opt/mycarlog/frontend/node_modules/@dojo/widgets/theme/default/label.m.css');\nmodule.exports = {\" _key\":\"@dojo/widgets/label\",\"root\":\"label-m__root__3Kk7r\",\"readonly\":\"label-m__readonly__2pxUq\",\"invalid\":\"label-m__invalid__1CZyi\",\"valid\":\"label-m__valid__2hdFV\",\"required\":\"label-m__required__2WVo7\",\"disabled\":\"label-m__disabled__34MEb\",\"focused\":\"label-m__focused__ISy0H\",\"secondary\":\"label-m__secondary__37QWK\",\"active\":\"label-m__active__3MoIi\"};;","require('/home/edwinspire/Documentos/Desarrollo/mycarlog/mycarlog/opt/mycarlog/frontend/node_modules/@dojo/widgets/theme/default/text-input.m.css');\nmodule.exports = {\" _key\":\"@dojo/widgets/text-input\",\"input\":\"text-input-m__input__3AObE\",\"root\":\"text-input-m__root__1eiQw\",\"wrapper\":\"text-input-m__wrapper__3sXSt\",\"inputWrapper\":\"text-input-m__inputWrapper__3Usth\",\"inputWrapperFocused\":\"text-input-m__inputWrapperFocused__OjF-_\",\"disabled\":\"text-input-m__disabled__1U733\",\"focused\":\"text-input-m__focused__1nmLV\",\"readonly\":\"text-input-m__readonly__INN_p\",\"required\":\"text-input-m__required__2pLE4\",\"invalid\":\"text-input-m__invalid__12hBo\",\"addonRoot\":\"text-input-m__addonRoot__21n_v\",\"addonFilled\":\"text-input-m__addonFilled__azpzz\",\"hasLeading\":\"text-input-m__hasLeading__1vNgP\",\"hasTrailing\":\"text-input-m__hasTrailing__1levI\",\"noLabel\":\"text-input-m__noLabel__3dEz1\",\"label\":\"text-input-m__label__2oAFG\",\"helperText\":\"text-input-m__helperText__1hpcr\",\"valid\":\"text-input-m__valid__1LmDm\"};;","/**\n * CLDR JavaScript Library v0.5.1\n * http://jquery.com/\n *\n * Copyright 2013 Rafael Xavier de Souza\n * Released under the MIT license\n * http://jquery.org/license\n *\n * Date: 2019-01-21T13:43Z\n */\n/*!\n * CLDR JavaScript Library v0.5.1 2019-01-21T13:43Z MIT license © Rafael Xavier\n * http://git.io/h4lmVg\n */\n\n// Cldr\nmodule.exports = require( \"./cldr\" );\n\n// Extent Cldr with the following modules\nrequire( \"./cldr/event\" );\nrequire( \"./cldr/supplemental\" );\nrequire( \"./cldr/unresolved\" );\n","require('/home/edwinspire/Documentos/Desarrollo/mycarlog/mycarlog/opt/mycarlog/frontend/node_modules/@dojo/widgets/grid/styles/body.m.css');\nmodule.exports = {\" _key\":\"@dojo/widgets/body\",\"rootFixed\":\"body-m__rootFixed__2K95C\"};;","require('/home/edwinspire/Documentos/Desarrollo/mycarlog/mycarlog/opt/mycarlog/frontend/node_modules/@dojo/widgets/theme/default/grid-body.m.css');\nmodule.exports = {\" _key\":\"@dojo/widgets/grid-body\",\"root\":\"grid-body-m__root__XpReC\"};;"],"sourceRoot":""}