/*!
 * 
 * [Dojo](https://dojo.io/)
 * Copyright [JS Foundation](https://js.foundation/) & contributors
 * [New BSD license](https://github.com/dojo/meta/blob/master/LICENSE)
 * All rights reserved
 * 
 */
(window.dojoWebpackJsonpmycarlog3=window.dojoWebpackJsonpmycarlog3||[]).push([["src/widgets/Register/Register"],{267:function(e,r,t){e.exports={" _key":"mycarlog3/Register",root:"Register-m__root__e9fe79ZfqvN",body:"Register-m__body__e9fe7914P3S",wrapper:"Register-m__wrapper__e9fe791i_sn","form-success":"Register-m__form-success__e9fe791TD6E",container:"Register-m__container__e9fe79159nE",form:"Register-m__form__e9fe79vdDOV",links_block:"Register-m__links_block__e9fe791j0gK",bg_bubbles:"Register-m__bg_bubbles__e9fe791NnOJ",square:"Register-m__square__e9fe793a002"}},290:function(e,r,t){"use strict";t.r(r),t.d(r,"default",function(){return o});var i=t(20),s=t(22),a=t(267);class o extends s.a{SnackBar(e,r){console.log("SnackBar "+r)}onAttach(){document.cookie="TOKEN_USER= ; expires = Thu, 01 Jan 1970 00:00:00 GMT",console.log("Borrar")}render(){return Object(i.i)("div",{classes:[a.root]},[Object(i.i)("div",{classes:[a.body]},[Object(i.i)("div",{classes:a.wrapper},[Object(i.i)("div",{classes:[a.container]},[Object(i.i)("h1",{},["Registro"]),Object(i.i)("form",{classes:a.form,action:"/register",method:"post",onsubmit:e=>{if(e.target){let t=e.target.getElementsByTagName("input"),i=0;var r={};let s="",a="";for(i=0;i<t.length;i++)Object.defineProperty(r,t[i].name,{value:t[i].value,enumerable:!0}),"pwd"==t[i].name&&(s=t[i].value),"pwd2"==t[i].name&&(a=t[i].value),i+1==t.length&&(s==a?(async()=>{let e=await fetch("/register",{method:"POST",body:JSON.stringify(r),headers:{"Content-Type":"application/json"}}),t=await e.json();200==e.status?(console.log(t),t.Register?(this.SnackBar("success",t.Message),setTimeout(()=>{window.location.href="/#login"},5e3)):this.SnackBar("error",t.Message)):(console.log("No se pudo registrar",t),this.SnackBar("error","no se pudo guardar"))})():this.SnackBar("error","Las contraseñas no coinciden"))}e.preventDefault()}},[Object(i.i)("input",{name:"firstname",type:"text",placeholder:"Nombre",required:"required"}),Object(i.i)("input",{name:"lastname",type:"text",placeholder:"Apellido",required:"required"}),Object(i.i)("input",{name:"username",type:"email",placeholder:"Email",required:"required"}),Object(i.i)("input",{name:"pwd",type:"password",placeholder:"Contraseña",required:"required"}),Object(i.i)("input",{name:"pwd2",type:"password",placeholder:"Confirme Contraseña",required:"required"}),Object(i.i)("input",{name:"register",type:"submit",value:"Aceptar"}),Object(i.i)("div",{classes:a.links_block},[Object(i.i)("a",{href:"/#login"},["Login"])])])])])]),Object(i.i)("ul",{classes:a.bg_bubbles},[Object(i.i)("li"),Object(i.i)("li"),Object(i.i)("li"),Object(i.i)("li"),Object(i.i)("li"),Object(i.i)("li"),Object(i.i)("li"),Object(i.i)("li"),Object(i.i)("li"),Object(i.i)("li")])])}}}}]);
//# sourceMappingURL=Register.8432f574b03d652d5fd1.bundle.js.map