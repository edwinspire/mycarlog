/*!
 * 
 * [Dojo](https://dojo.io/)
 * Copyright [JS Foundation](https://js.foundation/) & contributors
 * [New BSD license](https://github.com/dojo/meta/blob/master/LICENSE)
 * All rights reserved
 * 
 */
(window.dojoWebpackJsonpmycarlog3=window.dojoWebpackJsonpmycarlog3||[]).push([["src/widgets/Vehicle/Vehicle"],{271:function(e,a,t){t(272),e.exports={" _key":"@dojo/widgets/text-area",root:"text-area-m__root__1NUZh",wrapper:"text-area-m__wrapper__1Nkrq",input:"text-area-m__input__3libn",inputWrapper:"text-area-m__inputWrapper__1LN1m",disabled:"text-area-m__disabled__BN85r",focused:"text-area-m__focused__1Pb_L",readonly:"text-area-m__readonly__21ZTb",required:"text-area-m__required__1NXja",invalid:"text-area-m__invalid__2jMTq",valid:"text-area-m__valid__3mRCW"}},272:function(e,a,t){},294:function(e,a,t){"use strict";t.r(a);var i=t(34),s=t(20),l=t(21),c=t(35),n=t(46),o=t(36),r=t(271),d=t(47),u=t(45),h=t(23),p=t(28),v=t(43),m=t(44);var b=Object(s.a)({icache:Object(h.a)(),theme:p.a,focus:v.a,validity:m.a}).properties().children()(function({id:e,middleware:{icache:a,theme:t,focus:i,validity:l},properties:c,children:h}){const p=t.classes(r);function v(e,a){let t,{valid:i,onValidate:s}=c();"object"==typeof i&&(t=i.message,i=i.valid),e===i&&a===t||s&&s(e,a)}const{aria:m={},columns:b=20,disabled:_,widgetId:j=`textarea-${e}`,maxLength:y,minLength:O,name:f,placeholder:w,readOnly:g,required:P,rows:k=2,initialValue:x,wrapText:S,theme:V,classes:N,labelHidden:q,helperText:C,onValidate:T}=c();let{value:B}=c();if(void 0===B){B=a.get("value"),x!==a.get("initialValue")&&(a.set("value",x),a.set("initialValue",x),B=x)}T&&function(){const{customValidator:e,value:t=a.get("value")||""}=c(),i=a.getOrSet("dirty",!1);if(""===t&&!i)return void v(void 0,"");a.set("dirty",!0);let{valid:s,message:n=""}=l.get("input",t||"");if(s&&e){const a=e(t);a&&(s=a.valid,n=a.message||"")}v(s,n)}();const{valid:L,message:W}=function(){const{valid:e={valid:void 0,message:void 0}}=c();return"boolean"==typeof e?{valid:e,message:void 0}:{valid:e.valid,message:e.message}}(),$=!1===L&&W||C,D=i.isFocused("input"),[U]=h();return Object(s.h)("div",{key:"root",classes:[t.variant(),p.root]},Object(s.h)("div",{key:"wrapper",classes:[p.wrapper,_?p.disabled:null,!1===L?p.invalid:null,!0===L?p.valid:null,g?p.readonly:null,P?p.required:null,D?p.focused:null]},U?Object(s.h)(n.a,{theme:t.compose(d,r,"label"),classes:N,disabled:_,valid:L,readOnly:g,required:P,hidden:q,forId:j,focused:D,active:!!B||D},U):null,Object(s.h)("div",{classes:p.inputWrapper},Object(s.h)("textarea",Object.assign({id:j,key:"input"},Object(o.a)(m),{classes:p.input,cols:`${b}`,disabled:_,focus:i.shouldFocus,"aria-invalid":!1===L?"true":null,maxlength:y?`${y}`:null,minlength:O?`${O}`:null,name:f,placeholder:w,readOnly:g,"aria-readonly":g?"true":null,required:P,rows:`${k}`,value:B,wrap:S,onblur:()=>{const{onBlur:e}=c();e&&e()},onfocus:()=>{const{onFocus:e}=c();e&&e()},oninput:e=>{const{onValue:t}=c();e.stopPropagation();const i=e.target.value;a.set("value",i),t&&t(i)},onkeydown:e=>{const{onKeyDown:a}=c();e.stopPropagation(),a&&a(e.which,()=>{e.preventDefault()})},onkeyup:e=>{const{onKeyUp:a}=c();e.stopPropagation(),a&&a(e.which,()=>{e.preventDefault()})},onclick:()=>{const{onClick:e}=c();e&&e()},onpointerenter:()=>{const{onOver:e}=c();e&&e()},onpointerleave:()=>{const{onOut:e}=c();e&&e()}})))),Object(s.h)(u.a,{text:$,valid:L,classes:N,theme:V}))}),_=t(40),j=t(38);class y extends l.a{render(){return Object(s.i)("span",{classes:[],onclick:e=>{console.log("Click")}},[Object(s.i)("div",{classes:["field"]},[Object(s.i)("label",{classes:["label"]},["Hola"]),Object(s.i)("div",{classes:["control","is-small"]},[Object(s.i)("input",{placeholder:"Prueba input",classes:["input","is-small"]})])])])}}var O=t(37);t.d(a,"default",function(){return f});class f extends l.a{constructor(){super(...arguments),this.Params={idvehicle:"-1",idaccount:0,idcontact:"0",rowkey:0,license_plate:"",year:"",fuel_tank_capacity:"",idfuel_tank_capacitytype:"0",vin:"",idvehicletype:"0",idmark:"0",idmodel:"0",idcolor:"0",idfueltype:"0",idunit_measure_fuel_tank:"0",note:""}}SnackBar(e){}async Save(){if(Number(this.Params.idcontact)>0)if(this.Params.license_plate.length>0){let e=await fetch("/vehicle_cu",{method:"POST",body:JSON.stringify(this.Params),headers:{"Content-Type":"application/json"}}),a=await e.json();200==e.status?(console.log(a),a.idvehicle>0?window.location.href="/#vehicles?idvehicle="+a.idvehicle+"&idaccount="+this.Params.idaccount:this.SnackBar("No se pudo guardar")):401==e.status?window.location.href="/#login":this.SnackBar("No se pudo guardar "+e.status)}else this.SnackBar("Complete los campos que son requeridos");else this.SnackBar("Debe seleccionar un Propietario");this.invalidate()}async onAttach(){if(console.log(this.properties.idvehicle),this.Params.idaccount=window.GlobalStore.get(window.GlobalStore.path("root","user","idaccount")),this.properties.idvehicle){var e=window.location.hash.split("?")[1],a=new URLSearchParams(e);this.Params.idvehicle=a.get("idvehicle")||"-2";var t="/vehicle?idvehicle="+this.Params.idvehicle+"&idaccount="+this.Params.idaccount;const i=await fetch(t,{method:"GET",headers:{"Content-Type":"application/json"}});let s=await i.json();console.log(s),s.length>0&&s[0].idaccount&&s[0].idvehicle&&(this.Params=s[0],this.invalidate())}}render(){return Object(s.i)("div",{},[Object(s.j)(j.a,{}),Object(s.j)(O.a,{title:"VEHÍCULO",ShowNew:!0,ShowSave:!0,onSave:()=>{this.Save()},onNew:()=>{this.Params={idaccount:this.Params.idaccount,idvehicle:"-1",idcontact:"0",rowkey:0,license_plate:"",year:"",fuel_tank_capacity:"",idfuel_tank_capacitytype:"0",vin:"",idvehicletype:"0",idmark:"0",idmodel:"0",idcolor:"0",idfueltype:"0",idunit_measure_fuel_tank:"0",note:""}}}),Object(s.i)("div",{classes:[]},[Object(s.i)("div",{classes:[]},[]),Object(s.j)(y,{label:"Mi primer input"}),Object(s.i)("div",{classes:[]},[Object(s.i)("div",{classes:[]},[Object(s.j)(c.a,{type:"text",disabled:!1,readOnly:!1,required:!0,placeholder:"Placa",value:this.Params.license_plate,onValue:e=>{this.Params.license_plate=e,this.invalidate()}},[{label:"Placa"}])]),Object(s.i)("div",{classes:[]},[])]),Object(s.i)("div",{classes:[]},[Object(s.i)("div",{classes:[]},[Object(s.j)(c.a,{type:"number",disabled:!1,readOnly:!1,value:this.Params.year,onValue:e=>{this.Params.year=e,this.invalidate()}},[{label:"Año"}])]),Object(s.i)("div",{classes:[]},[Object(s.j)(c.a,{type:"text",disabled:!1,readOnly:!1,value:this.Params.vin,onValue:e=>{this.Params.vin=e,this.invalidate()}},[{label:"VIN"}])])]),Object(s.i)("div",{classes:""},[Object(s.i)("div",{classes:[]},[]),Object(s.i)("div",{classes:[]},[])]),Object(s.i)("div",{classes:""},[Object(s.i)("div",{classes:[]},[Object(s.j)(c.a,{key:"t6",type:"number",disabled:!1,readOnly:!1,value:this.Params.fuel_tank_capacity,onValue:e=>{this.Params.fuel_tank_capacity=e,this.invalidate()}},[{label:"Capacidad del tanque"}])]),Object(s.i)("div",{classes:[]},[])]),Object(s.i)("div",{classes:[""]},[Object(s.j)(b,{columns:40,rows:5,placeholder:"Notas",key:"text-area",value:this.Params.note,onValue:e=>{this.Params.note=e,this.invalidate()}})])])])}}i.a([Object(_.a)()],f.prototype,"Params",void 0)}}]);
//# sourceMappingURL=Vehicle.7ab5c2f4880d81af4b54.bundle.js.map