/*!
 * 
 * [Dojo](https://dojo.io/)
 * Copyright [JS Foundation](https://js.foundation/) & contributors
 * [New BSD license](https://github.com/dojo/meta/blob/master/LICENSE)
 * All rights reserved
 * 
 */
(window.dojoWebpackJsonpmycarlog3=window.dojoWebpackJsonpmycarlog3||[]).push([["src/widgets/Vehicle/Vehicle"],{271:function(e,a,i){i(272),e.exports={" _key":"@dojo/widgets/text-area",root:"text-area-m__root__1NUZh",wrapper:"text-area-m__wrapper__1Nkrq",input:"text-area-m__input__3libn",inputWrapper:"text-area-m__inputWrapper__1LN1m",disabled:"text-area-m__disabled__BN85r",focused:"text-area-m__focused__1Pb_L",readonly:"text-area-m__readonly__21ZTb",required:"text-area-m__required__1NXja",invalid:"text-area-m__invalid__2jMTq",valid:"text-area-m__valid__3mRCW"}},272:function(e,a,i){},294:function(e,a,i){"use strict";i.r(a);var t=i(34),s=i(20),l=i(21),c=i(35),n=i(46),o=i(36),r=i(271),d=i(47),u=i(45),p=i(23),v=i(28),h=i(43),b=i(44);var m=Object(s.a)({icache:Object(p.a)(),theme:v.a,focus:h.a,validity:b.a}).properties().children()(function({id:e,middleware:{icache:a,theme:i,focus:t,validity:l},properties:c,children:p}){const v=i.classes(r);function h(e,a){let i,{valid:t,onValidate:s}=c();"object"==typeof t&&(i=t.message,t=t.valid),e===t&&a===i||s&&s(e,a)}const{aria:b={},columns:m=20,disabled:j,widgetId:_=`textarea-${e}`,maxLength:O,minLength:y,name:f,placeholder:w,readOnly:g,required:P,rows:k=2,initialValue:x,wrapText:S,theme:V,classes:q,labelHidden:N,helperText:C,onValidate:T}=c();let{value:B}=c();if(void 0===B){B=a.get("value"),x!==a.get("initialValue")&&(a.set("value",x),a.set("initialValue",x),B=x)}T&&function(){const{customValidator:e,value:i=a.get("value")||""}=c(),t=a.getOrSet("dirty",!1);if(""===i&&!t)return void h(void 0,"");a.set("dirty",!0);let{valid:s,message:n=""}=l.get("input",i||"");if(s&&e){const a=e(i);a&&(s=a.valid,n=a.message||"")}h(s,n)}();const{valid:M,message:L}=function(){const{valid:e={valid:void 0,message:void 0}}=c();return"boolean"==typeof e?{valid:e,message:void 0}:{valid:e.valid,message:e.message}}(),W=!1===M&&L||C,$=t.isFocused("input"),[D]=p();return Object(s.h)("div",{key:"root",classes:[i.variant(),v.root]},Object(s.h)("div",{key:"wrapper",classes:[v.wrapper,j?v.disabled:null,!1===M?v.invalid:null,!0===M?v.valid:null,g?v.readonly:null,P?v.required:null,$?v.focused:null]},D?Object(s.h)(n.a,{theme:i.compose(d,r,"label"),classes:q,disabled:j,valid:M,readOnly:g,required:P,hidden:N,forId:_,focused:$,active:!!B||$},D):null,Object(s.h)("div",{classes:v.inputWrapper},Object(s.h)("textarea",Object.assign({id:_,key:"input"},Object(o.a)(b),{classes:v.input,cols:`${m}`,disabled:j,focus:t.shouldFocus,"aria-invalid":!1===M?"true":null,maxlength:O?`${O}`:null,minlength:y?`${y}`:null,name:f,placeholder:w,readOnly:g,"aria-readonly":g?"true":null,required:P,rows:`${k}`,value:B,wrap:S,onblur:()=>{const{onBlur:e}=c();e&&e()},onfocus:()=>{const{onFocus:e}=c();e&&e()},oninput:e=>{const{onValue:i}=c();e.stopPropagation();const t=e.target.value;a.set("value",t),i&&i(t)},onkeydown:e=>{const{onKeyDown:a}=c();e.stopPropagation(),a&&a(e.which,()=>{e.preventDefault()})},onkeyup:e=>{const{onKeyUp:a}=c();e.stopPropagation(),a&&a(e.which,()=>{e.preventDefault()})},onclick:()=>{const{onClick:e}=c();e&&e()},onpointerenter:()=>{const{onOver:e}=c();e&&e()},onpointerleave:()=>{const{onOut:e}=c();e&&e()}})))),Object(s.h)(u.a,{text:W,valid:M,classes:q,theme:V}))}),j=i(40),_=i(38);class O extends l.a{render(){return Object(s.i)("span",{classes:[],onclick:e=>{console.log("Click")}},[Object(s.i)("div",{classes:["field"]},[Object(s.i)("label",{classes:["label","is-small"]},["Hola"]),Object(s.i)("div",{classes:["control","is-small"]},[Object(s.i)("input",{placeholder:"Prueba input",classes:["input","is-small"]})])])])}}var y=i(37);i.d(a,"default",function(){return f});class f extends l.a{constructor(){super(...arguments),this.Params={idvehicle:"-1",idaccount:0,idcontact:"0",rowkey:0,license_plate:"",year:"",fuel_tank_capacity:"",idfuel_tank_capacitytype:"0",vin:"",idvehicletype:"0",idmark:"0",idmodel:"0",idcolor:"0",idfueltype:"0",idunit_measure_fuel_tank:"0",note:""}}SnackBar(e){}async Save(){if(Number(this.Params.idcontact)>0)if(this.Params.license_plate.length>0){let e=await fetch("/vehicle_cu",{method:"POST",body:JSON.stringify(this.Params),headers:{"Content-Type":"application/json"}}),a=await e.json();200==e.status?(console.log(a),a.idvehicle>0?window.location.href="/#vehicles?idvehicle="+a.idvehicle+"&idaccount="+this.Params.idaccount:this.SnackBar("No se pudo guardar")):401==e.status?window.location.href="/#login":this.SnackBar("No se pudo guardar "+e.status)}else this.SnackBar("Complete los campos que son requeridos");else this.SnackBar("Debe seleccionar un Propietario");this.invalidate()}async onAttach(){if(console.log(this.properties.idvehicle),this.Params.idaccount=window.GlobalStore.get(window.GlobalStore.path("root","user","idaccount")),this.properties.idvehicle){var e=window.location.hash.split("?")[1],a=new URLSearchParams(e);this.Params.idvehicle=a.get("idvehicle")||"-2";var i="/vehicle?idvehicle="+this.Params.idvehicle+"&idaccount="+this.Params.idaccount;const t=await fetch(i,{method:"GET",headers:{"Content-Type":"application/json"}});let s=await t.json();console.log(s),s.length>0&&s[0].idaccount&&s[0].idvehicle&&(this.Params=s[0],this.invalidate())}}render(){return Object(s.i)("div",{},[Object(s.j)(_.a,{}),Object(s.j)(y.a,{title:"VEHÍCULO",ShowNew:!0,ShowSave:!0,onSave:()=>{this.Save()},onNew:()=>{this.Params={idaccount:this.Params.idaccount,idvehicle:"-1",idcontact:"0",rowkey:0,license_plate:"",year:"",fuel_tank_capacity:"",idfuel_tank_capacitytype:"0",vin:"",idvehicletype:"0",idmark:"0",idmodel:"0",idcolor:"0",idfueltype:"0",idunit_measure_fuel_tank:"0",note:""}}}),Object(s.i)("div",{classes:[]},[Object(s.i)("div",{classes:[]},[]),Object(s.i)("div",{classes:["columns is-mobile"]},[Object(s.i)("div",{classes:["column"]},[Object(s.j)(O,{label:"Mi primer input"})]),Object(s.i)("div",{classes:["column"]},[Object(s.j)(O,{label:"Mi Segundo input"})]),Object(s.i)("div",{classes:["column"]},[Object(s.j)(O,{label:"Mi tercer input"})]),Object(s.i)("div",{classes:["column"]},[Object(s.j)(O,{label:"Mi cuerto input"})]),Object(s.i)("div",{classes:["column"]},[Object(s.j)(O,{label:"Mi quinto input"})])]),Object(s.j)(O,{label:"Mi primer input"}),Object(s.i)("div",{classes:[]},[Object(s.i)("div",{classes:[]},[Object(s.j)(c.a,{type:"text",disabled:!1,readOnly:!1,required:!0,placeholder:"Placa",value:this.Params.license_plate,onValue:e=>{this.Params.license_plate=e,this.invalidate()}},[{label:"Placa"}])]),Object(s.i)("div",{classes:[]},[])]),Object(s.i)("div",{classes:[]},[Object(s.i)("div",{classes:[]},[Object(s.j)(c.a,{type:"number",disabled:!1,readOnly:!1,value:this.Params.year,onValue:e=>{this.Params.year=e,this.invalidate()}},[{label:"Año"}])]),Object(s.i)("div",{classes:[]},[Object(s.j)(c.a,{type:"text",disabled:!1,readOnly:!1,value:this.Params.vin,onValue:e=>{this.Params.vin=e,this.invalidate()}},[{label:"VIN"}])])]),Object(s.i)("div",{classes:""},[Object(s.i)("div",{classes:[]},[]),Object(s.i)("div",{classes:[]},[])]),Object(s.i)("div",{classes:""},[Object(s.i)("div",{classes:[]},[Object(s.j)(c.a,{key:"t6",type:"number",disabled:!1,readOnly:!1,value:this.Params.fuel_tank_capacity,onValue:e=>{this.Params.fuel_tank_capacity=e,this.invalidate()}},[{label:"Capacidad del tanque"}])]),Object(s.i)("div",{classes:[]},[])]),Object(s.i)("div",{classes:[""]},[Object(s.j)(m,{columns:40,rows:5,placeholder:"Notas",key:"text-area",value:this.Params.note,onValue:e=>{this.Params.note=e,this.invalidate()}})])])])}}t.a([Object(j.a)()],f.prototype,"Params",void 0)}}]);
//# sourceMappingURL=Vehicle.38d9b171e9f2f15f2734.bundle.js.map