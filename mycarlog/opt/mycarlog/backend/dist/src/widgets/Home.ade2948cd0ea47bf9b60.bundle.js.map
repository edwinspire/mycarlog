{"version":3,"sources":["webpack://lib_mycarlog3/theme.tsx","webpack://lib_mycarlog3/./src/widgets/VehicleSummary/VehicleSummary.ts","webpack://lib_mycarlog3/./src/widgets/Home.ts","webpack://lib_mycarlog3/./node_modules/@dojo/widgets/theme/default/helper-text.m.css.js","webpack://lib_mycarlog3/./node_modules/@dojo/widgets/common/styles/base.m.css.js","webpack://lib_mycarlog3/./node_modules/@dojo/widgets/theme/default/label.m.css.js","webpack://lib_mycarlog3/./node_modules/@dojo/widgets/theme/default/text-input.m.css.js","webpack://lib_mycarlog3/focus.ts","webpack://lib_mycarlog3/validity.ts","webpack://lib_mycarlog3/util.ts","webpack://lib_mycarlog3/index.tsx"],"names":["_dojo_framework_core_vdom__WEBPACK_IMPORTED_MODULE_0__","__webpack_require__","_dojo_framework_core_middleware_theme__WEBPACK_IMPORTED_MODULE_1__","_dojo_framework_core_ThemeInjector__WEBPACK_IMPORTED_MODULE_2__","factory","Object","coreTheme","uppercaseFirstChar","value","charAt","toUpperCase","slice","isThemeWithVariant","theme","hasOwnProperty","middleware","properties","assign","compose","baseCss","css","prefix","themePayload","get","variant","getTheme","baseKey","variantKey","virtualCss","keys","reduce","key"," _key","virtualTheme","classes","variantTheme","baseTheme","prefixedCss","prefixCss","indexOf","classKey","toLowerCase","lowercaseFirstChar","replace","trim","[object Object]","variants","constructedTheme","variantComposesClass","__webpack_exports__","VehicleSummary_VehicleSummary","WidgetBase","this","Params","idaccount","account","date_start","date_end","idvehicle","license_plate","year","color","fuel_tank_capacity","vin","name","idmark","mark_label","idmodel","model_label","idcontact","firstname","lastname","identification","birthday","lfname","idcontacttype","contacttype_label","idgender","gender_label","idfueltype","fueltype_label","idunit_measure_fuel_tank","unit_measure_fuel_tank_label","msg","console","log","window","GlobalStore","path","res","fetch","method","body","JSON","stringify","headers","Content-Type","data","json","length","invalidate","SnackBar","location","href","vdom","ToolBar","title","customActions","ActiveLink","to","activeClasses","text_input","type","readOnly","label","placeholder","onValue","d","tslib_es6","watch","Menu","module","exports","root","text","valid","invalid","visuallyHidden","focusable","hidden","readonly","required","disabled","focused","secondary","active","input","wrapper","inputWrapper","inputWrapperFocused","addonRoot","addonFilled","hasLeading","hasTrailing","noLabel","helperText","focus_icache","middleware_icache","middleware_focus","icache","diffProperty","node","destroy","invalidator","currentElement","initialized","previous","nodeSet","Set","onFocusChange","activeElement","global","document","has","_","next","focus","current","getOrSet","set","removeEventListener","clear","shouldFocus","domNode","add","addEventListener","Keys","middleware_validity","validity_factory","setTimeout","validity","message","validationMessage","undefined","formatAriaProperties","aria","a","helper_text","middleware_theme","themedCss","helper_text_m_css","aria-hidden","widgets_label","widgets_middleware_theme","label_factory","id","children","forId","widgetId","themeCss","label_m_css","base_m_css","for","formatAutocomplete","autocomplete","text_input_TextInput","text_input_factory","pattern","RegExp","source","text_input_m_css","dirty","customValidator","labelHidden","max","maxLength","min","minLength","onBlur","onClick","onFocus","onKeyDown","onKeyUp","onOut","onOver","onValidate","patternValue","step","themeProp","initialValue","validValue","leading","trailing","_callOnValidate","previousMessage","previousValid","customValid","computedHelperText","inputFocused","isFocused","role","aria-invalid","maxlength","minlength","aria-readonly","onblur","onfocus","oninput","event","stopPropagation","target","onkeydown","which","preventDefault","onkeyup","onclick","onpointerenter","onpointerleave","addonFactory","filled"],"mappings":"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","file":"src/widgets/Home.ade2948cd0ea47bf9b60.bundle.js","sourcesContent":["import { create } from '@dojo/framework/core/vdom';\nimport coreTheme, {\n\tThemeProperties as CoreThemeProperties\n} from '@dojo/framework/core/middleware/theme';\nimport { ThemeWithVariant, ClassNames, Theme } from '@dojo/framework/core/interfaces';\nimport { isThemeInjectorPayloadWithVariant } from '@dojo/framework/core/ThemeInjector';\n\nconst factory = create({ coreTheme });\nexport const THEME_KEY = ' _key';\n\nfunction uppercaseFirstChar(value: string) {\n\treturn `${value.charAt(0).toUpperCase()}${value.slice(1)}`;\n}\n\nfunction lowercaseFirstChar(value: string) {\n\treturn `${value.charAt(0).toLowerCase()}${value.slice(1)}`;\n}\n\nfunction isThemeWithVariant(theme: any): theme is ThemeWithVariant {\n\treturn theme && theme.hasOwnProperty('variant');\n}\n\nexport interface ThemeProperties extends CoreThemeProperties {}\n\nexport const theme = factory(function({ middleware: { coreTheme }, properties }) {\n\tfunction getTheme() {\n\t\tconst { theme } = properties();\n\t\tif (theme) {\n\t\t\treturn theme;\n\t\t}\n\n\t\tconst themePayload = coreTheme.get();\n\t\tif (isThemeInjectorPayloadWithVariant(themePayload)) {\n\t\t\treturn { theme: themePayload.theme, variant: themePayload.variant };\n\t\t} else if (themePayload) {\n\t\t\treturn themePayload.theme;\n\t\t}\n\t}\n\n\treturn {\n\t\tcompose: <T extends ClassNames, B extends ClassNames>(\n\t\t\tbaseCss: B,\n\t\t\tcss: T,\n\t\t\tprefix?: string\n\t\t): Theme | ThemeWithVariant => {\n\t\t\tconst theme = getTheme();\n\t\t\tconst baseKey = baseCss[THEME_KEY];\n\t\t\tconst variantKey = css[THEME_KEY];\n\t\t\tconst virtualCss = Object.keys(baseCss).reduce(\n\t\t\t\t(virtualCss, key) => {\n\t\t\t\t\tif (key === THEME_KEY) {\n\t\t\t\t\t\treturn virtualCss;\n\t\t\t\t\t}\n\t\t\t\t\tif (prefix && !virtualCss[`${prefix}${uppercaseFirstChar(key)}`]) {\n\t\t\t\t\t\tvirtualCss[`${prefix}${uppercaseFirstChar(key)}`] = ' ';\n\t\t\t\t\t}\n\t\t\t\t\tif (!css[key]) {\n\t\t\t\t\t\tvirtualCss[key] = ' ';\n\t\t\t\t\t}\n\t\t\t\t\treturn virtualCss;\n\t\t\t\t},\n\t\t\t\t{ [THEME_KEY]: variantKey } as ClassNames\n\t\t\t);\n\t\t\tconst virtualTheme = coreTheme.classes(virtualCss);\n\t\t\tconst variantTheme = coreTheme.classes(css);\n\t\t\tlet baseTheme = coreTheme.classes(baseCss);\n\t\t\tif (prefix) {\n\t\t\t\tconst prefixedCss = Object.keys({ ...virtualTheme, ...variantTheme }).reduce(\n\t\t\t\t\t(prefixCss, key) => {\n\t\t\t\t\t\tif (key.indexOf(prefix) === 0 && key !== prefix) {\n\t\t\t\t\t\t\tconst classKey = lowercaseFirstChar(key.replace(prefix, ''));\n\t\t\t\t\t\t\tif (\n\t\t\t\t\t\t\t\t!variantTheme[key] &&\n\t\t\t\t\t\t\t\tvirtualTheme[key] &&\n\t\t\t\t\t\t\t\tvirtualTheme[key].trim()\n\t\t\t\t\t\t\t) {\n\t\t\t\t\t\t\t\tprefixCss[classKey] = `${baseTheme[classKey]} ${virtualTheme[\n\t\t\t\t\t\t\t\t\tkey\n\t\t\t\t\t\t\t\t].trim()}`;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tif (variantTheme[key]) {\n\t\t\t\t\t\t\t\tprefixCss[classKey] = variantTheme[key];\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t\treturn prefixCss;\n\t\t\t\t\t},\n\t\t\t\t\t{} as ClassNames\n\t\t\t\t);\n\t\t\t\tbaseTheme = { ...baseTheme, ...prefixedCss };\n\n\t\t\t\tif (isThemeWithVariant(theme)) {\n\t\t\t\t\treturn {\n\t\t\t\t\t\ttheme: {\n\t\t\t\t\t\t\ttheme: {\n\t\t\t\t\t\t\t\t...theme.theme.theme,\n\t\t\t\t\t\t\t\t[baseKey]: baseTheme\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\tvariants: theme.theme.variants\n\t\t\t\t\t\t},\n\t\t\t\t\t\tvariant: theme.variant\n\t\t\t\t\t};\n\t\t\t\t}\n\n\t\t\t\treturn {\n\t\t\t\t\t...theme,\n\t\t\t\t\t[baseKey]: baseTheme\n\t\t\t\t};\n\t\t\t}\n\n\t\t\tconst constructedTheme = Object.keys(baseTheme).reduce(\n\t\t\t\t(theme, key) => {\n\t\t\t\t\tif (key === THEME_KEY) {\n\t\t\t\t\t\treturn theme;\n\t\t\t\t\t}\n\t\t\t\t\tconst variantComposesClass = variantTheme[key] && variantTheme[key].trim();\n\t\t\t\t\tif (variantTheme[key]) {\n\t\t\t\t\t\ttheme[key] = variantComposesClass;\n\t\t\t\t\t} else if (virtualTheme[key] && virtualTheme[key].trim()) {\n\t\t\t\t\t\ttheme[key] = `${theme[key]} ${virtualTheme[key].trim()}`;\n\t\t\t\t\t}\n\t\t\t\t\treturn theme;\n\t\t\t\t},\n\t\t\t\t{ ...baseTheme } as ClassNames\n\t\t\t);\n\n\t\t\tif (isThemeWithVariant(theme)) {\n\t\t\t\treturn {\n\t\t\t\t\ttheme: {\n\t\t\t\t\t\ttheme: {\n\t\t\t\t\t\t\t...theme.theme.theme,\n\t\t\t\t\t\t\t[baseKey]: constructedTheme\n\t\t\t\t\t\t},\n\t\t\t\t\t\tvariants: theme.theme.variants\n\t\t\t\t\t},\n\t\t\t\t\tvariant: theme.variant\n\t\t\t\t};\n\t\t\t}\n\n\t\t\treturn {\n\t\t\t\t...theme,\n\t\t\t\t[baseKey]: constructedTheme\n\t\t\t};\n\t\t},\n\t\t...coreTheme\n\t};\n});\n\nexport default theme;\n","import { v, w } from \"@dojo/framework/core/vdom\";\nimport WidgetBase from \"@dojo/framework/core/WidgetBase\";\nimport Link from \"@dojo/framework/routing/ActiveLink\";\nimport TextInput from \"@dojo/widgets/text-input\";\n//import Textarea from \"@dojo/widgets/text-area\";\n//import SBar from \"@dojo/widgets/snackbar\";\nimport watch from \"@dojo/framework/core/decorators/watch\";\nimport ToolBar from \".././ToolBar/ToolBar\";\n//import Icon from \"../Icon/Icon\";\n//import ToolBar from \"@dojo/widgets/toolbar\";\n\nexport interface VehicleSummaryProperties {\n  idvehicle: number;\n}\n\nexport default class VehicleSummary extends WidgetBase<\n  VehicleSummaryProperties\n> {\n  @watch() private Params = {\n    idaccount: 0,\n    account: \"\",\n    date_start: \"\",\n    date_end: \"\",\n    idvehicle: 0,\n    license_plate: \"\",\n    year: \"\",\n    color: \"\",\n    fuel_tank_capacity: \"\",\n    vin: \"\",\n    name: \"\",\n    idmark: \"\",\n    mark_label: \"\",\n    idmodel: \"\",\n    model_label: \"\",\n    idcontact: \"\",\n    firstname: \"\",\n    lastname: \"\",\n    identification: \"\",\n    birthday: \"\",\n    lfname: \"\",\n    idcontacttype: \"\",\n    contacttype_label: \"\",\n    idgender: \"\",\n    gender_label: \"\",\n    idfueltype: \"\",\n    fueltype_label: \"\",\n    idunit_measure_fuel_tank: \"\",\n    unit_measure_fuel_tank_label: \"\",\n  };\n\n  // @watch() private _openSnack = false;\n  // private _MsgSnackBar = \"-\";\n\n  private SnackBar(msg: string) {\n    console.log(\"SnackBar \" + msg);\n    // this._openSnack = true;\n    // this._MsgSnackBar = msg;\n    // this.invalidate();\n    // setTimeout(() => {\n    //   this._openSnack = false;\n    //   this.invalidate();\n    // }, 4000);\n  }\n\n  async onAttach() {\n    this.Params.idvehicle = this.properties.idvehicle;\n    console.log(this.properties.idvehicle);\n\n    let idaccount = window.GlobalStore.get(\n      window.GlobalStore.path(\"root\", \"user\", \"idaccount\")\n    );\n    this.Params.idaccount = idaccount;\n\n    if (this.properties.idvehicle > 0) {\n      var url = \"/vehicle_summary\";\n\n      const res = await fetch(url, {\n        method: \"POST\",\n        body: JSON.stringify({\n          idaccount: this.Params.idaccount,\n          idvehicle: this.Params.idvehicle,\n        }),\n        headers: {\n          \"Content-Type\": \"application/json\",\n        },\n      });\n      let data = await res.json();\n      console.log(data);\n      if (data.length > 0) {\n        this.Params = data[0];\n        this.invalidate();\n      } else {\n        this.SnackBar(\"No se ha encontrado datos\");\n      }\n      //console.log(data);\n    } else {\n      this.SnackBar(\"Debe seleccionar un vehículo\");\n      window.location.href = \"/#vehicle_cards\";\n    }\n  }\n\n\n  protected render() {\n    return v(\"div\", {}, [\n      w(ToolBar, { title: this.Params.license_plate, customActions: [\n        w(\n          Link,\n          {\n            to: \"home\",\n            activeClasses: []\n          },\n          [\"PRUEBA\"]\n        )\n      ] }, [\n        \n      ]),\n      v(\"div\", { classes: [] }, [\n        v(\"div\", { classes: [] }, [\n          w(\n            TextInput,\n            {\n              type: \"text\",\n              value: this.Params.lastname + \" \" + this.Params.firstname,\n              readOnly: true,\n            },\n            [{ label: \"Propietario\" }]\n          ),\n        ]),\n        v(\"div\", { classes: [] }, [\n          v(\"div\", { classes: [] }, [\n            w(\n              TextInput,\n              {\n                type: \"text\",\n\n                //                disabled: false,\n                readOnly: true,\n                //              required: true,\n                placeholder: \"Placa\",\n                value: this.Params.license_plate,\n                onValue: (d) => {\n                  this.Params.license_plate = d as string;\n                  this.invalidate();\n                },\n              },\n              [{ label: \"Placa\" }]\n            ),\n          ]),\n          v(\"div\", { classes: [] }, [\n            w(\n              TextInput,\n              {\n                value: this.Params.mark_label,\n                readOnly: true,\n              },\n              [{ label: \"Marca\" }]\n            ),\n          ]),\n        ]),\n        v(\"div\", {}, [\n          v(\"div\", {}, [\n            w(\n              TextInput,\n              {\n                type: \"number\",\n\n                //disabled: false,\n                readOnly: true,\n                value: this.Params.year as any,\n              },\n              [{ label: \"Año\" }]\n            ),\n          ]),\n          v(\"div\", { classes: [] }, [\n            w(\n              TextInput,\n              {\n                type: \"text\",\n\n                //disabled: false,\n                readOnly: true,\n                value: this.Params.vin as any,\n              },\n              [{ label: \"VIN\" }]\n            ),\n          ]),\n        ]),\n        v(\"div\", {}, [\n          v(\"div\", { classes: [] }, [\n            w(\n              TextInput,\n              {\n                //type: \"color\",\n                readOnly: true,\n                value: this.Params.color,\n              },\n              [{ label: \"Color\" }]\n            ),\n          ]),\n          v(\"div\", { classes: [] }, [\n            w(\n              TextInput,\n              {\n                value: this.Params.fueltype_label,\n                readOnly: true,\n              },\n              [{ label: \"Tipo de combustible\" }]\n            ),\n          ]),\n        ]),\n        v(\"div\", {}, [\n          v(\"div\", { classes: [] }, [\n            w(\n              TextInput,\n              {\n                //                key: \"t6\",\n                type: \"text\",\n\n                //                disabled: false,\n                readOnly: true,\n                value:\n                  (this.Params.fuel_tank_capacity as any) +\n                  \" \" +\n                  this.Params.unit_measure_fuel_tank_label,\n              },\n              [{ label: \"Capacidad del tanque\" }]\n            ),\n          ]),\n          v(\"div\", { classes: [] }, [\n            w(\n              TextInput,\n              {\n                readOnly: true,\n                value: \"this.Params.unit_measure_fuel_tank_label\",\n              },\n              [{ label: \"Unidad de medida del tanque\" }]\n            ),\n          ]),\n        ]),\n      ]),\n    ]);\n  }\n}\n","import { create, w, v } from '@dojo/framework/core/vdom';\nimport Summary from './VehicleSummary/VehicleSummary';\nimport Menu from './Menu/Menu';\n\nconst factory = create();\n\nexport default factory(function Profile() {\n\treturn  v('div', {}, [\n\t\tw(Menu, {}),\n\t\tw(Summary, {idvehicle: window.GlobalStore.get(window.GlobalStore.path(\"root\", \"user\", \"preferences\", \"last_vehicle_selected\", \"idvehicle\"))}, [])\n\t\t]) ;\n});\n","require('/home/edwinspire/Documentos/Desarrollo/mycarlog/mycarlog/opt/mycarlog/frontend/node_modules/@dojo/widgets/theme/default/helper-text.m.css');\nmodule.exports = {\" _key\":\"@dojo/widgets/helper-text\",\"root\":\"helper-text-m__root__3s_po\",\"text\":\"helper-text-m__text__dNGJX\",\"valid\":\"helper-text-m__valid__18VWN\",\"invalid\":\"helper-text-m__invalid__1CrCV\"};;","require('/home/edwinspire/Documentos/Desarrollo/mycarlog/mycarlog/opt/mycarlog/frontend/node_modules/@dojo/widgets/common/styles/base.m.css');\nmodule.exports = {\" _key\":\"@dojo/widgets/base\",\"visuallyHidden\":\"base-m__visuallyHidden__1AeWe\",\"focusable\":\"base-m__focusable__1_qAN\",\"hidden\":\"base-m__hidden__3QddU\"};;","require('/home/edwinspire/Documentos/Desarrollo/mycarlog/mycarlog/opt/mycarlog/frontend/node_modules/@dojo/widgets/theme/default/label.m.css');\nmodule.exports = {\" _key\":\"@dojo/widgets/label\",\"root\":\"label-m__root__3Kk7r\",\"readonly\":\"label-m__readonly__2pxUq\",\"invalid\":\"label-m__invalid__1CZyi\",\"valid\":\"label-m__valid__2hdFV\",\"required\":\"label-m__required__2WVo7\",\"disabled\":\"label-m__disabled__34MEb\",\"focused\":\"label-m__focused__ISy0H\",\"secondary\":\"label-m__secondary__37QWK\",\"active\":\"label-m__active__3MoIi\"};;","require('/home/edwinspire/Documentos/Desarrollo/mycarlog/mycarlog/opt/mycarlog/frontend/node_modules/@dojo/widgets/theme/default/text-input.m.css');\nmodule.exports = {\" _key\":\"@dojo/widgets/text-input\",\"input\":\"text-input-m__input__3AObE\",\"root\":\"text-input-m__root__1eiQw\",\"wrapper\":\"text-input-m__wrapper__3sXSt\",\"inputWrapper\":\"text-input-m__inputWrapper__3Usth\",\"inputWrapperFocused\":\"text-input-m__inputWrapperFocused__OjF-_\",\"disabled\":\"text-input-m__disabled__1U733\",\"focused\":\"text-input-m__focused__1nmLV\",\"readonly\":\"text-input-m__readonly__INN_p\",\"required\":\"text-input-m__required__2pLE4\",\"invalid\":\"text-input-m__invalid__12hBo\",\"addonRoot\":\"text-input-m__addonRoot__21n_v\",\"addonFilled\":\"text-input-m__addonFilled__azpzz\",\"hasLeading\":\"text-input-m__hasLeading__1vNgP\",\"hasTrailing\":\"text-input-m__hasTrailing__1levI\",\"noLabel\":\"text-input-m__noLabel__3dEz1\",\"label\":\"text-input-m__label__2oAFG\",\"helperText\":\"text-input-m__helperText__1hpcr\",\"valid\":\"text-input-m__valid__1LmDm\"};;","import global from '../../shim/global';\nimport { create, diffProperty, node, destroy, invalidator } from '../vdom';\nimport { createICacheMiddleware } from './icache';\nimport { FocusProperties } from '../interfaces';\n\nexport { FocusProperties } from '../interfaces';\n\nexport interface FocusState {\n\tcurrent: number;\n}\n\nconst icache = createICacheMiddleware<FocusState>();\n\nconst factory = create({ icache, diffProperty, node, destroy, invalidator }).properties<FocusProperties>();\n\nexport const focus = factory(({ middleware: { icache, diffProperty, node, destroy, invalidator } }) => {\n\tlet initialized = false;\n\tlet currentElement: HTMLElement | undefined;\n\tlet previous = 0;\n\tconst nodeSet = new Set<HTMLElement>();\n\tdiffProperty('focus', (_: FocusProperties, next: FocusProperties) => {\n\t\tconst result = next.focus && next.focus();\n\t\tif (result) {\n\t\t\tconst current = icache.getOrSet('current', 0);\n\t\t\ticache.set('current', current + 1);\n\t\t}\n\t});\n\tfunction onFocusChange() {\n\t\tconst activeElement = global.document.activeElement;\n\t\tif ((nodeSet.has(currentElement!) || nodeSet.has(activeElement)) && currentElement !== activeElement) {\n\t\t\tinvalidator();\n\t\t}\n\t\tcurrentElement = activeElement;\n\t}\n\tdestroy(() => {\n\t\tglobal.document.removeEventListener('focusin', onFocusChange);\n\t\tglobal.document.removeEventListener('focusout', onFocusChange);\n\t\tnodeSet.clear();\n\t});\n\treturn {\n\t\tshouldFocus(): boolean {\n\t\t\tconst current = icache.get('current') || 0;\n\t\t\tconst shouldFocus = current !== previous;\n\t\t\tprevious = current;\n\t\t\treturn shouldFocus;\n\t\t},\n\t\tfocus(): void {\n\t\t\tconst current = icache.getOrSet('current', 0);\n\t\t\ticache.set('current', current + 1);\n\t\t},\n\t\tisFocused(key: string | number): boolean {\n\t\t\tconst domNode = node.get(key);\n\t\t\tif (!domNode) {\n\t\t\t\treturn false;\n\t\t\t}\n\t\t\tnodeSet.add(domNode);\n\t\t\tif (!initialized) {\n\t\t\t\tglobal.document.addEventListener('focusin', onFocusChange);\n\t\t\t\tglobal.document.addEventListener('focusout', onFocusChange);\n\t\t\t\tinitialized = true;\n\t\t\t}\n\t\t\treturn global.document.activeElement === domNode;\n\t\t}\n\t};\n});\n\nexport default focus;\n","import { create, node, invalidator } from '../vdom';\n\nconst factory = create({ node, invalidator });\n\nexport const validity = factory(function({ middleware: { node, invalidator } }) {\n\treturn {\n\t\tget(key: string | number, value: string) {\n\t\t\tconst domNode = node.get(key) as HTMLFormElement | undefined;\n\n\t\t\tif (!domNode) {\n\t\t\t\treturn { valid: undefined, message: '' };\n\t\t\t}\n\n\t\t\tif (value !== domNode.value) {\n\t\t\t\tsetTimeout(() => invalidator());\n\t\t\t}\n\n\t\t\treturn {\n\t\t\t\tvalid: domNode.validity.valid,\n\t\t\t\tmessage: domNode.validationMessage\n\t\t\t};\n\t\t}\n\t};\n});\n\nexport default validity;\n","interface AriaPropertyObject {\n\t[key: string]: string | null;\n}\n\nexport enum Keys {\n\tDown = 40,\n\tEnd = 35,\n\tEnter = 13,\n\tEscape = 27,\n\tHome = 36,\n\tLeft = 37,\n\tPageDown = 34,\n\tPageUp = 33,\n\tRight = 39,\n\tSpace = 32,\n\tTab = 9,\n\tUp = 38\n}\n\nexport function formatAriaProperties(aria: AriaPropertyObject): AriaPropertyObject {\n\tconst formattedAria = Object.keys(aria).reduce((a: AriaPropertyObject, key: string) => {\n\t\ta[`aria-${key.toLowerCase()}`] = aria[key];\n\t\treturn a;\n\t}, {});\n\treturn formattedAria;\n}\n","import { RenderResult } from '@dojo/framework/core/interfaces';\nimport focus from '@dojo/framework/core/middleware/focus';\nimport { createICacheMiddleware } from '@dojo/framework/core/middleware/icache';\nimport theme from '@dojo/framework/core/middleware/theme';\nimport validity from '@dojo/framework/core/middleware/validity';\nimport { create, diffProperty, invalidator, tsx } from '@dojo/framework/core/vdom';\nimport { formatAriaProperties } from '../common/util';\nimport HelperText from '../helper-text/index';\nimport Label from '../label/index';\nimport * as css from '../theme/default/text-input.m.css';\n\nexport type TextInputType =\n\t| 'text'\n\t| 'email'\n\t| 'number'\n\t| 'password'\n\t| 'search'\n\t| 'tel'\n\t| 'url'\n\t| 'date';\n\nexport interface BaseInputProperties<T extends { value: any } = { value: string }> {\n\t/** Custom aria attributes */\n\taria?: { [key: string]: string | null };\n\t/** Should the field autocomplete */\n\tautocomplete?: boolean | string;\n\t/** The disabled property of the input */\n\tdisabled?: boolean;\n\t/** Text to display below the input */\n\thelperText?: string;\n\t/** Hides the label for a11y purposes */\n\tlabelHidden?: boolean;\n\t/** The name property of the input */\n\tname?: string;\n\t/** Callback fired when the input is blurred */\n\tonBlur?(): void;\n\t/** Callback fired when the input is focused */\n\tonFocus?(): void;\n\t/** Callback fired when a key is pressed down */\n\tonKeyDown?(key: number, preventDefault: () => void): void;\n\t/** Callback fired when a key is released */\n\tonKeyUp?(key: number, preventDefault: () => void): void;\n\t/** Callback fired when the input validation changes */\n\tonValidate?: (valid: boolean | undefined, message: string) => void;\n\t/** Callback fired when the input value changes */\n\tonValue?(value?: T['value']): void;\n\t/** Callback fired when the input is clicked */\n\tonClick?(): void;\n\t/** Callback fired when the pointer enters the input */\n\tonOver?(): void;\n\t/** Callback fired when the pointer leaves the input */\n\tonOut?(): void;\n\t/** Placeholder text */\n\tplaceholder?: string;\n\t/** The readonly attribute of the input */\n\treadOnly?: boolean;\n\t/** The required attribute of the input */\n\trequired?: boolean;\n\t/** The initial value */\n\tinitialValue?: T['value'];\n\t/** The controlled value */\n\tvalue?: T['value'];\n\t/** The id to be applied to the input */\n\twidgetId?: string;\n}\n\nexport interface TextInputChildren {\n\t/** The label to be displayed above the input */\n\tlabel?: RenderResult;\n\t/** Renderer for leading content */\n\tleading?: RenderResult;\n\t/** Renderer for trailing content */\n\ttrailing?: RenderResult;\n}\n\nexport interface TextInputProperties extends BaseInputProperties {\n\t/** Custom validator used to validate the contents of the input */\n\tcustomValidator?: (value: string) => { valid?: boolean; message?: string } | void;\n\t/** The min value a number can be */\n\tmin?: number | string;\n\t/** The max value a number can be */\n\tmax?: number | string;\n\t/** The step to increment the number value by */\n\tstep?: number | string;\n\t/** Maximum number of characters allowed in the input */\n\tmaxLength?: number | string;\n\t/** Minimum number of characters allowed in the input */\n\tminLength?: number | string;\n\t/** Pattern used as part of validation */\n\tpattern?: string | RegExp;\n\t/** Input type, e.g. text, email, tel, etc. */\n\ttype?: TextInputType;\n\t/** Represents if the input value is valid */\n\tvalid?: { valid?: boolean; message?: string } | boolean;\n}\n\nfunction formatAutocomplete(autocomplete: string | boolean | undefined): string | undefined {\n\tif (typeof autocomplete === 'boolean') {\n\t\treturn autocomplete ? 'on' : 'off';\n\t}\n\treturn autocomplete;\n}\n\ninterface TextInputICache {\n\tuuid: string;\n\tdirty: boolean;\n\tvalue?: string;\n\tinitialValue?: string;\n}\n\nconst factory = create({\n\ttheme,\n\ticache: createICacheMiddleware<TextInputICache>(),\n\tvalidity,\n\tfocus,\n\tdiffProperty,\n\tinvalidator\n})\n\t.properties<TextInputProperties>()\n\t.children<TextInputChildren | undefined>();\n\nexport const TextInput = factory(function TextInput({\n\tmiddleware: { icache, theme, validity, focus, diffProperty, invalidator },\n\tproperties,\n\tchildren,\n\tid\n}) {\n\tdiffProperty('pattern', (previous: TextInputProperties, next: TextInputProperties) => {\n\t\tconst value = next.pattern instanceof RegExp ? next.pattern.source : next.pattern;\n\t\tif (value !== previous.pattern) {\n\t\t\tinvalidator();\n\t\t}\n\t});\n\n\tconst themeCss = theme.classes(css);\n\tconst dirty = icache.getOrSet('dirty', false);\n\n\tconst {\n\t\taria = {},\n\t\tautocomplete,\n\t\tclasses,\n\t\tcustomValidator,\n\t\tdisabled,\n\t\thelperText,\n\t\tlabelHidden = false,\n\t\tmax,\n\t\tmaxLength,\n\t\tmin,\n\t\tminLength,\n\t\tname,\n\t\tonBlur,\n\t\tonClick,\n\t\tonFocus,\n\t\tonKeyDown,\n\t\tonKeyUp,\n\t\tonOut,\n\t\tonOver,\n\t\tonValidate,\n\t\tonValue,\n\t\tpattern: patternValue,\n\t\tplaceholder,\n\t\treadOnly,\n\t\trequired,\n\t\tstep,\n\t\ttheme: themeProp,\n\t\ttype = 'text',\n\t\tinitialValue,\n\t\tvalid: validValue = { valid: undefined, message: '' },\n\t\twidgetId = `text-input-${id}`\n\t} = properties();\n\n\tlet { value } = properties();\n\tconst [{ label, leading, trailing } = {} as TextInputChildren] = children();\n\n\tif (value === undefined) {\n\t\tvalue = icache.get('value');\n\t\tconst existingInitialValue = icache.get('initialValue');\n\n\t\tif (initialValue !== existingInitialValue) {\n\t\t\ticache.set('value', initialValue);\n\t\t\ticache.set('initialValue', initialValue);\n\t\t\tvalue = initialValue;\n\t\t}\n\t}\n\n\tconst pattern = patternValue instanceof RegExp ? patternValue.source : patternValue;\n\n\tfunction _callOnValidate(valid: boolean | undefined, message: string) {\n\t\tlet { valid: previousValid } = properties();\n\t\tlet previousMessage: string | undefined;\n\n\t\tif (typeof previousValid === 'object') {\n\t\t\tpreviousMessage = previousValid.message;\n\t\t\tpreviousValid = previousValid.valid;\n\t\t}\n\n\t\tif (valid !== previousValid || message !== previousMessage) {\n\t\t\tonValidate && onValidate(valid, message);\n\t\t}\n\t}\n\n\tif (onValidate) {\n\t\tif (value === '' && !dirty) {\n\t\t\t_callOnValidate(undefined, '');\n\t\t} else {\n\t\t\ticache.set('dirty', true);\n\t\t\tlet { valid, message = '' } = validity.get('input', value || '');\n\t\t\tif (valid && customValidator) {\n\t\t\t\tconst customValid = customValidator(value || '');\n\t\t\t\tif (customValid) {\n\t\t\t\t\tvalid = customValid.valid;\n\t\t\t\t\tmessage = customValid.message || '';\n\t\t\t\t}\n\t\t\t}\n\n\t\t\t_callOnValidate(valid, message);\n\t\t}\n\t}\n\n\tconst { valid, message } =\n\t\ttypeof validValue === 'boolean' ? { valid: validValue, message: '' } : validValue;\n\n\tconst computedHelperText = (valid === false && message) || helperText;\n\tconst inputFocused = focus.isFocused('input');\n\n\treturn (\n\t\t<div key=\"root\" classes={[theme.variant(), themeCss.root]} role=\"presentation\">\n\t\t\t<div\n\t\t\t\tkey=\"wrapper\"\n\t\t\t\tclasses={[\n\t\t\t\t\tthemeCss.wrapper,\n\t\t\t\t\tdisabled ? themeCss.disabled : null,\n\t\t\t\t\tinputFocused ? themeCss.focused : null,\n\t\t\t\t\tvalid === false ? themeCss.invalid : null,\n\t\t\t\t\tvalid === true ? themeCss.valid : null,\n\t\t\t\t\treadOnly ? themeCss.readonly : null,\n\t\t\t\t\trequired ? themeCss.required : null,\n\t\t\t\t\tleading ? themeCss.hasLeading : null,\n\t\t\t\t\ttrailing ? themeCss.hasTrailing : null,\n\t\t\t\t\t!label || labelHidden ? themeCss.noLabel : null\n\t\t\t\t]}\n\t\t\t\trole=\"presentation\"\n\t\t\t>\n\t\t\t\t{label && (\n\t\t\t\t\t<Label\n\t\t\t\t\t\ttheme={themeProp}\n\t\t\t\t\t\tdisabled={disabled}\n\t\t\t\t\t\tvalid={valid}\n\t\t\t\t\t\tfocused={inputFocused}\n\t\t\t\t\t\treadOnly={readOnly}\n\t\t\t\t\t\trequired={required}\n\t\t\t\t\t\thidden={labelHidden}\n\t\t\t\t\t\tforId={widgetId}\n\t\t\t\t\t\tactive={!!value || inputFocused}\n\t\t\t\t\t>\n\t\t\t\t\t\t{label}\n\t\t\t\t\t</Label>\n\t\t\t\t)}\n\t\t\t\t<div\n\t\t\t\t\tkey=\"inputWrapper\"\n\t\t\t\t\tclasses={[\n\t\t\t\t\t\tthemeCss.inputWrapper,\n\t\t\t\t\t\tinputFocused ? themeCss.inputWrapperFocused : undefined\n\t\t\t\t\t]}\n\t\t\t\t\trole=\"presentation\"\n\t\t\t\t>\n\t\t\t\t\t{leading}\n\t\t\t\t\t<input\n\t\t\t\t\t\t{...formatAriaProperties(aria)}\n\t\t\t\t\t\taria-invalid={valid === false ? 'true' : null}\n\t\t\t\t\t\tautocomplete={formatAutocomplete(autocomplete)}\n\t\t\t\t\t\tclasses={themeCss.input}\n\t\t\t\t\t\tdisabled={disabled}\n\t\t\t\t\t\tid={widgetId}\n\t\t\t\t\t\tfocus={focus.shouldFocus}\n\t\t\t\t\t\tkey={'input'}\n\t\t\t\t\t\tmax={max}\n\t\t\t\t\t\tmaxlength={maxLength ? `${maxLength}` : null}\n\t\t\t\t\t\tmin={min}\n\t\t\t\t\t\tminlength={minLength ? `${minLength}` : null}\n\t\t\t\t\t\tname={name}\n\t\t\t\t\t\tpattern={pattern}\n\t\t\t\t\t\tplaceholder={placeholder}\n\t\t\t\t\t\treadOnly={readOnly}\n\t\t\t\t\t\taria-readonly={readOnly ? 'true' : null}\n\t\t\t\t\t\trequired={required}\n\t\t\t\t\t\tstep={step}\n\t\t\t\t\t\ttype={type}\n\t\t\t\t\t\tvalue={value}\n\t\t\t\t\t\tonblur={() => {\n\t\t\t\t\t\t\tonBlur && onBlur();\n\t\t\t\t\t\t}}\n\t\t\t\t\t\tonfocus={() => {\n\t\t\t\t\t\t\tonFocus && onFocus();\n\t\t\t\t\t\t}}\n\t\t\t\t\t\toninput={(event: Event) => {\n\t\t\t\t\t\t\tevent.stopPropagation();\n\t\t\t\t\t\t\tconst value = (event.target as HTMLInputElement).value;\n\t\t\t\t\t\t\ticache.set('value', value);\n\t\t\t\t\t\t\tonValue && onValue(value);\n\t\t\t\t\t\t}}\n\t\t\t\t\t\tonkeydown={(event: KeyboardEvent) => {\n\t\t\t\t\t\t\tevent.stopPropagation();\n\t\t\t\t\t\t\tonKeyDown && onKeyDown(event.which, () => event.preventDefault());\n\t\t\t\t\t\t}}\n\t\t\t\t\t\tonkeyup={(event: KeyboardEvent) => {\n\t\t\t\t\t\t\tevent.stopPropagation();\n\t\t\t\t\t\t\tonKeyUp && onKeyUp(event.which, () => event.preventDefault());\n\t\t\t\t\t\t}}\n\t\t\t\t\t\tonclick={() => {\n\t\t\t\t\t\t\tonClick && onClick();\n\t\t\t\t\t\t}}\n\t\t\t\t\t\tonpointerenter={() => {\n\t\t\t\t\t\t\tonOver && onOver();\n\t\t\t\t\t\t}}\n\t\t\t\t\t\tonpointerleave={() => {\n\t\t\t\t\t\t\tonOut && onOut();\n\t\t\t\t\t\t}}\n\t\t\t\t\t/>\n\t\t\t\t\t{trailing}\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t\t<HelperText\n\t\t\t\ttext={computedHelperText}\n\t\t\t\tvalid={valid}\n\t\t\t\tclasses={classes}\n\t\t\t\ttheme={themeProp}\n\t\t\t/>\n\t\t</div>\n\t);\n});\n\nexport interface AddonProperties {\n\tfilled?: boolean;\n}\n\nconst addonFactory = create({\n\ttheme\n})\n\t.properties<AddonProperties>()\n\t.children();\n\nexport const Addon = addonFactory(function Addon({ middleware: { theme }, properties, children }) {\n\tconst themeCss = theme.classes(css);\n\tconst { filled } = properties();\n\n\treturn (\n\t\t<span classes={[themeCss.addonRoot, filled ? themeCss.addonFilled : null]}>\n\t\t\t{children()}\n\t\t</span>\n\t);\n});\n\nexport default TextInput;\n"],"sourceRoot":""}