{"version":3,"sources":["webpack://lib_mycarlog3/./src/widgets/VehicleSummary/VehicleSummary.m.css","webpack://lib_mycarlog3/./src/widgets/VehicleSummary/VehicleSummary.ts","webpack://lib_mycarlog3/./src/widgets/Home.ts"],"names":["module","exports"," _key","container","column","row","spacing","VehicleSummary_VehicleSummary","WidgetBase","[object Object]","this","Params","idaccount","account","date_start","date_end","idvehicle","license_plate","year","color","fuel_tank_capacity","vin","name","idmark","mark_label","idmodel","model_label","idcontact","firstname","lastname","identification","birthday","lfname","idcontacttype","contacttype_label","idgender","gender_label","idfueltype","fueltype_label","idunit_measure_fuel_tank","unit_measure_fuel_tank_label","msg","console","log","properties","window","GlobalStore","get","path","res","fetch","method","body","JSON","stringify","headers","Content-Type","data","json","length","invalidate","SnackBar","location","href","Object","vdom","ToolBar","title","customActions","ActiveLink","to","activeClasses","classes","VehicleSummary_m","Input","label","type","value","placeholder","onValue","d","tslib_es6","watch","factory","__webpack_exports__","Menu"],"mappings":"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","file":"src/widgets/Home.607add101280ae6cf422.bundle.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\" _key\":\"mycarlog3/VehicleSummary\",\"container\":\"VehicleSummary-m__container__e9fe791R12C\",\"column\":\"VehicleSummary-m__column__e9fe79211_-\",\"row\":\"VehicleSummary-m__row__e9fe792Lt4C\",\"spacing\":\"VehicleSummary-m__spacing__e9fe791USys\"};","import { v, w } from \"@dojo/framework/core/vdom\";\nimport WidgetBase from \"@dojo/framework/core/WidgetBase\";\nimport Link from \"@dojo/framework/routing/ActiveLink\";\nimport Input from \"../Input/Input\";\nimport * as css from \"./VehicleSummary.m.css\";\nimport watch from \"@dojo/framework/core/decorators/watch\";\nimport ToolBar from \".././ToolBar/ToolBar\";\n\nexport interface VehicleSummaryProperties {\n  idvehicle: number;\n}\n\nexport default class VehicleSummary extends WidgetBase<\n  VehicleSummaryProperties\n> {\n  @watch() private Params = {\n    idaccount: 0,\n    account: \"\",\n    date_start: \"\",\n    date_end: \"\",\n    idvehicle: 0,\n    license_plate: \"\",\n    year: \"\",\n    color: \"\",\n    fuel_tank_capacity: \"\",\n    vin: \"\",\n    name: \"\",\n    idmark: \"\",\n    mark_label: \"\",\n    idmodel: \"\",\n    model_label: \"\",\n    idcontact: \"\",\n    firstname: \"\",\n    lastname: \"\",\n    identification: \"\",\n    birthday: \"\",\n    lfname: \"\",\n    idcontacttype: \"\",\n    contacttype_label: \"\",\n    idgender: \"\",\n    gender_label: \"\",\n    idfueltype: \"\",\n    fueltype_label: \"\",\n    idunit_measure_fuel_tank: \"\",\n    unit_measure_fuel_tank_label: \"\",\n  };\n\n  private SnackBar(msg: string) {\n    console.log(\"SnackBar \" + msg);\n    // this._openSnack = true;\n    // this._MsgSnackBar = msg;\n    // this.invalidate();\n    // setTimeout(() => {\n    //   this._openSnack = false;\n    //   this.invalidate();\n    // }, 4000);\n  }\n\n  async onAttach() {\n    this.Params.idvehicle = this.properties.idvehicle;\n    console.log(this.properties.idvehicle);\n\n    let idaccount = window.GlobalStore.get(\n      window.GlobalStore.path(\"root\", \"user\", \"idaccount\")\n    );\n    this.Params.idaccount = idaccount;\n\n    if (this.properties.idvehicle > 0) {\n      var url = \"/vehicle_summary\";\n\n      const res = await fetch(url, {\n        method: \"POST\",\n        body: JSON.stringify({\n          idaccount: this.Params.idaccount,\n          idvehicle: this.Params.idvehicle,\n        }),\n        headers: {\n          \"Content-Type\": \"application/json\",\n        },\n      });\n      let data = await res.json();\n      console.log(data);\n      if (data.length > 0) {\n        this.Params = data[0];\n        this.invalidate();\n      } else {\n        this.SnackBar(\"No se ha encontrado datos\");\n      }\n      //console.log(data);\n    } else {\n      this.SnackBar(\"Debe seleccionar un vehículo\");\n      window.location.href = \"/#vehicle_cards\";\n    }\n  }\n\n  protected render() {\n    return v(\"div\", {}, [\n      w(\n        ToolBar,\n        {\n          title: this.Params.license_plate,\n          customActions: [\n            w(\n              Link,\n              {\n                to: \"home\",\n                activeClasses: [],\n              },\n              [\"PRUEBA\"]\n            ),\n          ],\n        },\n        []\n      ),\n      v(\"div\", { classes: [] }, [\n        v(\"div\", { classes: [\"box\"] }, [\n          v(\"div\", { classes: [\"columns is-mobile\", css.spacing] }, [\n            v(\"div\", { classes: [\"column\"] }, [\n              w(Input, {\n                label: \"Propietario\",\n                type: \"text\",\n                value: this.Params.lastname + \" \" + this.Params.firstname,\n              }),\n            ]),\n            v(\"div\", { classes: [\"column\"] }, [\n              w(Input, {\n                type: \"text\",\n                label: \"Placa\",\n                //                disabled: false,\n                //              required: true,\n                placeholder: \"Placa\",\n                value: this.Params.license_plate,\n                onValue: (d) => {\n                  this.Params.license_plate = d as string;\n                  this.invalidate();\n                },\n              }),\n            ]),\n          ]),\n\n          v(\"div\", { classes: [\"columns is-mobile\", css.spacing] }, [\n            v(\"div\", { classes: [\"column\"] }, [\n              w(Input, {\n                value: this.Params.mark_label,\n                label: \"Marca\",\n              }),\n            ]),\n            v(\"div\", { classes: [\"column\"] }, [\n              w(Input, {\n                type: \"number\",\n                label: \"Año\",\n                //disabled: false,\n\n                value: this.Params.year as any,\n              }),\n            ]),\n          ]),\n\n          v(\"div\", { classes: [\"columns is-mobile\", css.spacing] }, [\n            v(\"div\", { classes: [\"column\"] }, [\n              w(Input, {\n                type: \"text\",\n                label: \"VIN\",\n\n\n                value: this.Params.vin as any,\n              }),\n            ]),\n            v(\"div\", { classes: [\"column\"] }, [\n              w(Input, {\n\n                label: \"Color\",\n                value: this.Params.color,\n              }),\n            ]),\n          ]),\n\n          v(\"div\", { classes: [\"columns is-mobile\", css.spacing] }, [\n            v(\"div\", { classes: [\"column\"] }, [\n              w(Input, {\n                value: this.Params.fueltype_label,\n                label: \"Tipo de combustible\",\n              }),\n            ]),\n            v(\"div\", { classes: [\"column\"] }, [\n              w(Input, {\n                //                key: \"t6\",\n                type: \"text\",\n\n                //                disabled: false,\n                label: \"Capacidad del tanque\",\n                value:\n                  (this.Params.fuel_tank_capacity as any) +\n                  \" \" +\n                  this.Params.unit_measure_fuel_tank_label,\n              }),\n            ]),\n          ]),\n          v(\"div\", { classes: [\"columns is-mobile\", css.spacing] }, [\n            v(\"div\", { classes: [\"column\"] }, [\n              w(Input, {\n                label: \"Unidad de medida del tanque\",\n                value: \"this.Params.unit_measure_fuel_tank_label\",\n              }),\n            ]),\n            v(\"div\", { classes: [\"column\"] }, []),\n          ]),\n        ]),\n      ]),\n    ]);\n  }\n}\n","import { create, w, v } from '@dojo/framework/core/vdom';\nimport Summary from './VehicleSummary/VehicleSummary';\nimport Menu from './Menu/Menu';\n\nconst factory = create();\n\nexport default factory(function Profile() {\n\treturn  v('div', {}, [\n\t\tw(Menu, {}),\n\t\tw(Summary, {idvehicle: window.GlobalStore.get(window.GlobalStore.path(\"root\", \"user\", \"preferences\", \"last_vehicle_selected\", \"idvehicle\"))}, [])\n\t\t]) ;\n});\n"],"sourceRoot":""}