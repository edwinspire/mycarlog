/*!
 * 
 * [Dojo](https://dojo.io/)
 * Copyright [JS Foundation](https://js.foundation/) & contributors
 * [New BSD license](https://github.com/dojo/meta/blob/master/LICENSE)
 * All rights reserved
 * 
 */
(window.dojoWebpackJsonpmycarlog3=window.dojoWebpackJsonpmycarlog3||[]).push([["src/widgets/VehicleCards/VehicleCards"],{22:function(e,t,a){(function(a){var r,n,i,o,l,c,s,d,u,_,p,f,h,v,m,b,y,j,O,w;
/*! *****************************************************************************
Copyright (c) Microsoft Corporation. All rights reserved.
Licensed under the Apache License, Version 2.0 (the "License"); you may not use
this file except in compliance with the License. You may obtain a copy of the
License at http://www.apache.org/licenses/LICENSE-2.0

THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
MERCHANTABLITY OR NON-INFRINGEMENT.

See the Apache Version 2.0 License for specific language governing permissions
and limitations under the License.
***************************************************************************** */!function(g){var x="object"==typeof a?a:"object"==typeof self?self:"object"==typeof this?this:{};function k(e,t){return e!==x&&("function"==typeof Object.create?Object.defineProperty(e,"__esModule",{value:!0}):e.__esModule=!0),function(a,r){return e[a]=t?t(a,r):r}}void 0===(r=function(e){var t,a;t=k(x,k(e)),a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var a in t)t.hasOwnProperty(a)&&(e[a]=t[a])},n=function(e,t){function r(){this.constructor=e}a(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)},i=Object.assign||function(e){for(var t,a=1,r=arguments.length;a<r;a++)for(var n in t=arguments[a])Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e},o=function(e,t){var a={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(a[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols)for(var n=0,r=Object.getOwnPropertySymbols(e);n<r.length;n++)t.indexOf(r[n])<0&&(a[r[n]]=e[r[n]]);return a},l=function(e,t,a,r){var n,i=arguments.length,o=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,a):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,a,r);else for(var l=e.length-1;l>=0;l--)(n=e[l])&&(o=(i<3?n(o):i>3?n(t,a,o):n(t,a))||o);return i>3&&o&&Object.defineProperty(t,a,o),o},c=function(e,t){return function(a,r){t(a,r,e)}},s=function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},d=function(e,t,a,r){return new(a||(a=Promise))(function(n,i){function o(e){try{c(r.next(e))}catch(e){i(e)}}function l(e){try{c(r.throw(e))}catch(e){i(e)}}function c(e){e.done?n(e.value):new a(function(t){t(e.value)}).then(o,l)}c((r=r.apply(e,t||[])).next())})},u=function(e,t){var a,r,n,i,o={label:0,sent:function(){if(1&n[0])throw n[1];return n[1]},trys:[],ops:[]};return i={next:l(0),throw:l(1),return:l(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function l(i){return function(l){return function(i){if(a)throw new TypeError("Generator is already executing.");for(;o;)try{if(a=1,r&&(n=2&i[0]?r.return:i[0]?r.throw||((n=r.return)&&n.call(r),0):r.next)&&!(n=n.call(r,i[1])).done)return n;switch(r=0,n&&(i=[2&i[0],n.value]),i[0]){case 0:case 1:n=i;break;case 4:return o.label++,{value:i[1],done:!1};case 5:o.label++,r=i[1],i=[0];continue;case 7:i=o.ops.pop(),o.trys.pop();continue;default:if(!(n=(n=o.trys).length>0&&n[n.length-1])&&(6===i[0]||2===i[0])){o=0;continue}if(3===i[0]&&(!n||i[1]>n[0]&&i[1]<n[3])){o.label=i[1];break}if(6===i[0]&&o.label<n[1]){o.label=n[1],n=i;break}if(n&&o.label<n[2]){o.label=n[2],o.ops.push(i);break}n[2]&&o.ops.pop(),o.trys.pop();continue}i=t.call(e,o)}catch(e){i=[6,e],r=0}finally{a=n=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,l])}}},_=function(e,t){for(var a in e)t.hasOwnProperty(a)||(t[a]=e[a])},p=function(e){var t="function"==typeof Symbol&&e[Symbol.iterator],a=0;return t?t.call(e):{next:function(){return e&&a>=e.length&&(e=void 0),{value:e&&e[a++],done:!e}}}},f=function(e,t){var a="function"==typeof Symbol&&e[Symbol.iterator];if(!a)return e;var r,n,i=a.call(e),o=[];try{for(;(void 0===t||t-- >0)&&!(r=i.next()).done;)o.push(r.value)}catch(e){n={error:e}}finally{try{r&&!r.done&&(a=i.return)&&a.call(i)}finally{if(n)throw n.error}}return o},h=function(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(f(arguments[t]));return e},v=function(e){return this instanceof v?(this.v=e,this):new v(e)},m=function(e,t,a){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r,n=a.apply(e,t||[]),i=[];return r={},o("next"),o("throw"),o("return"),r[Symbol.asyncIterator]=function(){return this},r;function o(e){n[e]&&(r[e]=function(t){return new Promise(function(a,r){i.push([e,t,a,r])>1||l(e,t)})})}function l(e,t){try{(a=n[e](t)).value instanceof v?Promise.resolve(a.value.v).then(c,s):d(i[0][2],a)}catch(e){d(i[0][3],e)}var a}function c(e){l("next",e)}function s(e){l("throw",e)}function d(e,t){e(t),i.shift(),i.length&&l(i[0][0],i[0][1])}},b=function(e){var t,a;return t={},r("next"),r("throw",function(e){throw e}),r("return"),t[Symbol.iterator]=function(){return this},t;function r(r,n){t[r]=e[r]?function(t){return(a=!a)?{value:v(e[r](t)),done:"return"===r}:n?n(t):t}:n}},y=function(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t,a=e[Symbol.asyncIterator];return a?a.call(e):(e=p(e),t={},r("next"),r("throw"),r("return"),t[Symbol.asyncIterator]=function(){return this},t);function r(a){t[a]=e[a]&&function(t){return new Promise(function(r,n){t=e[a](t),function(e,t,a,r){Promise.resolve(r).then(function(t){e({value:t,done:a})},t)}(r,n,t.done,t.value)})}}},j=function(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e},O=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var a in e)Object.hasOwnProperty.call(e,a)&&(t[a]=e[a]);return t.default=e,t},w=function(e){return e&&e.__esModule?e:{default:e}},t("__extends",n),t("__assign",i),t("__rest",o),t("__decorate",l),t("__param",c),t("__metadata",s),t("__awaiter",d),t("__generator",u),t("__exportStar",_),t("__values",p),t("__read",f),t("__spread",h),t("__await",v),t("__asyncGenerator",m),t("__asyncDelegator",b),t("__asyncValues",y),t("__makeTemplateObject",j),t("__importStar",O),t("__importDefault",w)}.apply(t,[t]))||(e.exports=r)}()}).call(this,a(3))},356:function(e,t,a){e.exports={" _key":"mycarlog3/VehicleCard",container:"VehicleCard-m__container__e9fe7914TaC",column:"VehicleCard-m__column__e9fe792ehei",row:"VehicleCard-m__row__e9fe793--cc",label:"VehicleCard-m__label__e9fe793NxFw",title:"VehicleCard-m__title__e9fe793uROH",image:"VehicleCard-m__image__e9fe7933nci"}},358:function(e,t,a){a(359),e.exports={" _key":"@dojo/widgets/card",root:"card-m__root__A3YnD",actions:"card-m__actions__1s5LT",actionButtons:"card-m__actionButtons__2kXQ9",actionIcons:"card-m__actionIcons__1XRrV",primary:"card-m__primary__21gf8",content:"card-m__content__2pNIG",contentWrapper:"card-m__contentWrapper__3dgqE",header:"card-m__header__3YMQC",media:"card-m__media__3xCo8",mediaSquare:"card-m__mediaSquare__hvl_6",media16by9:"card-m__media16by9__3O5nL",titleWrapper:"card-m__titleWrapper__367rH",title:"card-m__title__qQawm",subtitle:"card-m__subtitle__75XFB"}},359:function(e,t,a){},361:function(e,t,a){a(362),e.exports={" _key":"@dojo/widgets/header-card",header:"header-card-m__header__OlFFy",headerContent:"header-card-m__headerContent__1V6Dw",avatar:"header-card-m__avatar__suhYT",title:"header-card-m__title__3sLCH",subtitle:"header-card-m__subtitle__1_ozq"}},362:function(e,t,a){},364:function(e,t,a){a(365),e.exports={" _key":"@dojo/widgets/avatar",root:"avatar-m__root__3K9z0",avatarColorSecondary:"avatar-m__avatarColorSecondary__1482_",avatarColor:"avatar-m__avatarColor__1r5W-",small:"avatar-m__small__2yQZb",medium:"avatar-m__medium__8xlzj",large:"avatar-m__large__2yM2d",circle:"avatar-m__circle__ElfyL",square:"avatar-m__square__37eQa",rounded:"avatar-m__rounded__RpRws"}},365:function(e,t,a){},372:function(e,t,a){"use strict";a.r(t);var r=a(20),n=a(21),i=a(47),o=a(36),l=a(40),c=a(356),s=a(22),d=a(27),u=a(358);var _=Object(r.a)({theme:d.a}).properties().children()(function({children:e,properties:t,middleware:{theme:a}}){const n=a.classes(u),{onAction:i,mediaSrc:o,mediaTitle:l,square:c,title:s,subtitle:d}=t(),{header:_,content:p,actionButtons:f,actionIcons:h}=e()[0]||{};return Object(r.j)("div",{key:"root",classes:[a.variant(),n.root]},_&&Object(r.j)("div",{key:"header",classes:n.header},_),Object(r.j)("div",{key:"content",classes:[n.content,i?n.primary:null],onClick:()=>i&&i()},o&&Object(r.j)("div",{title:l,classes:[n.media,c?n.mediaSquare:n.media16by9],styles:{backgroundImage:`url("${o}")`}}),s&&Object(r.j)("div",{classes:n.titleWrapper},Object(r.j)("h2",{classes:n.title},s),d&&Object(r.j)("h3",{classes:n.subtitle},d)),p&&Object(r.j)("div",{classes:n.contentWrapper},p)),(f||h)&&Object(r.j)("div",{key:"actions",classes:n.actions},f&&Object(r.j)("div",{classes:n.actionButtons},f),h&&Object(r.j)("div",{classes:n.actionIcons},h)))}),p=a(361);var f=Object(r.a)({theme:d.a}).properties().children()(function({middleware:{theme:e},properties:t,children:a}){const n=e.classes(p),i=t(),{title:o,subtitle:l}=i,c=s.__rest(i,["title","subtitle"]),[d]=a(),u=void 0===d?{}:d,{avatar:f}=u,h=s.__rest(u,["avatar"]);return Object(r.j)(_,Object.assign({key:"root"},c),Object.assign({header:Object(r.j)("div",{key:"header",classes:n.header},f&&Object(r.j)("div",{classes:n.avatar},f),Object(r.j)("div",{key:"headerContent",classes:n.headerContent},Object(r.j)("h2",{classes:n.title},o),l&&Object(r.j)("h3",{classes:n.subtitle},l)))},h))}),h=a(45),v=a(364);var m=Object(r.a)({theme:d.a}).properties()(function({middleware:{theme:e},properties:t,children:a}){const n=e.classes(v),{secondary:i,src:o,alt:l,variant:c="circle",size:s="medium"}=t();return Object(r.j)("div",{key:"root",role:o&&"image","aria-label":l,classes:[e.variant(),n.root,i?n.avatarColorSecondary:n.avatarColor,n[s],n[c]],styles:o?{backgroundImage:`url(${o})`}:{}},a())}),b=a(41),y=a(35);class j extends n.b{constructor(){super(...arguments),this.Data=this.properties}onAttach(){this.Data=this.properties,this.Data.idaccount=window.GlobalStore.get(window.GlobalStore.path("root","user","preferences","last_vehicle_selected","idvehicle")),this.invalidate()}render(){return Object(r.k)("div",{classes:c.container,onclick:()=>{const{path:e,apply:t}=window.GlobalStore;t([Object(y.a)(e("root","user","preferences","last_vehicle_selected","idvehicle"),this.Data.idvehicle)],!0),t([Object(y.a)(e("root","user","preferences","last_vehicle_selected","name"),this.Data.name||this.Data.license_plate+" - "+this.Data.vin)],!0),console.log("Se ha presionado",this.Data),window.location.href="/#home"}},[Object(r.l)(f,{title:this.properties.name||this.properties.license_plate,subtitle:this.properties.mark},[{avatar:Object(r.l)(m,{},[Object(r.k)("i",{classes:["far fa-car"]})]),content:[Object(r.l)(h.a,{initialValue:this.properties.lfname},[{label:"Propietario"}]),Object(r.l)(h.a,{initialValue:this.properties.model},[{label:"Modelo"}]),Object(r.l)(h.a,{initialValue:this.properties.year},[{label:"Año"}]),Object(r.l)(h.a,{initialValue:this.properties.vin},[{label:"VIN"}]),Object(r.l)(h.a,{initialValue:this.properties.fuel_tank_capacity},[{label:"Capacidad",trailing:Object(r.k)("Addon",{},[this.properties.unit_measure_fuel_tank])}]),Object(r.l)(h.a,{initialValue:this.properties.fuel_tank_capacity},[{label:"Capacidad",trailing:this.properties.unit_measure_fuel_tank}])]}])])}}l.a([Object(b.a)()],j.prototype,"Data",void 0);var O=a(66);a.d(t,"default",function(){return w});class w extends n.b{constructor(){super(...arguments),this.Vehicles=[]}async GetVehicles(e){const{path:t}=window.GlobalStore;let a=window.GlobalStore.get(t("root","user","idaccount"));try{const t=await fetch("/vehicles",{method:"POST",body:JSON.stringify({idaccount:a,Search:e}),headers:{"Content-Type":"application/json"}});if(200==t.status){this.Vehicles=[];let e=await t.json();console.log(e),Array.isArray(e)&&e.forEach((e,t)=>{console.log(e.license_plate),this.Vehicles.push(Object(r.l)(j,{idvehicle:e.idvehicle,name:e.name,color:e.color,lfname:e.lfname,fueltype:e.fueltype,license_plate:e.license_plate,vin:e.vin,year:e.year,fuel_tank_capacity:e.fuel_tank_capacity})),this.invalidate()}),this.invalidate()}}catch(e){console.log(e)}}render(){return Object(r.k)("div",{},[Object(r.l)(i.a,{}),Object(r.l)(o.a,{title:"Vehículos",ShowNew:!0,ShowSearch:!0,customActions:[Object(r.l)(O.a,{to:"vehicle",activeClasses:[]},[Object(r.k)("i",{classes:["fas fa-car"]})])],onSearch:e=>{console.log(e),this.GetVehicles(e).then(()=>{console.log("invalida al terminar de obtener los vehiculos"),this.invalidate()})},onNew:()=>{}}),Object(r.k)("div",{},this.Vehicles)])}}},45:function(e,t,a){"use strict";var r=a(42),n=a(26),i=a(29),o=a(20);var l=Object(o.a)({node:o.i,invalidator:o.f})(function({middleware:{node:e,invalidator:t}}){return{get(a,r){const n=e.get(a);return n?(r!==n.value&&setTimeout(()=>t()),{valid:n.validity.valid,message:n.validationMessage}):{valid:void 0,message:""}}}}),c=a(28),s=a(57);var d=Object(o.a)({theme:i.a}).properties()(function({properties:e,middleware:{theme:t}}){const{text:a,valid:r}=e(),n=t.classes(s);return Object(o.j)("div",{key:"root",classes:[t.variant(),n.root,!0===r?n.valid:null,!1===r?n.invalid:null]},a&&Object(o.j)("p",{key:"text",classes:n.text,"aria-hidden":"true",title:a},a))}),u=a(44),_=a(27),p=a(60);var f=Object(o.a)({theme:_.a}).properties()(function({properties:e,id:t,children:a,middleware:{theme:r}}){const{aria:n={},active:i,disabled:l,focused:s,forId:d,hidden:_,readOnly:f,required:h,secondary:v,valid:m,widgetId:b=`label-${t}`}=e(),y=r.classes(p);return Object(o.j)("label",Object.assign({},Object(c.b)(n),{id:b,classes:[r.variant(),y.root,l?y.disabled:null,s?y.focused:null,!0===m?y.valid:null,!1===m?y.invalid:null,f?y.readonly:null,h?y.required:null,v?y.secondary:null,i?y.active:null,_?u.visuallyHidden:null],for:d}),a())}),h=a(63);function v(e){return"boolean"==typeof e?e?"on":"off":e}const m=Object(o.a)({theme:i.a,icache:Object(n.a)(),validity:l,focus:r.a,diffProperty:o.d,invalidator:o.f}).properties().children()(function({middleware:{icache:e,theme:t,validity:a,focus:r,diffProperty:n,invalidator:i},properties:l,children:s,id:u}){n("pattern",(e,t)=>{(t.pattern instanceof RegExp?t.pattern.source:t.pattern)!==e.pattern&&i()});const _=t.classes(h),p=e.getOrSet("dirty",!1),{aria:m={},autocomplete:b,classes:y,customValidator:j,disabled:O,helperText:w,labelHidden:g=!1,max:x,maxLength:k,min:S,minLength:V,name:C,onBlur:P,onClick:I,onFocus:q,onKeyDown:W,onKeyUp:D,onOut:T,onOver:F,onValidate:L,onValue:R,pattern:E,placeholder:G,readOnly:A,required:N,step:M,theme:z,type:B="text",initialValue:Q,valid:H={valid:void 0,message:""},widgetId:$=`text-input-${u}`}=l();let{value:K}=l();const[{label:X,leading:J,trailing:U}={}]=s();if(void 0===K){K=e.get("value"),Q!==e.get("initialValue")&&(e.set("value",Q),e.set("initialValue",Q),K=Q)}const Y=E instanceof RegExp?E.source:E;function Z(e,t){let a,{valid:r}=l();"object"==typeof r&&(a=r.message,r=r.valid),e===r&&t===a||L&&L(e,t)}if(L)if(""!==K||p){e.set("dirty",!0);let{valid:t,message:r=""}=a.get("input",K||"");if(t&&j){const e=j(K||"");e&&(t=e.valid,r=e.message||"")}Z(t,r)}else Z(void 0,"");const{valid:ee,message:te}="boolean"==typeof H?{valid:H,message:""}:H,ae=!1===ee&&te||w,re=r.isFocused("input");return Object(o.j)("div",{key:"root",classes:[t.variant(),_.root],role:"presentation"},Object(o.j)("div",{key:"wrapper",classes:[_.wrapper,O?_.disabled:null,re?_.focused:null,!1===ee?_.invalid:null,!0===ee?_.valid:null,A?_.readonly:null,N?_.required:null,J?_.hasLeading:null,U?_.hasTrailing:null,!X||g?_.noLabel:null],role:"presentation"},X&&Object(o.j)(f,{theme:z,disabled:O,valid:ee,focused:re,readOnly:A,required:N,hidden:g,forId:$,active:!!K||re},X),Object(o.j)("div",{key:"inputWrapper",classes:[_.inputWrapper,re?_.inputWrapperFocused:void 0],role:"presentation"},J,Object(o.j)("input",Object.assign({},Object(c.b)(m),{"aria-invalid":!1===ee?"true":null,autocomplete:v(b),classes:_.input,disabled:O,id:$,focus:r.shouldFocus,key:"input",max:x,maxlength:k?`${k}`:null,min:S,minlength:V?`${V}`:null,name:C,pattern:Y,placeholder:G,readOnly:A,"aria-readonly":A?"true":null,required:N,step:M,type:B,value:K,onblur:()=>{P&&P()},onfocus:()=>{q&&q()},oninput:t=>{t.stopPropagation();const a=t.target.value;e.set("value",a),R&&R(a)},onkeydown:e=>{e.stopPropagation(),W&&W(e.which,()=>e.preventDefault())},onkeyup:e=>{e.stopPropagation(),D&&D(e.which,()=>e.preventDefault())},onclick:()=>{I&&I()},onpointerenter:()=>{F&&F()},onpointerleave:()=>{T&&T()}})),U)),Object(o.j)(d,{text:ae,valid:ee,classes:y,theme:z}))});Object(o.a)({theme:i.a}).properties().children()(function({middleware:{theme:e},properties:t,children:a}){const r=e.classes(h),{filled:n}=t();return Object(o.j)("span",{classes:[r.addonRoot,n?r.addonFilled:null]},a())});t.a=m},57:function(e,t,a){a(58),e.exports={" _key":"@dojo/widgets/helper-text",root:"helper-text-m__root__3s_po",text:"helper-text-m__text__dNGJX",valid:"helper-text-m__valid__18VWN",invalid:"helper-text-m__invalid__1CrCV"}},58:function(e,t,a){},60:function(e,t,a){a(61),e.exports={" _key":"@dojo/widgets/label",root:"label-m__root__3Kk7r",readonly:"label-m__readonly__2pxUq",invalid:"label-m__invalid__1CZyi",valid:"label-m__valid__2hdFV",required:"label-m__required__2WVo7",disabled:"label-m__disabled__34MEb",focused:"label-m__focused__ISy0H",secondary:"label-m__secondary__37QWK",active:"label-m__active__3MoIi"}},61:function(e,t,a){},63:function(e,t,a){a(64),e.exports={" _key":"@dojo/widgets/text-input",input:"text-input-m__input__3AObE",root:"text-input-m__root__1eiQw",wrapper:"text-input-m__wrapper__3sXSt",inputWrapper:"text-input-m__inputWrapper__3Usth",inputWrapperFocused:"text-input-m__inputWrapperFocused__OjF-_",disabled:"text-input-m__disabled__1U733",focused:"text-input-m__focused__1nmLV",readonly:"text-input-m__readonly__INN_p",required:"text-input-m__required__2pLE4",invalid:"text-input-m__invalid__12hBo",addonRoot:"text-input-m__addonRoot__21n_v",addonFilled:"text-input-m__addonFilled__azpzz",hasLeading:"text-input-m__hasLeading__1vNgP",hasTrailing:"text-input-m__hasTrailing__1levI",noLabel:"text-input-m__noLabel__3dEz1",label:"text-input-m__label__2oAFG",helperText:"text-input-m__helperText__1hpcr",valid:"text-input-m__valid__1LmDm"}},64:function(e,t,a){}}]);
//# sourceMappingURL=VehicleCards.143e32c036e95573f0ea.bundle.js.map