/*!
 * 
 * [Dojo](https://dojo.io/)
 * Copyright [JS Foundation](https://js.foundation/) & contributors
 * [New BSD license](https://github.com/dojo/meta/blob/master/LICENSE)
 * All rights reserved
 * 
 */
(window.dojoWebpackJsonpmycarlog3=window.dojoWebpackJsonpmycarlog3||[]).push([["src/widgets/VehicleCards/VehicleCards"],{274:function(e,t,a){e.exports={" _key":"mycarlog3/VehicleCard",container:"VehicleCard-m__container__e9fe7914TaC",column:"VehicleCard-m__column__e9fe792ehei",row:"VehicleCard-m__row__e9fe793--cc",label:"VehicleCard-m__label__e9fe793NxFw",title:"VehicleCard-m__title__e9fe793uROH",image:"VehicleCard-m__image__e9fe7933nci"}},276:function(e,t,a){(function(a){var r,n,i,o,c,s,l,u,d,_,f,h,p,b,v,m,y,j,O,g;
/*! *****************************************************************************
Copyright (c) Microsoft Corporation. All rights reserved.
Licensed under the Apache License, Version 2.0 (the "License"); you may not use
this file except in compliance with the License. You may obtain a copy of the
License at http://www.apache.org/licenses/LICENSE-2.0

THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
MERCHANTABLITY OR NON-INFRINGEMENT.

See the Apache Version 2.0 License for specific language governing permissions
and limitations under the License.
***************************************************************************** */!function(w){var S="object"==typeof a?a:"object"==typeof self?self:"object"==typeof this?this:{};function k(e,t){return e!==S&&("function"==typeof Object.create?Object.defineProperty(e,"__esModule",{value:!0}):e.__esModule=!0),function(a,r){return e[a]=t?t(a,r):r}}void 0===(r=function(e){var t,a;t=k(S,k(e)),a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var a in t)t.hasOwnProperty(a)&&(e[a]=t[a])},n=function(e,t){function r(){this.constructor=e}a(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)},i=Object.assign||function(e){for(var t,a=1,r=arguments.length;a<r;a++)for(var n in t=arguments[a])Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e},o=function(e,t){var a={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(a[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols)for(var n=0,r=Object.getOwnPropertySymbols(e);n<r.length;n++)t.indexOf(r[n])<0&&(a[r[n]]=e[r[n]]);return a},c=function(e,t,a,r){var n,i=arguments.length,o=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,a):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,a,r);else for(var c=e.length-1;c>=0;c--)(n=e[c])&&(o=(i<3?n(o):i>3?n(t,a,o):n(t,a))||o);return i>3&&o&&Object.defineProperty(t,a,o),o},s=function(e,t){return function(a,r){t(a,r,e)}},l=function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},u=function(e,t,a,r){return new(a||(a=Promise))(function(n,i){function o(e){try{s(r.next(e))}catch(e){i(e)}}function c(e){try{s(r.throw(e))}catch(e){i(e)}}function s(e){e.done?n(e.value):new a(function(t){t(e.value)}).then(o,c)}s((r=r.apply(e,t||[])).next())})},d=function(e,t){var a,r,n,i,o={label:0,sent:function(){if(1&n[0])throw n[1];return n[1]},trys:[],ops:[]};return i={next:c(0),throw:c(1),return:c(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function c(i){return function(c){return function(i){if(a)throw new TypeError("Generator is already executing.");for(;o;)try{if(a=1,r&&(n=2&i[0]?r.return:i[0]?r.throw||((n=r.return)&&n.call(r),0):r.next)&&!(n=n.call(r,i[1])).done)return n;switch(r=0,n&&(i=[2&i[0],n.value]),i[0]){case 0:case 1:n=i;break;case 4:return o.label++,{value:i[1],done:!1};case 5:o.label++,r=i[1],i=[0];continue;case 7:i=o.ops.pop(),o.trys.pop();continue;default:if(!(n=(n=o.trys).length>0&&n[n.length-1])&&(6===i[0]||2===i[0])){o=0;continue}if(3===i[0]&&(!n||i[1]>n[0]&&i[1]<n[3])){o.label=i[1];break}if(6===i[0]&&o.label<n[1]){o.label=n[1],n=i;break}if(n&&o.label<n[2]){o.label=n[2],o.ops.push(i);break}n[2]&&o.ops.pop(),o.trys.pop();continue}i=t.call(e,o)}catch(e){i=[6,e],r=0}finally{a=n=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,c])}}},_=function(e,t){for(var a in e)t.hasOwnProperty(a)||(t[a]=e[a])},f=function(e){var t="function"==typeof Symbol&&e[Symbol.iterator],a=0;return t?t.call(e):{next:function(){return e&&a>=e.length&&(e=void 0),{value:e&&e[a++],done:!e}}}},h=function(e,t){var a="function"==typeof Symbol&&e[Symbol.iterator];if(!a)return e;var r,n,i=a.call(e),o=[];try{for(;(void 0===t||t-- >0)&&!(r=i.next()).done;)o.push(r.value)}catch(e){n={error:e}}finally{try{r&&!r.done&&(a=i.return)&&a.call(i)}finally{if(n)throw n.error}}return o},p=function(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(h(arguments[t]));return e},b=function(e){return this instanceof b?(this.v=e,this):new b(e)},v=function(e,t,a){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r,n=a.apply(e,t||[]),i=[];return r={},o("next"),o("throw"),o("return"),r[Symbol.asyncIterator]=function(){return this},r;function o(e){n[e]&&(r[e]=function(t){return new Promise(function(a,r){i.push([e,t,a,r])>1||c(e,t)})})}function c(e,t){try{(a=n[e](t)).value instanceof b?Promise.resolve(a.value.v).then(s,l):u(i[0][2],a)}catch(e){u(i[0][3],e)}var a}function s(e){c("next",e)}function l(e){c("throw",e)}function u(e,t){e(t),i.shift(),i.length&&c(i[0][0],i[0][1])}},m=function(e){var t,a;return t={},r("next"),r("throw",function(e){throw e}),r("return"),t[Symbol.iterator]=function(){return this},t;function r(r,n){t[r]=e[r]?function(t){return(a=!a)?{value:b(e[r](t)),done:"return"===r}:n?n(t):t}:n}},y=function(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t,a=e[Symbol.asyncIterator];return a?a.call(e):(e=f(e),t={},r("next"),r("throw"),r("return"),t[Symbol.asyncIterator]=function(){return this},t);function r(a){t[a]=e[a]&&function(t){return new Promise(function(r,n){t=e[a](t),function(e,t,a,r){Promise.resolve(r).then(function(t){e({value:t,done:a})},t)}(r,n,t.done,t.value)})}}},j=function(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e},O=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var a in e)Object.hasOwnProperty.call(e,a)&&(t[a]=e[a]);return t.default=e,t},g=function(e){return e&&e.__esModule?e:{default:e}},t("__extends",n),t("__assign",i),t("__rest",o),t("__decorate",c),t("__param",s),t("__metadata",l),t("__awaiter",u),t("__generator",d),t("__exportStar",_),t("__values",f),t("__read",h),t("__spread",p),t("__await",b),t("__asyncGenerator",v),t("__asyncDelegator",m),t("__asyncValues",y),t("__makeTemplateObject",j),t("__importStar",O),t("__importDefault",g)}.apply(t,[t]))||(e.exports=r)}()}).call(this,a(3))},277:function(e,t,a){a(278),e.exports={" _key":"@dojo/widgets/card",root:"card-m__root__A3YnD",actions:"card-m__actions__1s5LT",actionButtons:"card-m__actionButtons__2kXQ9",actionIcons:"card-m__actionIcons__1XRrV",primary:"card-m__primary__21gf8",content:"card-m__content__2pNIG",contentWrapper:"card-m__contentWrapper__3dgqE",header:"card-m__header__3YMQC",media:"card-m__media__3xCo8",mediaSquare:"card-m__mediaSquare__hvl_6",media16by9:"card-m__media16by9__3O5nL",titleWrapper:"card-m__titleWrapper__367rH",title:"card-m__title__qQawm",subtitle:"card-m__subtitle__75XFB"}},278:function(e,t,a){},280:function(e,t,a){a(281),e.exports={" _key":"@dojo/widgets/header-card",header:"header-card-m__header__OlFFy",headerContent:"header-card-m__headerContent__1V6Dw",avatar:"header-card-m__avatar__suhYT",title:"header-card-m__title__3sLCH",subtitle:"header-card-m__subtitle__1_ozq"}},281:function(e,t,a){},283:function(e,t,a){a(284),e.exports={" _key":"@dojo/widgets/avatar",root:"avatar-m__root__3K9z0",avatarColorSecondary:"avatar-m__avatarColorSecondary__1482_",avatarColor:"avatar-m__avatarColor__1r5W-",small:"avatar-m__small__2yQZb",medium:"avatar-m__medium__8xlzj",large:"avatar-m__large__2yM2d",circle:"avatar-m__circle__ElfyL",square:"avatar-m__square__37eQa",rounded:"avatar-m__rounded__RpRws"}},284:function(e,t,a){},293:function(e,t,a){"use strict";a.r(t);var r=a(20),n=a(23),i=a(39),o=a(38),c=a(35),s=a(274),l=a(276),u=a(29),d=a(277);var _=Object(r.a)({theme:u.a}).properties().children()(function({children:e,properties:t,middleware:{theme:a}}){const n=a.classes(d),{onAction:i,mediaSrc:o,mediaTitle:c,square:s,title:l,subtitle:u}=t(),{header:_,content:f,actionButtons:h,actionIcons:p}=e()[0]||{};return Object(r.h)("div",{key:"root",classes:[a.variant(),n.root]},_&&Object(r.h)("div",{key:"header",classes:n.header},_),Object(r.h)("div",{key:"content",classes:[n.content,i?n.primary:null],onClick:()=>i&&i()},o&&Object(r.h)("div",{title:c,classes:[n.media,s?n.mediaSquare:n.media16by9],styles:{backgroundImage:`url("${o}")`}}),l&&Object(r.h)("div",{classes:n.titleWrapper},Object(r.h)("h2",{classes:n.title},l),u&&Object(r.h)("h3",{classes:n.subtitle},u)),f&&Object(r.h)("div",{classes:n.contentWrapper},f)),(h||p)&&Object(r.h)("div",{key:"actions",classes:n.actions},h&&Object(r.h)("div",{classes:n.actionButtons},h),p&&Object(r.h)("div",{classes:n.actionIcons},p)))}),f=a(280);var h=Object(r.a)({theme:u.a}).properties().children()(function({middleware:{theme:e},properties:t,children:a}){const n=e.classes(f),i=t(),{title:o,subtitle:c}=i,s=l.__rest(i,["title","subtitle"]),[u]=a(),d=void 0===u?{}:u,{avatar:h}=d,p=l.__rest(d,["avatar"]);return Object(r.h)(_,Object.assign({key:"root"},s),Object.assign({header:Object(r.h)("div",{key:"header",classes:n.header},h&&Object(r.h)("div",{classes:n.avatar},h),Object(r.h)("div",{key:"headerContent",classes:n.headerContent},Object(r.h)("h2",{classes:n.title},o),c&&Object(r.h)("h3",{classes:n.subtitle},c)))},p))}),p=a(36),b=a(283);var v=Object(r.a)({theme:u.a}).properties()(function({middleware:{theme:e},properties:t,children:a}){const n=e.classes(b),{secondary:i,src:o,alt:c,variant:s="circle",size:l="medium"}=t();return Object(r.h)("div",{key:"root",role:o&&"image","aria-label":c,classes:[e.variant(),n.root,i?n.avatarColorSecondary:n.avatarColor,n[l],n[s]],styles:o?{backgroundImage:`url(${o})`}:{}},a())}),m=a(42),y=a(34);class j extends n.a{constructor(){super(...arguments),this.Data=this.properties}onAttach(){this.Data=this.properties,this.Data.idaccount=window.GlobalStore.get(window.GlobalStore.path("root","user","preferences","last_vehicle_selected","idvehicle")),this.invalidate()}render(){return Object(r.i)("div",{classes:s.container,onclick:()=>{const{path:e,apply:t}=window.GlobalStore;t([Object(y.a)(e("root","user","preferences","last_vehicle_selected","idvehicle"),this.Data.idvehicle)],!0),t([Object(y.a)(e("root","user","preferences","last_vehicle_selected","name"),this.Data.name||this.Data.license_plate+" - "+this.Data.vin)],!0),console.log("Se ha presionado",this.Data),window.location.href="/#home"}},[Object(r.j)(h,{title:this.properties.name||this.properties.license_plate,subtitle:this.properties.mark},[{avatar:Object(r.j)(v,{},[Object(r.i)("i",{classes:["far fa-car"]})]),content:[Object(r.j)(p.a,{initialValue:this.properties.lfname},[{label:"Propietario"}]),Object(r.j)(p.a,{initialValue:this.properties.model},[{label:"Modelo"}]),Object(r.j)(p.a,{initialValue:this.properties.year},[{label:"Año"}]),Object(r.j)(p.a,{initialValue:this.properties.vin},[{label:"VIN"}]),Object(r.j)(p.a,{initialValue:this.properties.fuel_tank_capacity},[{label:"Capacidad",trailing:Object(r.i)("Addon",{},[this.properties.unit_measure_fuel_tank])}]),Object(r.j)(p.a,{initialValue:this.properties.fuel_tank_capacity},[{label:"Capacidad",trailing:this.properties.unit_measure_fuel_tank}])]}])])}}c.a([Object(m.a)()],j.prototype,"Data",void 0);var O=a(30);a.d(t,"default",function(){return g});class g extends n.a{constructor(){super(...arguments),this.Vehicles=[]}async GetVehicles(e){const{path:t}=window.GlobalStore;let a=window.GlobalStore.get(t("root","user","idaccount"));try{const t=await fetch("/vehicles",{method:"POST",body:JSON.stringify({idaccount:a,Search:e}),headers:{"Content-Type":"application/json"}});if(200==t.status){this.Vehicles=[];let e=await t.json();console.log(e),Array.isArray(e)&&e.forEach((e,t)=>{console.log(e.license_plate),this.Vehicles.push(Object(r.j)(j,{idvehicle:e.idvehicle,name:e.name,color:e.color,lfname:e.lfname,fueltype:e.fueltype,license_plate:e.license_plate,vin:e.vin,year:e.year,fuel_tank_capacity:e.fuel_tank_capacity})),this.invalidate()}),this.invalidate()}}catch(e){console.log(e)}}render(){return Object(r.i)("div",{},[Object(r.j)(i.a,{}),Object(r.j)(o.a,{title:"Vehículos",ShowNew:!0,ShowSearch:!0,customActions:[Object(r.j)(O.a,{to:"vehicle",activeClasses:[]},[Object(r.i)("i",{classes:["fas fa-car"]})])],onSearch:e=>{console.log(e),this.GetVehicles(e).then(()=>{console.log("invalida al terminar de obtener los vehiculos"),this.invalidate()})},onNew:()=>{}}),Object(r.i)("div",{},this.Vehicles)])}}},30:function(e,t,a){"use strict";var r=a(20),n=a(25),i=a(21),o=a(1),c=function(e,t){var a={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(a[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var n=0;for(r=Object.getOwnPropertySymbols(e);n<r.length;n++)t.indexOf(r[n])<0&&(a[r[n]]=e[r[n]])}return a};var s=Object(r.a)({injector:n.a}).properties()(function({middleware:{injector:e},properties:t,children:a}){let n=t(),{routerKey:i="router",to:s,isOutlet:l=!0,target:u,params:d={},onClick:_}=n,f=c(n,["routerKey","to","isOutlet","target","params","onClick"]);const h=e.get(i);let p,b=s;if(h){l&&(b=h.link(b,d));const e=e=>{_&&_(e),e.defaultPrevented||0!==e.button||e.metaKey||e.ctrlKey||u||(Object(o.default)("build-serve"),e.preventDefault(),void 0!==b&&h.setPath(b))};p=Object.assign({},f,{onclick:e,href:b})}else p=Object.assign({},f,{href:b});return Object(r.i)("a",p,a())}),l=function(e,t){var a={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(a[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var n=0;for(r=Object.getOwnPropertySymbols(e);n<r.length;n++)t.indexOf(r[n])<0&&(a[r[n]]=e[r[n]])}return a};const u=Object(r.a)({injector:n.a,diffProperty:r.d,icache:i.b,invalidator:r.f}).properties()(function({middleware:{diffProperty:e,injector:t,icache:a,invalidator:n},properties:i,children:o}){const{to:c,routerKey:u="router",params:d}=i();let _=i(),{activeClasses:f,isExact:h,classes:p=[]}=_,b=l(_,["activeClasses","isExact","classes"]);e("to",(e,r)=>{if(e.to!==r.to){const e=t.get(u),r=a.get("handle");if(r&&r.destroy(),e){const t=e.on("route",({route:e})=>{e.id===c&&n()});a.set("handle",()=>t)}n()}});const v=t.get(u);if(v){if(!a.get("handle")){const e=v.on("route",({route:e})=>{e.id===c&&n()});a.set("handle",()=>e)}const e=v.getRoute(c),t=e&&function(e={},t={}){return Object.keys(e).every(a=>e[a]===t[a])}(d,Object.assign({},e.params,e.queryParams)),r=e&&e.isExact();p=Array.isArray(p)?p:[p],!t||h&&!r||(p=[...p,...f]),b=Object.assign({},b,{classes:p})}return Object(r.j)(s,b,o())});t.a=u},39:function(e,t,a){"use strict";var r=a(20),n=a(30),i=a(21),o=a(40);const c=Object(r.a)({icache:i.b});t.a=c(function({middleware:{icache:e}}){return Object(r.i)("nav",{classes:["navbar is-dark"],role:"navigation","aria-label":"main navigation"},[Object(r.i)("div",{classes:["navbar-brand"]},[Object(r.i)("a",{classes:["navbar-item"]},[Object(r.i)("span",{},["MY CAR LOG"])]),Object(r.i)("a",{classes:["navbar-item"]},[Object(r.i)("div",{classes:["tags has-addons"]},[Object(r.i)("span",{classes:["tag"]},["23400"]),Object(r.i)("span",{classes:["tag is-primary"]},["Km"])])]),Object(r.i)("a",{classes:["navbar-item"]},[Object(r.i)("div",{classes:["tags has-addons"]},[Object(r.i)("span",{classes:["tag"]},["3000"]),Object(r.i)("span",{classes:["tag is-danger"]},[Object(r.i)("i",{classes:["fas fa-bell"]})])])]),Object(r.i)("a",{role:"button",classes:["navbar-burger burger"],"aria-label":"menu","aria-expanded":"false","data-target":"navbarBasicExample",onclick:e=>{console.log(e);const t=e.target.dataset.target||"";var a=document.getElementById(t);e.target.classList.toggle("is-active"),a&&a.classList.toggle("is-active"),Object(r.f)()}},[Object(r.i)("span",{"aria-hidden":"true"}),Object(r.i)("span",{"aria-hidden":"true"}),Object(r.i)("span",{"aria-hidden":"true"})])]),Object(r.i)("div",{id:"navbarBasicExample",classes:["navbar-menu"]},[Object(r.i)("div",{classes:["navbar-end"]},[Object(r.i)("div",{classes:["navbar-item"]},[Object(r.j)(n.a,{to:"home",classes:[],activeClasses:[o.selected]},["Home"])]),Object(r.i)("div",{classes:["navbar-item"]},[Object(r.j)(n.a,{to:"contacts",classes:[],activeClasses:[o.selected]},["CONTACTOS"])]),Object(r.i)("div",{classes:["navbar-item"]},[Object(r.j)(n.a,{to:"vehicle_cards",classes:[],activeClasses:[o.selected]},["VEHICULOS"])]),Object(r.i)("div",{classes:["navbar-item"]},[Object(r.j)(n.a,{to:"fuelling",classes:[],activeClasses:[o.selected]},["ABASTECIMIENTO"])]),Object(r.i)("div",{classes:["navbar-item"]},[Object(r.j)(n.a,{to:"login",classes:[],activeClasses:[o.selected]},["SALIR"])])])])])})},40:function(e,t,a){e.exports={" _key":"mycarlog3/Menu",root:"Menu-m__root__e9fe791nTz0",link_container:"Menu-m__link_container__e9fe793filP",link:"Menu-m__link__e9fe793p33W",selected:"Menu-m__selected__e9fe791bGY7"}}}]);
//# sourceMappingURL=VehicleCards.748330bfaae5b4595631.bundle.js.map