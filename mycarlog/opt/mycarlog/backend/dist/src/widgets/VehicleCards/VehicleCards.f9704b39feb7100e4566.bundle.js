/*!
 * 
 * [Dojo](https://dojo.io/)
 * Copyright [JS Foundation](https://js.foundation/) & contributors
 * [New BSD license](https://github.com/dojo/meta/blob/master/LICENSE)
 * All rights reserved
 * 
 */
(window.dojoWebpackJsonpmycarlog3=window.dojoWebpackJsonpmycarlog3||[]).push([["src/widgets/VehicleCards/VehicleCards"],{278:function(e,t,a){e.exports={" _key":"mycarlog3/VehicleCard",container:"VehicleCard-m__container__e9fe7914TaC",column:"VehicleCard-m__column__e9fe792ehei",row:"VehicleCard-m__row__e9fe793--cc",label:"VehicleCard-m__label__e9fe793NxFw",title:"VehicleCard-m__title__e9fe793uROH",image:"VehicleCard-m__image__e9fe7933nci"}},280:function(e,t,a){(function(a){var r,n,i,o,l,c,s,u,d,_,p,h,f,m,v,b,y,j,O,w;
/*! *****************************************************************************
Copyright (c) Microsoft Corporation. All rights reserved.
Licensed under the Apache License, Version 2.0 (the "License"); you may not use
this file except in compliance with the License. You may obtain a copy of the
License at http://www.apache.org/licenses/LICENSE-2.0

THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
MERCHANTABLITY OR NON-INFRINGEMENT.

See the Apache Version 2.0 License for specific language governing permissions
and limitations under the License.
***************************************************************************** */!function(g){var x="object"==typeof a?a:"object"==typeof self?self:"object"==typeof this?this:{};function k(e,t){return e!==x&&("function"==typeof Object.create?Object.defineProperty(e,"__esModule",{value:!0}):e.__esModule=!0),function(a,r){return e[a]=t?t(a,r):r}}void 0===(r=function(e){var t,a;t=k(x,k(e)),a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var a in t)t.hasOwnProperty(a)&&(e[a]=t[a])},n=function(e,t){function r(){this.constructor=e}a(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)},i=Object.assign||function(e){for(var t,a=1,r=arguments.length;a<r;a++)for(var n in t=arguments[a])Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e},o=function(e,t){var a={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(a[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols)for(var n=0,r=Object.getOwnPropertySymbols(e);n<r.length;n++)t.indexOf(r[n])<0&&(a[r[n]]=e[r[n]]);return a},l=function(e,t,a,r){var n,i=arguments.length,o=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,a):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,a,r);else for(var l=e.length-1;l>=0;l--)(n=e[l])&&(o=(i<3?n(o):i>3?n(t,a,o):n(t,a))||o);return i>3&&o&&Object.defineProperty(t,a,o),o},c=function(e,t){return function(a,r){t(a,r,e)}},s=function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},u=function(e,t,a,r){return new(a||(a=Promise))(function(n,i){function o(e){try{c(r.next(e))}catch(e){i(e)}}function l(e){try{c(r.throw(e))}catch(e){i(e)}}function c(e){e.done?n(e.value):new a(function(t){t(e.value)}).then(o,l)}c((r=r.apply(e,t||[])).next())})},d=function(e,t){var a,r,n,i,o={label:0,sent:function(){if(1&n[0])throw n[1];return n[1]},trys:[],ops:[]};return i={next:l(0),throw:l(1),return:l(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function l(i){return function(l){return function(i){if(a)throw new TypeError("Generator is already executing.");for(;o;)try{if(a=1,r&&(n=2&i[0]?r.return:i[0]?r.throw||((n=r.return)&&n.call(r),0):r.next)&&!(n=n.call(r,i[1])).done)return n;switch(r=0,n&&(i=[2&i[0],n.value]),i[0]){case 0:case 1:n=i;break;case 4:return o.label++,{value:i[1],done:!1};case 5:o.label++,r=i[1],i=[0];continue;case 7:i=o.ops.pop(),o.trys.pop();continue;default:if(!(n=(n=o.trys).length>0&&n[n.length-1])&&(6===i[0]||2===i[0])){o=0;continue}if(3===i[0]&&(!n||i[1]>n[0]&&i[1]<n[3])){o.label=i[1];break}if(6===i[0]&&o.label<n[1]){o.label=n[1],n=i;break}if(n&&o.label<n[2]){o.label=n[2],o.ops.push(i);break}n[2]&&o.ops.pop(),o.trys.pop();continue}i=t.call(e,o)}catch(e){i=[6,e],r=0}finally{a=n=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,l])}}},_=function(e,t){for(var a in e)t.hasOwnProperty(a)||(t[a]=e[a])},p=function(e){var t="function"==typeof Symbol&&e[Symbol.iterator],a=0;return t?t.call(e):{next:function(){return e&&a>=e.length&&(e=void 0),{value:e&&e[a++],done:!e}}}},h=function(e,t){var a="function"==typeof Symbol&&e[Symbol.iterator];if(!a)return e;var r,n,i=a.call(e),o=[];try{for(;(void 0===t||t-- >0)&&!(r=i.next()).done;)o.push(r.value)}catch(e){n={error:e}}finally{try{r&&!r.done&&(a=i.return)&&a.call(i)}finally{if(n)throw n.error}}return o},f=function(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(h(arguments[t]));return e},m=function(e){return this instanceof m?(this.v=e,this):new m(e)},v=function(e,t,a){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r,n=a.apply(e,t||[]),i=[];return r={},o("next"),o("throw"),o("return"),r[Symbol.asyncIterator]=function(){return this},r;function o(e){n[e]&&(r[e]=function(t){return new Promise(function(a,r){i.push([e,t,a,r])>1||l(e,t)})})}function l(e,t){try{(a=n[e](t)).value instanceof m?Promise.resolve(a.value.v).then(c,s):u(i[0][2],a)}catch(e){u(i[0][3],e)}var a}function c(e){l("next",e)}function s(e){l("throw",e)}function u(e,t){e(t),i.shift(),i.length&&l(i[0][0],i[0][1])}},b=function(e){var t,a;return t={},r("next"),r("throw",function(e){throw e}),r("return"),t[Symbol.iterator]=function(){return this},t;function r(r,n){t[r]=e[r]?function(t){return(a=!a)?{value:m(e[r](t)),done:"return"===r}:n?n(t):t}:n}},y=function(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t,a=e[Symbol.asyncIterator];return a?a.call(e):(e=p(e),t={},r("next"),r("throw"),r("return"),t[Symbol.asyncIterator]=function(){return this},t);function r(a){t[a]=e[a]&&function(t){return new Promise(function(r,n){t=e[a](t),function(e,t,a,r){Promise.resolve(r).then(function(t){e({value:t,done:a})},t)}(r,n,t.done,t.value)})}}},j=function(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e},O=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var a in e)Object.hasOwnProperty.call(e,a)&&(t[a]=e[a]);return t.default=e,t},w=function(e){return e&&e.__esModule?e:{default:e}},t("__extends",n),t("__assign",i),t("__rest",o),t("__decorate",l),t("__param",c),t("__metadata",s),t("__awaiter",u),t("__generator",d),t("__exportStar",_),t("__values",p),t("__read",h),t("__spread",f),t("__await",m),t("__asyncGenerator",v),t("__asyncDelegator",b),t("__asyncValues",y),t("__makeTemplateObject",j),t("__importStar",O),t("__importDefault",w)}.apply(t,[t]))||(e.exports=r)}()}).call(this,a(3))},281:function(e,t,a){a(282),e.exports={" _key":"@dojo/widgets/card",root:"card-m__root__A3YnD",actions:"card-m__actions__1s5LT",actionButtons:"card-m__actionButtons__2kXQ9",actionIcons:"card-m__actionIcons__1XRrV",primary:"card-m__primary__21gf8",content:"card-m__content__2pNIG",contentWrapper:"card-m__contentWrapper__3dgqE",header:"card-m__header__3YMQC",media:"card-m__media__3xCo8",mediaSquare:"card-m__mediaSquare__hvl_6",media16by9:"card-m__media16by9__3O5nL",titleWrapper:"card-m__titleWrapper__367rH",title:"card-m__title__qQawm",subtitle:"card-m__subtitle__75XFB"}},282:function(e,t,a){},284:function(e,t,a){a(285),e.exports={" _key":"@dojo/widgets/header-card",header:"header-card-m__header__OlFFy",headerContent:"header-card-m__headerContent__1V6Dw",avatar:"header-card-m__avatar__suhYT",title:"header-card-m__title__3sLCH",subtitle:"header-card-m__subtitle__1_ozq"}},285:function(e,t,a){},287:function(e,t,a){a(288),e.exports={" _key":"@dojo/widgets/avatar",root:"avatar-m__root__3K9z0",avatarColorSecondary:"avatar-m__avatarColorSecondary__1482_",avatarColor:"avatar-m__avatarColor__1r5W-",small:"avatar-m__small__2yQZb",medium:"avatar-m__medium__8xlzj",large:"avatar-m__large__2yM2d",circle:"avatar-m__circle__ElfyL",square:"avatar-m__square__37eQa",rounded:"avatar-m__rounded__RpRws"}},288:function(e,t,a){},297:function(e,t,a){"use strict";a.r(t);var r=a(20),n=a(21),i=a(45),o=a(44),l=a(35),c=a(278),s=a(280),u=a(28),d=a(281);var _=Object(r.a)({theme:u.a}).properties().children()(function({children:e,properties:t,middleware:{theme:a}}){const n=a.classes(d),{onAction:i,mediaSrc:o,mediaTitle:l,square:c,title:s,subtitle:u}=t(),{header:_,content:p,actionButtons:h,actionIcons:f}=e()[0]||{};return Object(r.h)("div",{key:"root",classes:[a.variant(),n.root]},_&&Object(r.h)("div",{key:"header",classes:n.header},_),Object(r.h)("div",{key:"content",classes:[n.content,i?n.primary:null],onClick:()=>i&&i()},o&&Object(r.h)("div",{title:l,classes:[n.media,c?n.mediaSquare:n.media16by9],styles:{backgroundImage:`url("${o}")`}}),s&&Object(r.h)("div",{classes:n.titleWrapper},Object(r.h)("h2",{classes:n.title},s),u&&Object(r.h)("h3",{classes:n.subtitle},u)),p&&Object(r.h)("div",{classes:n.contentWrapper},p)),(h||f)&&Object(r.h)("div",{key:"actions",classes:n.actions},h&&Object(r.h)("div",{classes:n.actionButtons},h),f&&Object(r.h)("div",{classes:n.actionIcons},f)))}),p=a(284);var h=Object(r.a)({theme:u.a}).properties().children()(function({middleware:{theme:e},properties:t,children:a}){const n=e.classes(p),i=t(),{title:o,subtitle:l}=i,c=s.__rest(i,["title","subtitle"]),[u]=a(),d=void 0===u?{}:u,{avatar:h}=d,f=s.__rest(d,["avatar"]);return Object(r.h)(_,Object.assign({key:"root"},c),Object.assign({header:Object(r.h)("div",{key:"header",classes:n.header},h&&Object(r.h)("div",{classes:n.avatar},h),Object(r.h)("div",{key:"headerContent",classes:n.headerContent},Object(r.h)("h2",{classes:n.title},o),l&&Object(r.h)("h3",{classes:n.subtitle},l)))},f))}),f=a(36),m=a(287);var v=Object(r.a)({theme:u.a}).properties()(function({middleware:{theme:e},properties:t,children:a}){const n=e.classes(m),{secondary:i,src:o,alt:l,variant:c="circle",size:s="medium"}=t();return Object(r.h)("div",{key:"root",role:o&&"image","aria-label":l,classes:[e.variant(),n.root,i?n.avatarColorSecondary:n.avatarColor,n[s],n[c]],styles:o?{backgroundImage:`url(${o})`}:{}},a())}),b=a(47),y=a(34);class j extends n.a{constructor(){super(...arguments),this.Data=this.properties}onAttach(){this.Data=this.properties,this.Data.idaccount=window.GlobalStore.get(window.GlobalStore.path("root","user","preferences","last_vehicle_selected","idvehicle")),this.invalidate()}render(){return Object(r.i)("div",{classes:c.container,onclick:()=>{const{path:e,apply:t}=window.GlobalStore;t([Object(y.a)(e("root","user","preferences","last_vehicle_selected","idvehicle"),this.Data.idvehicle)],!0),t([Object(y.a)(e("root","user","preferences","last_vehicle_selected","name"),this.Data.name||this.Data.license_plate+" - "+this.Data.vin)],!0),console.log("Se ha presionado",this.Data),window.location.href="/#home"}},[Object(r.j)(h,{title:this.properties.name||this.properties.license_plate,subtitle:this.properties.mark},[{avatar:Object(r.j)(v,{},[Object(r.i)("i",{classes:["far fa-car"]})]),content:[Object(r.j)(f.a,{initialValue:this.properties.lfname},[{label:"Propietario"}]),Object(r.j)(f.a,{initialValue:this.properties.model},[{label:"Modelo"}]),Object(r.j)(f.a,{initialValue:this.properties.year},[{label:"Año"}]),Object(r.j)(f.a,{initialValue:this.properties.vin},[{label:"VIN"}]),Object(r.j)(f.a,{initialValue:this.properties.fuel_tank_capacity},[{label:"Capacidad",trailing:Object(r.i)("Addon",{},[this.properties.unit_measure_fuel_tank])}]),Object(r.j)(f.a,{initialValue:this.properties.fuel_tank_capacity},[{label:"Capacidad",trailing:this.properties.unit_measure_fuel_tank}])]}])])}}l.a([Object(b.a)()],j.prototype,"Data",void 0);var O=a(46);a.d(t,"default",function(){return w});class w extends n.a{constructor(){super(...arguments),this.Vehicles=[]}async GetVehicles(e){const{path:t}=window.GlobalStore;let a=window.GlobalStore.get(t("root","user","idaccount"));try{const t=await fetch("/vehicles",{method:"POST",body:JSON.stringify({idaccount:a,Search:e}),headers:{"Content-Type":"application/json"}});if(200==t.status){this.Vehicles=[];let e=await t.json();console.log(e),Array.isArray(e)&&e.forEach((e,t)=>{console.log(e.license_plate),this.Vehicles.push(Object(r.j)(j,{idvehicle:e.idvehicle,name:e.name,color:e.color,lfname:e.lfname,fueltype:e.fueltype,license_plate:e.license_plate,vin:e.vin,year:e.year,fuel_tank_capacity:e.fuel_tank_capacity})),this.invalidate()}),this.invalidate()}}catch(e){console.log(e)}}render(){return Object(r.i)("div",{},[Object(r.j)(i.a,{}),Object(r.j)(o.a,{title:"Vehículos",ShowNew:!0,ShowSearch:!0,customActions:[Object(r.j)(O.a,{to:"vehicle",activeClasses:[]},[Object(r.i)("i",{classes:["fas fa-car"]})])],onSearch:e=>{console.log(e),this.GetVehicles(e).then(()=>{console.log("invalida al terminar de obtener los vehiculos"),this.invalidate()})},onNew:()=>{}}),Object(r.i)("div",{},this.Vehicles)])}}},36:function(e,t,a){"use strict";var r=a(37),n=a(22),i=a(25),o=a(38),l=a(20),c=a(30),s=a(39),u=a(40),d=a(41);function _(e){return"boolean"==typeof e?e?"on":"off":e}const p=Object(l.a)({theme:i.a,icache:Object(n.a)(),validity:o.a,focus:r.a,diffProperty:l.d,invalidator:l.f}).properties().children()(function({middleware:{icache:e,theme:t,validity:a,focus:r,diffProperty:n,invalidator:i},properties:o,children:p,id:h}){n("pattern",(e,t)=>{(t.pattern instanceof RegExp?t.pattern.source:t.pattern)!==e.pattern&&i()});const f=t.classes(d),m=e.getOrSet("dirty",!1),{aria:v={},autocomplete:b,classes:y,customValidator:j,disabled:O,helperText:w,labelHidden:g=!1,max:x,maxLength:k,min:S,minLength:V,name:C,onBlur:P,onClick:I,onFocus:D,onKeyDown:T,onKeyUp:W,onOut:q,onOver:F,onValidate:L,onValue:R,pattern:A,placeholder:E,readOnly:G,required:N,step:z,theme:B,type:M="text",initialValue:Q,valid:$={valid:void 0,message:""},widgetId:H=`text-input-${h}`}=o();let{value:X}=o();const[{label:J,leading:K,trailing:U}={}]=p();if(void 0===X){X=e.get("value"),Q!==e.get("initialValue")&&(e.set("value",Q),e.set("initialValue",Q),X=Q)}const Y=A instanceof RegExp?A.source:A;function Z(e,t){let a,{valid:r}=o();"object"==typeof r&&(a=r.message,r=r.valid),e===r&&t===a||L&&L(e,t)}if(L)if(""!==X||m){e.set("dirty",!0);let{valid:t,message:r=""}=a.get("input",X||"");if(t&&j){const e=j(X||"");e&&(t=e.valid,r=e.message||"")}Z(t,r)}else Z(void 0,"");const{valid:ee,message:te}="boolean"==typeof $?{valid:$,message:""}:$,ae=!1===ee&&te||w,re=r.isFocused("input");return Object(l.h)("div",{key:"root",classes:[t.variant(),f.root],role:"presentation"},Object(l.h)("div",{key:"wrapper",classes:[f.wrapper,O?f.disabled:null,re?f.focused:null,!1===ee?f.invalid:null,!0===ee?f.valid:null,G?f.readonly:null,N?f.required:null,K?f.hasLeading:null,U?f.hasTrailing:null,!J||g?f.noLabel:null],role:"presentation"},J&&Object(l.h)(u.a,{theme:B,disabled:O,valid:ee,focused:re,readOnly:G,required:N,hidden:g,forId:H,active:!!X||re},J),Object(l.h)("div",{key:"inputWrapper",classes:[f.inputWrapper,re?f.inputWrapperFocused:void 0],role:"presentation"},K,Object(l.h)("input",Object.assign({},Object(c.a)(v),{"aria-invalid":!1===ee?"true":null,autocomplete:_(b),classes:f.input,disabled:O,id:H,focus:r.shouldFocus,key:"input",max:x,maxlength:k?`${k}`:null,min:S,minlength:V?`${V}`:null,name:C,pattern:Y,placeholder:E,readOnly:G,"aria-readonly":G?"true":null,required:N,step:z,type:M,value:X,onblur:()=>{P&&P()},onfocus:()=>{D&&D()},oninput:t=>{t.stopPropagation();const a=t.target.value;e.set("value",a),R&&R(a)},onkeydown:e=>{e.stopPropagation(),T&&T(e.which,()=>e.preventDefault())},onkeyup:e=>{e.stopPropagation(),W&&W(e.which,()=>e.preventDefault())},onclick:()=>{I&&I()},onpointerenter:()=>{F&&F()},onpointerleave:()=>{q&&q()}})),U)),Object(l.h)(s.a,{text:ae,valid:ee,classes:y,theme:B}))});Object(l.a)({theme:i.a}).properties().children()(function({middleware:{theme:e},properties:t,children:a}){const r=e.classes(d),{filled:n}=t();return Object(l.h)("span",{classes:[r.addonRoot,n?r.addonFilled:null]},a())});t.a=p},41:function(e,t,a){a(42),e.exports={" _key":"@dojo/widgets/text-input",input:"text-input-m__input__3AObE",root:"text-input-m__root__1eiQw",wrapper:"text-input-m__wrapper__3sXSt",inputWrapper:"text-input-m__inputWrapper__3Usth",inputWrapperFocused:"text-input-m__inputWrapperFocused__OjF-_",disabled:"text-input-m__disabled__1U733",focused:"text-input-m__focused__1nmLV",readonly:"text-input-m__readonly__INN_p",required:"text-input-m__required__2pLE4",invalid:"text-input-m__invalid__12hBo",addonRoot:"text-input-m__addonRoot__21n_v",addonFilled:"text-input-m__addonFilled__azpzz",hasLeading:"text-input-m__hasLeading__1vNgP",hasTrailing:"text-input-m__hasTrailing__1levI",noLabel:"text-input-m__noLabel__3dEz1",label:"text-input-m__label__2oAFG",helperText:"text-input-m__helperText__1hpcr",valid:"text-input-m__valid__1LmDm"}},42:function(e,t,a){}}]);
//# sourceMappingURL=VehicleCards.f9704b39feb7100e4566.bundle.js.map