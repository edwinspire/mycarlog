{"version":3,"sources":["webpack://utomotive_og/./src/widgets/register/Register.m.css","webpack://utomotive_og/./src/widgets/register/Register.ts"],"names":["module","exports"," _key","btn","active","disabled","btn_large","btn_primary","btn_block","container","container_html","root","login","input","register","anchor","Vehicle","_dojo_framework_core_WidgetBase__WEBPACK_IMPORTED_MODULE_2__","[object Object]","this","_openSnack","_MsgSnackBar","_typeSnackBar","msg","type","console","log","invalidate","setTimeout","Object","_dojo_framework_core_vdom__WEBPACK_IMPORTED_MODULE_1__","classes","_Register_m_css__WEBPACK_IMPORTED_MODULE_3__","action","method","onsubmit","e","target","inputs","getElementsByTagName","i","DataLogin","pwd","pwd2","length","defineProperty","name","value","enumerable","resp","fetch","body","JSON","stringify","headers","Content-Type","data","json","status","Register","SnackBar","window","location","href","Message","preventDefault","placeholder","required","_dojo_widgets_snackbar__WEBPACK_IMPORTED_MODULE_4__","open","leading","messageRenderer","tslib__WEBPACK_IMPORTED_MODULE_0__","_dojo_framework_core_decorators_watch__WEBPACK_IMPORTED_MODULE_5__"],"mappings":"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","file":"6.ca7a335baa51012411f6.bundle.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\" _key\":\"AutomotiveLog/Register\",\"btn\":\"Register-m__btn__fef7553A0lO\",\"active\":\"Register-m__active__fef755LCCjU\",\"disabled\":\"Register-m__disabled__fef7551qye4\",\"btn_large\":\"Register-m__btn_large__fef75538cCT\",\"btn_primary\":\"Register-m__btn_primary__fef755gqhsy\",\"btn_block\":\"Register-m__btn_block__fef7552mgbe\",\"container\":\"Register-m__container__fef755JoasP\",\"container_html\":\"Register-m__container_html__fef755w7uTU\",\"root\":\"Register-m__root__fef755G_7Wm\",\"login\":\"Register-m__login__fef7551Pf17\",\"input\":\"Register-m__input__fef7551GdYa\",\"register\":\"Register-m__register__fef755MMy_x\",\"anchor\":\"Register-m__anchor__fef7551PeFF\"};","import { v, w } from '@dojo/framework/core/vdom';\nimport WidgetBase from '@dojo/framework/core/WidgetBase';\nimport * as css from './Register.m.css';\nimport SBar from '@dojo/widgets/snackbar';\nimport watch from '@dojo/framework/core/decorators/watch';\n\nexport default class Vehicle extends WidgetBase  {\n\n\t@watch()\tprivate _openSnack = false;\n\t@watch()\tprivate _MsgSnackBar = '-';\n\t@watch()\tprivate _typeSnackBar: \"error\" | \"success\" | undefined = 'error';\n\t\n\tprivate SnackBar(msg: string, type: \"error\" | \"success\" | undefined){\n\t\tconsole.log('SnackBar '+msg)\n\t\tthis._openSnack = true;\n\t\tthis._MsgSnackBar = msg;\n\t\tthis._typeSnackBar = type;\n\t\tthis.invalidate();\n\t\tsetTimeout(()=>{\n\t\t\tthis._openSnack = false;\n\t\t\tthis.invalidate();\n\t\t}, 5000)\t\t\n\t}\n\n\tprotected render(){\n\t\treturn v('div', {classes: [css.root]}, [\n\t\t\tv('div', { classes: [css.login, css.container, css.container_html]}, [\n\t\t\t\tv('h1', {}, ['Registro']),\n\t\t\t\tv('form', {action: \"/register\", method: \"post\",  onsubmit: (e: Event)=>{\t\n\t\t\t\t\tif(e.target){\n\t\t\t\t\t\tlet d = e.target as HTMLFormElement;\n\t\t\t\t\t\tlet inputs = d.getElementsByTagName(\"input\");\n\t\t\t\t\t\tlet i = 0;\n\t\t\t\t\t\tvar DataLogin = {};\n\t\t\t\t\t\tlet pwd = '';\n\t\t\t\t\t\tlet pwd2 = '';\n\n\t\t\t\t\t\tfor (i=0; i<inputs.length; i++){\n\t\t\t\t\t\t\tObject.defineProperty(DataLogin, inputs[i].name, {value : inputs[i].value, enumerable: true});\n\n\t\t\t\t\t\t\tif(inputs[i].name == 'pwd'){\n\t\t\t\t\t\t\t\tpwd = inputs[i].value;\n\t\t\t\t\t\t\t}\n\n\n\t\t\t\t\t\t\tif(inputs[i].name == 'pwd2'){\n\t\t\t\t\t\t\t\tpwd2 = inputs[i].value;\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\tif(i+1 == inputs.length){\n\n\t\t\t\t\t\t\t\tif(pwd == pwd2){\n\t\t\t\t\t\t\t\t\t(\n\t\t\t\t\t\t\t\t\t\tasync ()=>{\n\t\t\t\t\t\t\t\t\t\t\tlet resp = await fetch(\"/register\",{method: 'POST', body: JSON.stringify(DataLogin), headers: {'Content-Type': 'application/json'}});\n\t\t\t\t\t\t\t\t\t\t\tlet data = await resp.json();\n\t\t\t\t\t\t\t\t\t\t\tif(resp.status == 200){\n\n\t\t\t\t\t\t\t\t\t\t\t\tconsole.log(data);\n\t\t\t\t\t\t\t\t\t\t\t\t\tif(data.Register){\n\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tthis.SnackBar('Cuenta creada... no olvide sus datos. Redireccionando a Login', 'success');\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tsetTimeout(()=>{\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\twindow.location.href = \"/#login\";\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t}, 5000);\n\n\t\t\t\t\t\t\t\t\t\t\t\t\t}else{\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tthis.SnackBar(data.Message, 'error');\n\t\t\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\t\t\n\n\t\t\t\t\t\t\t\t\t\t\t}else{\n\t\t\t\t\t\t\t\t\t\t\t\tconsole.log('No se pudo registrar', data);\n\t\t\t\t\t\t\t\t\t\t\t\t//alert('No se pudo registrar');\n\t\t\t\t\t\t\t\t\t\t\t\tthis.SnackBar('no se pudo guardar', 'error');\n\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t)();\n\n\t\t\t\t\t\t\t\t\t}else{\n\t\t\t\t\t\t\t\t\t\tthis.SnackBar('Las contraseñas no coinciden', 'error');\n\t\t\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\te.preventDefault();\n\t\t\t\t\t}}, [\n//\t\t\t\t\tv('input', {classes: [css.input], name: 'account',  type: 'text', placeholder: 'Nombre de Cuenta', required: 'required'}),\n\t\t\t\t\tv('input', {classes: [css.input], name: 'firstname',  type: 'text', placeholder: 'Nombre', required: 'required'}),\n\t\t\t\t\tv('input', {classes: [css.input], name: 'lastname',  type: 'text', placeholder: 'Apellido', required: 'required'}),\n\t\t\t\t\tv('input', {classes: [css.input], name: 'email', type: 'email', placeholder: 'Email', required: 'required'}),\n\t\t\t\t\tv('input', {classes: [css.input],  name: 'username', type: 'text', placeholder: 'Usuario', required: 'required'}),\n\t\t\t\t\tv('input', {classes: [css.input], name: 'pwd', type: 'password', placeholder: 'Contraseña', required: 'required'}),\n\t\t\t\t\tv('input', {classes: [css.input], name: 'pwd2', type: 'password', placeholder: 'Confirme Contraseña', required: 'required'}),\n\t\t\t\t\tv('input', {name: 'register', classes: [css.btn, css.btn_primary, css.btn_block, css.btn_large], type: 'submit', value: 'Aceptar'})\n\t\t\t\t\t]),\n\t\t\t\tv('div', {classes: css.register}, [\n\t\t\t\t\tv('a', {classes: [css.anchor],  href: \"/#login\"}, ['Login'])])\n\t\t\t\t]),\n\t\t\tw(SBar, {open: this._openSnack, leading: false, type: this._typeSnackBar, messageRenderer: () => this._MsgSnackBar})\n\t\t\t])\n\t}\n}"],"sourceRoot":""}