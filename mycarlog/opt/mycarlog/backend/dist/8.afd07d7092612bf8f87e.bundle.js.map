{"version":3,"sources":["webpack://pen_onitoring_ystem/./src/widgets/VehicleCard/VehicleCard.m.css","webpack://pen_onitoring_ystem/./src/widgets/VehicleCard/VehicleCard.ts","webpack://pen_onitoring_ystem/./src/widgets/VehicleCards/VehicleCards.ts"],"names":["module","exports"," _key","container","column","row","label","title","image","VehicleCard_VehicleCard","WidgetBase","[object Object]","this","Color","properties","license_plate","Object","vdom","classes","VehicleCard_m","onclick","e","console","log","invalidate","__webpack_require__","d","__webpack_exports__","VehicleCards_SelectVehicle","Vehicles","TextSearch","res","fetch","method","body","JSON","stringify","idaccount","localStorage","getItem","Search","headers","Content-Type","status","data","json","Array","isArray","forEach","element","index","push","name","color","lfname","fueltype","vin","year","fuel_tank_capacity","Menu","text_input","value","onChange","v","GetVehicles","then"],"mappings":";;;;;;;;2HACAA,EAAAC,QAAA,CAAkBC,QAAA,mCAAAC,UAAA,wCAAAC,OAAA,qCAAAC,IAAA,kCAAAC,MAAA,oCAAAC,MAAA,oCAAAC,MAAA,2HCwBH,MAAMC,UAAoBC,EAAA,EAAzCC,kCACUC,KAAAC,MAAgBD,KAAKE,WAAWC,cAE9BJ,SACR,OAAOK,OAAAC,EAAA,EAAAD,CAAE,MAAO,CAAEE,QAASC,EAAA,WAAiB,CAC1CH,OAAAC,EAAA,EAAAD,CAAE,MAAO,CAAEE,QAAS,CAACC,EAAA,SAAe,CAClCH,OAAAC,EAAA,EAAAD,CAAE,MAAO,CAACI,QAASC,IACjBC,QAAQC,IAAIF,GACZT,KAAKC,MAAQ,SACbD,KAAKY,eACH,CAAC,OAAQZ,KAAKC,aCnC1BY,EAAAC,EAAAC,EAAA,4BAAAC,IAQe,MAAMA,UAAsBlB,EAAA,EAA3CC,kCACUC,KAAAiB,SAAW,GAEXjB,KAAAkB,WAAqB,GAE7BnB,oBACE,MAAMoB,QAAYC,MAAM,YAAa,CACnCC,OAAQ,OACRC,KAAMC,KAAKC,UAAU,CACnBC,UAAWC,aAAaC,QAAQ,aAChCC,OAAQ5B,KAAKkB,aAEfW,QAAS,CACPC,eAAgB,sBAIpB,GAAkB,KAAdX,EAAIY,OAAe,CACrB/B,KAAKiB,SAAW,GAChB,IAAIe,QAAab,EAAIc,OAErBvB,QAAQC,IAAIqB,GACRE,MAAMC,QAAQH,IAChBA,EAAKI,QAAQ,CAACC,EAAcC,KAC1B5B,QAAQC,IAAI0B,EAAQlC,eACpBH,KAAKiB,SAASsB,KACZnC,OAAAC,EAAA,EAAAD,CAAEP,EAAa,CAAC2C,KAAMH,EAAQG,KAAOC,MAAOJ,EAAQI,MAAOC,OAAQL,EAAQK,OAAQC,SAAUN,EAAQM,SAAUxC,cAAekC,EAAQlC,cAAeyC,IAAKP,EAAQO,IAAKC,KAAMR,EAAQQ,KAAMC,mBAAoBT,EAAQS,sBAGzN9C,KAAKY,eAITZ,KAAKY,cAICb,SACR,OAAOK,OAAAC,EAAA,EAAAD,CAAE,MAAO,GAAI,CAClBA,OAAAC,EAAA,EAAAD,CAAE2C,EAAA,EAAM,IACR3C,OAAAC,EAAA,EAAAD,CACE4C,EAAA,EACA,CACEtD,MAAO,SACPuD,MAAOjD,KAAKkB,WACZgC,SAAWC,IACTzC,QAAQC,IAAIY,KAAKC,UAAU2B,IAC3BnD,KAAKkB,WAAaiC,EAClBnD,KAAKiB,SAASsB,KAAK,gBACnBvC,KAAKY,aACLZ,KAAKoD,cAAcC,KAAK,KACtB3C,QAAQC,IAAI,iDACZX,KAAKY,iBAIX,IAEFR,OAAAC,EAAA,EAAAD,CAAE,MAAO,GAAIJ,KAAKiB","file":"8.afd07d7092612bf8f87e.bundle.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\" _key\":\"OpenMonitoringSystem/VehicleCard\",\"container\":\"VehicleCard-m__container__309e8d3ggyL\",\"column\":\"VehicleCard-m__column__309e8d2hzND\",\"row\":\"VehicleCard-m__row__309e8d1cZVt\",\"label\":\"VehicleCard-m__label__309e8d3hpgA\",\"title\":\"VehicleCard-m__title__309e8d1zTDQ\",\"image\":\"VehicleCard-m__image__309e8d1mXtV\"};","import { v} from \"@dojo/framework/core/vdom\";\nimport WidgetBase from \"@dojo/framework/core/WidgetBase\";\nimport * as css from \"./VehicleCard.m.css\";\n//import Card from \"@dojo/widgets/card\";\n//import Icon from \".././Icon/Icon\";\n\nexport interface VehicleCardProperties {\n  idvehicle?: string;\n  idaccount?: string;\n  account?: string;\n  idcontact?: string;\n  license_plate: string;\n  year: string;\n  fuel_tank_capacity: string;\n  vin: string;\n  name: string;\n  idvehicletype?: string;\n  mark?: string;\n  model?: string;\n  color: string;\n  fueltype: string;\n  unit_measure_fuel_tank?: string;\n  lfname: string;\n}\n\nexport default class VehicleCard extends WidgetBase<VehicleCardProperties> {\n  private Color: string = this.properties.license_plate;\n\n  protected render() {\n    return v(\"div\", { classes: css.container }, [\n      v(\"div\", { classes: [css.column] }, [\n        v(\"div\", {onclick:(e)=>{\n          console.log(e);\n          this.Color = \"prueba\";\n          this.invalidate();\n        }}, ['Nada', this.Color\n          // w(Card, {}, [\n          //   w(Icon, {\n          //     key: 'sss',\n          //     label:\n          //       this.properties.name ||\n          //       this.properties.license_plate + \" - \" + this.properties.vin,\n          //     classes: [\"fa-car-side\", \"far\", css.title],\n          //     ShowLabel: true,\n          //     onClick: () => {\n          //       //window.location.href = \"/#contacts\";\n          //       //this.Selected = \"fa-star\";\n          //       console.log(\"Se ha presionado\");\n          //       this.invalidate();\n          //     },\n          //   }),\n          //   v(\"div\", {}, [\n          //     // v(\"div\", {}, [this.properties.license_plate]),\n          //     v(\"img\", { classes: [css.image] }, []),\n          //     v(\"div\", {}, [\n          //       v(\"div\", {}, [\n          //         v(\"div\", {}, [\n          //           v(\"span\", { classes: [css.label] }, [\"VIN: \"]),\n          //           v(\"span\", {}, [this.properties.vin]),\n          //         ]),\n          //         v(\"div\", {}, [\n          //           v(\"span\", { classes: [css.label] }, [\"AÃ±o: \"]),\n          //           v(\"span\", {}, [this.properties.year]),\n          //         ]),\n          //         v(\"div\", {}, [\n          //           v(\"span\", { classes: [css.label] }, [\"Propietario: \"]),\n          //           v(\"span\", {}, [this.properties.lfname]),\n          //         ]),\n          //         v(\"div\", {}, [\n          //           v(\"span\", { classes: [css.label] }, [\"Tipo combustible: \"]),\n          //           v(\"span\", {}, [this.properties.fueltype]),\n          //         ]),\n          //         v(\"div\", {}, [\n          //           v(\"span\", {}, [\"Color: \"]),\n          //           v(\"span\", {}, [this.Color]),\n          //         ]),\n          //       ]),\n          //     ]),\n          //     v(\"div\", {onclick:()=>{\n          //       this.Color = \"Verde\";\n          //       console.log('Invalida');\n          //       this.invalidate();\n          //     }}, [\"Piecito\"]),\n          //   ]),\n          // ]),\n        ]),\n      ]),\n    ]);\n  }\n}\n","import { v, w } from \"@dojo/framework/core/vdom\";\nimport WidgetBase from \"@dojo/framework/core/WidgetBase\";\nimport TextInput from \"@dojo/widgets/text-input\";\n//import watch from \"@dojo/framework/core/decorators/watch\";\nimport Menu from \".././Menu\";\nimport CardVehicle from \".././VehicleCard/VehicleCard\";\n\n\nexport default class SelectVehicle extends WidgetBase {\n  private Vehicles = [] as any[];\n\n  private TextSearch: string = \"\";\n\n  async GetVehicles() {\n    const res = await fetch(\"/vehicles\", {\n      method: \"POST\",\n      body: JSON.stringify({\n        idaccount: localStorage.getItem(\"idaccount\"),\n        Search: this.TextSearch,\n      }),\n      headers: {\n        \"Content-Type\": \"application/json\",\n      },\n    });\n\n    if (res.status == 200) {\n      this.Vehicles = [];\n      let data = await res.json();\n      //\t\tthis._fetcher = createFetcher(data);\n      console.log(data);\n      if (Array.isArray(data)) {\n        data.forEach((element: any, index) => {\n          console.log(element.license_plate);\n          this.Vehicles.push(\n            w(CardVehicle, {name: element.name,  color: element.color, lfname: element.lfname, fueltype: element.fueltype, license_plate: element.license_plate, vin: element.vin, year: element.year, fuel_tank_capacity: element.fuel_tank_capacity})\n          );\n          //  this.Vehicles.push(v(\"div\", {}, ['Hola' + index]));\n          this.invalidate();\n        });\n      }\n\n      this.invalidate();\n    }\n  }\n\n  protected render() {\n    return v(\"div\", {}, [\n      w(Menu, {}),\n      w(\n        TextInput,\n        {\n          label: \"Buscar\",\n          value: this.TextSearch,\n          onChange: (v) => {\n            console.log(JSON.stringify(v));\n            this.TextSearch = v as string;\n            this.Vehicles.push(\"Pude cambiar\");\n            this.invalidate();\n            this.GetVehicles().then(() => {\n              console.log(\"invalida al terminar de obtener los vehiculos\");\n              this.invalidate();\n            });\n          },\n        },\n        []\n      ),\n      v(\"div\", {}, this.Vehicles),\n    ]);\n  }\n}\n"],"sourceRoot":""}