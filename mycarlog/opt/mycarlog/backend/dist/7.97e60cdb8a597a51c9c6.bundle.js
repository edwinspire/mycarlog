/*!
 * 
 * [Dojo](https://dojo.io/)
 * Copyright [JS Foundation](https://js.foundation/) & contributors
 * [New BSD license](https://github.com/dojo/meta/blob/master/LICENSE)
 * All rights reserved
 * 
 */
(window.dojoWebpackJsonppen_onitoring_ystem=window.dojoWebpackJsonppen_onitoring_ystem||[]).push([[7],{322:function(e,t,i){e.exports={" _key":"OpenMonitoringSystem/VehicleCard",container:"VehicleCard-m__container__309e8d3ggyL",column:"VehicleCard-m__column__309e8d2hzND",row:"VehicleCard-m__row__309e8d1cZVt"}},324:function(e,t,i){i(325),e.exports={" _key":"@dojo/widgets/card",root:"card-m__root__1zMtM",actions:"card-m__actions__1Z_Hb",actionButtons:"card-m__actionButtons__2SSbU",actionIcons:"card-m__actionIcons__3aObP",primaryAction:"card-m__primaryAction__1zj-J",media:"card-m__media__2jfnD",mediaContent:"card-m__mediaContent__2DMyX",mediaSquare:"card-m__mediaSquare__fDbOX",media16by9:"card-m__media16by9__3qldC",primary:"card-m__primary__r84rj",secondary:"card-m__secondary__2FZlH"}},325:function(e,t,i){},332:function(e,t,i){"use strict";i.r(t);var c=i(18),a=i(19),s=i(31),n=i(48),r=i(322),o=i(20),l=i(49),d=i(140);function _(){return Object(l.b)((e,t)=>{Object(d.a)(function(){this.invalidate()})(e)})}var j=i(21),p=i(324);let h=class extends(Object(j.c)(a.a)){render(){const{actionsRenderer:e}=this.properties,t=e&&e();return Object(c.i)("div",{key:"root",classes:this.theme(p.root)},this.children,t&&Object(c.i)("div",{classes:this.theme(p.actions)},t))}};var b=h=o.__decorate([Object(j.f)(p),_()],h),m=i(38);class O extends a.b{render(){return Object(c.j)("div",{classes:r.container},[Object(c.j)("div",{classes:[r.column]},[Object(c.j)("div",{classes:[]},[Object(c.k)(b,{},[Object(c.k)(m.a,{label:this.properties.name||this.properties.license_plate+" - "+this.properties.vin,classes:["fas","fa-start"],ShowLabel:!0,onClick:()=>{}}),Object(c.j)("div",{},[Object(c.j)("div",{},[this.properties.license_plate]),Object(c.j)("img",{},[]),Object(c.j)("div",{},[Object(c.j)("div",{},[Object(c.j)("div",{},[Object(c.j)("span",{},["VIN: "]),Object(c.j)("span",{},[this.properties.vin])]),Object(c.j)("div",{},[Object(c.j)("span",{},["AÃ±o: "]),Object(c.j)("span",{},[this.properties.year])]),Object(c.j)("div",{},[Object(c.j)("span",{},["Propietario: "]),Object(c.j)("span",{},[this.properties.lfname])]),Object(c.j)("div",{},[Object(c.j)("span",{},["Tipo combustible: "]),Object(c.j)("span",{},[this.properties.fueltype])]),Object(c.j)("div",{},[Object(c.j)("span",{},["Color: "]),Object(c.j)("span",{},[this.properties.color])])])]),Object(c.j)("div",{},["Piecito"])])])])])])}}i.d(t,"default",function(){return u});class u extends a.b{constructor(){super(...arguments),this.Vehicles=[],this.TextSearch=""}async GetVehicles(){const e=await fetch("/vehicles",{method:"POST",body:JSON.stringify({idaccount:localStorage.getItem("idaccount"),Search:this.TextSearch}),headers:{"Content-Type":"application/json"}});if(200==e.status){this.Vehicles=[];let t=await e.json();console.log(t),Array.isArray(t)&&t.forEach((e,t)=>{console.log(e.license_plate),this.Vehicles.push(Object(c.k)(O,{name:e.name,color:e.color,lfname:e.lfname,fueltype:e.fueltype,license_plate:e.license_plate,vin:e.vin,year:e.year,fuel_tank_capacity:e.fuel_tank_capacity})),this.invalidate()}),this.invalidate()}}render(){return Object(c.j)("div",{},[Object(c.k)(n.a,{}),Object(c.k)(s.a,{label:"Buscar",value:this.TextSearch,onChange:e=>{console.log(JSON.stringify(e)),this.TextSearch=e,this.Vehicles.push("Pude cambiar"),this.invalidate(),this.GetVehicles().then(()=>{console.log("invalida al terminar de obtener los vehiculos"),this.invalidate()})}},[]),Object(c.j)("div",{},this.Vehicles)])}}}}]);
//# sourceMappingURL=7.97e60cdb8a597a51c9c6.bundle.js.map