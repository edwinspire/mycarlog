{"version":3,"sources":["webpack://y_ar_og/./src/widgets/VehicleCard/VehicleCard.m.css","webpack://y_ar_og/./node_modules/@dojo/widgets/theme/card.m.css.js","webpack://y_ar_og/alwaysRender.ts","webpack://y_ar_og/index.tsx","webpack://y_ar_og/./src/widgets/VehicleCard/VehicleCard.ts","webpack://y_ar_og/./src/widgets/VehicleCards/VehicleCards.ts"],"names":["module","exports"," _key","container","column","row","label","title","image","__webpack_require__","root","actions","actionButtons","actionIcons","primaryAction","media","mediaContent","mediaSquare","media16by9","primary","secondary","alwaysRender","Object","handleDecorator","target","propertyKey","beforeProperties","this","invalidate","card_Card","Themed","WidgetBase","[object Object]","actionsRenderer","properties","actionsResult","vdom","key","classes","theme","card_m_css","children","card","tslib","widgets_VehicleCard_VehicleCard","VehicleCard","clase","Data","idaccount","window","GlobalStore","get","path","VehicleCard_m","onclick","apply","operations","idvehicle","name","license_plate","vin","console","log","location","href","Icon","ShowLabel","year","lfname","fueltype","color","tslib_es6","watch","d","__webpack_exports__","VehicleCards_SelectVehicle","Vehicles","TextSearch","res","fetch","method","body","JSON","stringify","Search","headers","Content-Type","status","data","json","Array","isArray","forEach","element","index","push","fuel_tank_capacity","err","Menu","text_input","value","onChange","v","GetVehicles","then"],"mappings":";;;;;;;;mGACAA,EAAAC,QAAA,CAAkBC,QAAA,uBAAAC,UAAA,wCAAAC,OAAA,qCAAAC,IAAA,kCAAAC,MAAA,oCAAAC,MAAA,oCAAAC,MAAA,0DCDlBC,EAAQ,KACRT,EAAAC,QAAA,CAAkBC,QAAA,qBAAAQ,KAAA,sBAAAC,QAAA,yBAAAC,cAAA,+BAAAC,YAAA,6BAAAC,cAAA,+BAAAC,MAAA,uBAAAC,aAAA,8BAAAC,YAAA,6BAAAC,WAAA,4BAAAC,QAAA,yBAAAC,UAAA,yKCGX,SAASC,IACf,OAAOC,OAAAC,EAAA,EAAAD,CAAgB,CAACE,EAAQC,KAC/BH,OAAAI,EAAA,EAAAJ,CAAiB,WAChBK,KAAKC,cADNN,CAEGE,KAIU,qBCEf,IAAaK,EAAb,cAA0BP,OAAAQ,EAAA,EAAAR,CAAYS,EAAA,IAC3BC,SACT,MAAMC,gBAAEA,GAAoBN,KAAKO,WAC3BC,EAAgBF,GAAmBA,IACzC,OACCX,OAAAc,EAAA,EADM,CACN,OAAKC,IAAI,OAAOC,QAASX,KAAKY,MAAMC,EAAA,OAClCb,KAAKc,SACLN,GAAiBb,OAAAc,EAAA,EAAAd,CAAA,OAAKgB,QAASX,KAAKY,MAAMC,EAAA,UAAeL,MAM/C,IAAAO,EAbFb,EAAIc,EAAA,YAFhBrB,OAAAQ,EAAA,EAAAR,CAAMkB,GACNnB,KACYQ,2BCaQ,IAAAe,EAArB,YAAqBC,UAAoBd,EAAA,EAAzCC,kCACUL,KAAAmB,MAAQ,cACCnB,KAAAoB,KAA8BpB,KAAKO,WAEpDF,WACEL,KAAKoB,KAAOpB,KAAKO,WACjBP,KAAKoB,KAAKC,UAAYC,OAAOC,YAAYC,IACvCF,OAAOC,YAAYE,KACjB,OACA,OACA,cACA,wBACA,cAGJzB,KAAKC,aAGGI,SACR,OAAOV,OAAAc,EAAA,EAAAd,CAAE,MAAO,CAAEgB,QAASe,EAAA,WAAiB,CAC1C/B,OAAAc,EAAA,EAAAd,CAAE,MAAO,CAAEgB,QAAS,CAACe,EAAA,SAAe,CAClC/B,OAAAc,EAAA,EAAAd,CAAE,MAAO,GAAI,CACXA,OAAAc,EAAA,EAAAd,CAAEoB,EAAM,GAAI,CACVpB,OAAAc,EAAA,EAAAd,CACE,MACA,CACEgC,QAAS,KACP,MAAMF,KAAEA,EAAIG,MAAEA,GAAUN,OAAOC,YAC/BK,EACE,CACEjC,OAAAkC,EAAA,EAAAlC,CACE8B,EACE,OACA,OACA,cACA,wBACA,aAEFzB,KAAKoB,KAAKU,aAGd,GAGFF,EACE,CACEjC,OAAAkC,EAAA,EAAAlC,CACE8B,EACE,OACA,OACA,cACA,wBACA,QAEFzB,KAAKoB,KAAKW,MACR/B,KAAKoB,KAAKY,cAAgB,MAAQhC,KAAKoB,KAAKa,OAGlD,GAGFC,QAAQC,IAAI,mBAAoBnC,KAAKoB,MACrCE,OAAOc,SAASC,KAAO,WAI3B,CACE1C,OAAAc,EAAA,EAAAd,CAAE2C,EAAA,EAAM,CACN3D,MACEqB,KAAKoB,KAAKW,MACV/B,KAAKoB,KAAKY,cAAgB,MAAQhC,KAAKoB,KAAKa,IAC9CtB,QAAS,CAACX,KAAKmB,MAAO,MAAOO,EAAA,OAC7Ba,WAAW,IAEb5C,OAAAc,EAAA,EAAAd,CAAE,MAAO,GAAI,CACXA,OAAAc,EAAA,EAAAd,CAAE,MAAO,CAAEgB,QAAS,CAACe,EAAA,QAAc,IACnC/B,OAAAc,EAAA,EAAAd,CAAE,MAAO,GAAI,CACXA,OAAAc,EAAA,EAAAd,CAAE,MAAO,GAAI,CACXA,OAAAc,EAAA,EAAAd,CAAE,MAAO,GAAI,CACXA,OAAAc,EAAA,EAAAd,CAAE,OAAQ,CAAEgB,QAAS,CAACe,EAAA,QAAc,CAAC,UACrC/B,OAAAc,EAAA,EAAAd,CAAE,OAAQ,GAAI,CAACK,KAAKoB,KAAKa,QAE3BtC,OAAAc,EAAA,EAAAd,CAAE,MAAO,GAAI,CACXA,OAAAc,EAAA,EAAAd,CAAE,OAAQ,CAAEgB,QAAS,CAACe,EAAA,QAAc,CAAC,UACrC/B,OAAAc,EAAA,EAAAd,CAAE,OAAQ,GAAI,CAACK,KAAKoB,KAAKoB,SAE3B7C,OAAAc,EAAA,EAAAd,CAAE,MAAO,GAAI,CACXA,OAAAc,EAAA,EAAAd,CAAE,OAAQ,CAAEgB,QAAS,CAACe,EAAA,QAAc,CAAC,kBACrC/B,OAAAc,EAAA,EAAAd,CAAE,OAAQ,GAAI,CAACK,KAAKoB,KAAKqB,WAE3B9C,OAAAc,EAAA,EAAAd,CAAE,MAAO,GAAI,CACXA,OAAAc,EAAA,EAAAd,CAAE,OAAQ,CAAEgB,QAAS,CAACe,EAAA,QAAc,CAClC,uBAEF/B,OAAAc,EAAA,EAAAd,CAAE,OAAQ,GAAI,CAACK,KAAKoB,KAAKsB,aAE3B/C,OAAAc,EAAA,EAAAd,CAAE,MAAO,GAAI,CACXA,OAAAc,EAAA,EAAAd,CAAE,OAAQ,GAAI,CAAC,YACfA,OAAAc,EAAA,EAAAd,CAAE,OAAQ,GAAI,CAACK,KAAKoB,KAAKuB,cAI/BhD,OAAAc,EAAA,EAAAd,CAAE,MAAO,GAAI,CAAC,yBAShC,OA7GWA,OAAAiD,EAAA,EAAAjD,CAAA,CAARA,OAAAkD,EAAA,EAAAlD,+BA6GHuB,GA/GA,GC3BApC,EAAAgE,EAAAC,EAAA,4BAAAC,IAQe,MAAMA,UAAsB5C,EAAA,EAA3CC,kCACUL,KAAAiD,SAAW,GAEXjD,KAAAkD,WAAqB,GAE7B7C,oBACE,MAAMoB,KAAEA,GAASH,OAAOC,YACxB,IAAIF,EAAYC,OAAOC,YAAYC,IAAIC,EAAK,OAAQ,OAAQ,cAE5D,IACE,MAAM0B,QAAYC,MAAM,YAAa,CACnCC,OAAQ,OACRC,KAAMC,KAAKC,UAAU,CACnBnC,UAAWA,EACXoC,OAAQzD,KAAKkD,aAEfQ,QAAS,CACPC,eAAgB,sBAIpB,GAAkB,KAAdR,EAAIS,OAAe,CACrB5D,KAAKiD,SAAW,GAChB,IAAIY,QAAaV,EAAIW,OAErB5B,QAAQC,IAAI0B,GACRE,MAAMC,QAAQH,IAChBA,EAAKI,QAAQ,CAACC,EAAcC,KAC1BjC,QAAQC,IAAI+B,EAAQlC,eACpBhC,KAAKiD,SAASmB,KACZzE,OAAAc,EAAA,EAAAd,CAAEsB,EAAa,CACba,UAAWoC,EAAQpC,UACnBC,KAAMmC,EAAQnC,KACdY,MAAOuB,EAAQvB,MACfF,OAAQyB,EAAQzB,OAChBC,SAAUwB,EAAQxB,SAClBV,cAAekC,EAAQlC,cACvBC,IAAKiC,EAAQjC,IACbO,KAAM0B,EAAQ1B,KACd6B,mBAAoBH,EAAQG,sBAGhCrE,KAAKC,eAITD,KAAKC,cAEP,MAAOqE,GACPpC,QAAQC,IAAImC,IAINjE,SACR,OAAOV,OAAAc,EAAA,EAAAd,CAAE,MAAO,GAAI,CAClBA,OAAAc,EAAA,EAAAd,CAAE4E,EAAA,EAAM,IACR5E,OAAAc,EAAA,EAAAd,CACE6E,EAAA,EACA,CACE7F,MAAO,SACP8F,MAAOzE,KAAKkD,WACZwB,SAAWC,IACTzC,QAAQC,IAAIoB,KAAKC,UAAUmB,IAC3B3E,KAAKkD,WAAayB,EAClB3E,KAAKC,aACLD,KAAK4E,cAAcC,KAAK,KACtB3C,QAAQC,IAAI,iDACZnC,KAAKC,iBAIX,IAEFN,OAAAc,EAAA,EAAAd,CAAE,MAAO,GAAIK,KAAKiD","file":"7.a18ec138102c2d10672c.bundle.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\" _key\":\"MyCarLog/VehicleCard\",\"container\":\"VehicleCard-m__container__70800a14TaC\",\"column\":\"VehicleCard-m__column__70800a2ehei\",\"row\":\"VehicleCard-m__row__70800a3--cc\",\"label\":\"VehicleCard-m__label__70800a3NxFw\",\"title\":\"VehicleCard-m__title__70800a3uROH\",\"image\":\"VehicleCard-m__image__70800a33nci\"};","require('/home/edwinspire/Documentos/Desarrollo/mycarlog/mycarlog/opt/mycarlog/frontend/node_modules/@dojo/widgets/theme/card.m.css');\nmodule.exports = {\" _key\":\"@dojo/widgets/card\",\"root\":\"card-m__root__1zMtM\",\"actions\":\"card-m__actions__1Z_Hb\",\"actionButtons\":\"card-m__actionButtons__2SSbU\",\"actionIcons\":\"card-m__actionIcons__3aObP\",\"primaryAction\":\"card-m__primaryAction__1zj-J\",\"media\":\"card-m__media__2jfnD\",\"mediaContent\":\"card-m__mediaContent__2DMyX\",\"mediaSquare\":\"card-m__mediaSquare__fDbOX\",\"media16by9\":\"card-m__media16by9__3qldC\",\"primary\":\"card-m__primary__r84rj\",\"secondary\":\"card-m__secondary__2FZlH\"};;","import { WidgetBase } from './../WidgetBase';\nimport { handleDecorator } from './handleDecorator';\nimport { beforeProperties } from './beforeProperties';\n\nexport function alwaysRender() {\n\treturn handleDecorator((target, propertyKey) => {\n\t\tbeforeProperties(function(this: WidgetBase) {\n\t\t\tthis.invalidate();\n\t\t})(target);\n\t});\n}\n\nexport default alwaysRender;\n","import { WidgetBase } from '@dojo/framework/core/WidgetBase';\nimport { tsx } from '@dojo/framework/core/vdom';\nimport { RenderResult } from '@dojo/framework/core/interfaces';\nimport { alwaysRender } from '@dojo/framework/core/decorators/alwaysRender';\nimport { ThemedMixin, theme } from '@dojo/framework/core/mixins/Themed';\nimport * as css from '../theme/card.m.css';\nimport { DNode } from '@dojo/framework/core/interfaces';\n\nexport interface CardProperties {\n\tactionsRenderer?(): RenderResult;\n}\n\n@theme(css)\n@alwaysRender()\nexport class Card extends ThemedMixin(WidgetBase)<CardProperties> {\n\tprotected render(): DNode {\n\t\tconst { actionsRenderer } = this.properties;\n\t\tconst actionsResult = actionsRenderer && actionsRenderer();\n\t\treturn (\n\t\t\t<div key=\"root\" classes={this.theme(css.root)}>\n\t\t\t\t{this.children}\n\t\t\t\t{actionsResult && <div classes={this.theme(css.actions)}>{actionsResult}</div>}\n\t\t\t</div>\n\t\t);\n\t}\n}\n\nexport default Card;\n","import { v, w } from \"@dojo/framework/core/vdom\";\nimport WidgetBase from \"@dojo/framework/core/WidgetBase\";\nimport * as css from \"./VehicleCard.m.css\";\nimport Card from \"@dojo/widgets/card\";\nimport Icon from \".././Icon/Icon\";\nimport watch from \"@dojo/framework/core/decorators/watch\";\nimport { add } from \"@dojo/framework/stores/state/operations\";\n\nexport interface VehicleCardProperties {\n  idvehicle: number;\n  idaccount?: number;\n  account?: string;\n  idcontact?: string;\n  license_plate: string;\n  year: string;\n  fuel_tank_capacity: string;\n  vin: string;\n  name: string;\n  idvehicletype?: string;\n  mark?: string;\n  model?: string;\n  color: string;\n  fueltype: string;\n  unit_measure_fuel_tank?: string;\n  lfname: string;\n}\n\nexport default class VehicleCard extends WidgetBase<VehicleCardProperties> {\n  private clase = \"fa-car-side\";\n  @watch() private Data: VehicleCardProperties = this.properties;\n\n  onAttach() {\n    this.Data = this.properties;\n    this.Data.idaccount = window.GlobalStore.get(\n      window.GlobalStore.path(\n        \"root\",\n        \"user\",\n        \"preferences\",\n        \"last_vehicle_selected\",\n        \"idvehicle\"\n      )\n    );\n    this.invalidate();\n  }\n\n  protected render() {\n    return v(\"div\", { classes: css.container }, [\n      v(\"div\", { classes: [css.column] }, [\n        v(\"div\", {}, [\n          w(Card, {}, [\n            v(\n              \"div\",\n              {\n                onclick: () => {\n                  const { path, apply } = window.GlobalStore;\n                  apply(\n                    [\n                      add(\n                        path(\n                          \"root\",\n                          \"user\",\n                          \"preferences\",\n                          \"last_vehicle_selected\",\n                          \"idvehicle\"\n                        ),\n                        this.Data.idvehicle\n                      ),\n                    ],\n                    true\n                  );\n\n                  apply(\n                    [\n                      add(\n                        path(\n                          \"root\",\n                          \"user\",\n                          \"preferences\",\n                          \"last_vehicle_selected\",\n                          \"name\"\n                        ),\n                        this.Data.name ||\n                          this.Data.license_plate + \" - \" + this.Data.vin\n                      ),\n                    ],\n                    true\n                  );\n\n                  console.log(\"Se ha presionado\", this.Data);\n                  window.location.href = \"/#home\";\n                  //this.invalidate();\n                },\n              },\n              [\n                w(Icon, {\n                  label:\n                    this.Data.name ||\n                    this.Data.license_plate + \" - \" + this.Data.vin,\n                  classes: [this.clase, \"far\", css.title],\n                  ShowLabel: true,\n                }),\n                v(\"div\", {}, [\n                  v(\"img\", { classes: [css.image] }, []),\n                  v(\"div\", {}, [\n                    v(\"div\", {}, [\n                      v(\"div\", {}, [\n                        v(\"span\", { classes: [css.label] }, [\"VIN: \"]),\n                        v(\"span\", {}, [this.Data.vin]),\n                      ]),\n                      v(\"div\", {}, [\n                        v(\"span\", { classes: [css.label] }, [\"Año: \"]),\n                        v(\"span\", {}, [this.Data.year]),\n                      ]),\n                      v(\"div\", {}, [\n                        v(\"span\", { classes: [css.label] }, [\"Propietario: \"]),\n                        v(\"span\", {}, [this.Data.lfname]),\n                      ]),\n                      v(\"div\", {}, [\n                        v(\"span\", { classes: [css.label] }, [\n                          \"Tipo combustible: \",\n                        ]),\n                        v(\"span\", {}, [this.Data.fueltype]),\n                      ]),\n                      v(\"div\", {}, [\n                        v(\"span\", {}, [\"Color: \"]),\n                        v(\"span\", {}, [this.Data.color]),\n                      ]),\n                    ]),\n                  ]),\n                  v(\"div\", {}, [\"Piecito\"]),\n                ]),\n              ]\n            ),\n          ]),\n        ]),\n      ]),\n    ]);\n  }\n}\n","import { v, w } from \"@dojo/framework/core/vdom\";\nimport WidgetBase from \"@dojo/framework/core/WidgetBase\";\nimport TextInput from \"@dojo/widgets/text-input\";\nimport Menu from \".././Menu\";\nimport CardVehicle from \".././VehicleCard/VehicleCard\";\n//import { toggleSwitch } from '@dojo/themes/dojo/checkbox.m.css';\n//import { add } from \"@dojo/framework/stores/state/operations\";\n\nexport default class SelectVehicle extends WidgetBase {\n  private Vehicles = [] as any[];\n\n  private TextSearch: string = \"\";\n\n  async GetVehicles() {\n    const { path } = window.GlobalStore;\n    let idaccount = window.GlobalStore.get(path(\"root\", \"user\", \"idaccount\"));\n\n    try {\n      const res = await fetch(\"/vehicles\", {\n        method: \"POST\",\n        body: JSON.stringify({\n          idaccount: idaccount,\n          Search: this.TextSearch,\n        }),\n        headers: {\n          \"Content-Type\": \"application/json\",\n        },\n      });\n\n      if (res.status == 200) {\n        this.Vehicles = [];\n        let data = await res.json();\n        //\t\tthis._fetcher = createFetcher(data);\n        console.log(data);\n        if (Array.isArray(data)) {\n          data.forEach((element: any, index) => {\n            console.log(element.license_plate);\n            this.Vehicles.push(\n              w(CardVehicle, {\n                idvehicle: element.idvehicle,\n                name: element.name,\n                color: element.color,\n                lfname: element.lfname,\n                fueltype: element.fueltype,\n                license_plate: element.license_plate,\n                vin: element.vin,\n                year: element.year,\n                fuel_tank_capacity: element.fuel_tank_capacity,\n              })\n            );\n            this.invalidate();\n          });\n        }\n\n        this.invalidate();\n      }\n    } catch (err) {\n      console.log(err);\n    }\n  }\n\n  protected render() {\n    return v(\"div\", {}, [\n      w(Menu, {}),\n      w(\n        TextInput,\n        {\n          label: \"Buscar\",\n          value: this.TextSearch,\n          onChange: (v) => {\n            console.log(JSON.stringify(v));\n            this.TextSearch = v as string;\n            this.invalidate();\n            this.GetVehicles().then(() => {\n              console.log(\"invalida al terminar de obtener los vehiculos\");\n              this.invalidate();\n            });\n          },\n        },\n        []\n      ),\n      v(\"div\", {}, this.Vehicles),\n    ]);\n  }\n}\n"],"sourceRoot":""}