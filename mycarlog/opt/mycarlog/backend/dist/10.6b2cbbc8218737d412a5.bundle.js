/*!
 * 
 * [Dojo](https://dojo.io/)
 * Copyright [JS Foundation](https://js.foundation/) & contributors
 * [New BSD license](https://github.com/dojo/meta/blob/master/LICENSE)
 * All rights reserved
 * 
 */
(window.dojoWebpackJsonpy_ar_og=window.dojoWebpackJsonpy_ar_og||[]).push([[10],{273:function(e,t,r){e.exports={" _key":"MyCarLog/Register",root:"Register-m__root__70800a13tfa",body:"Register-m__body__70800a1Gy6J",wrapper:"Register-m__wrapper__70800a3JQi7","form-success":"Register-m__form-success__70800a1jmgD",container:"Register-m__container__70800a1JwvM",form:"Register-m__form__70800a3TcLF",links_block:"Register-m__links_block__70800a16lcU",bg_bubbles:"Register-m__bg_bubbles__70800aExND9",square:"Register-m__square__70800a2-Ij2"}},287:function(e,t,r){"use strict";r.r(t),r.d(t,"default",function(){return n});var a=r(18),s=r(19),i=r(273),o=r(50);class n extends s.b{constructor(){super(...arguments),this._openSnack=!1,this._MsgSnackBar="-"}SnackBar(e,t){console.log("SnackBar "+t),this._openSnack=!0,this._MsgSnackBar=t,this._SnackType=e,this.invalidate(),setTimeout(()=>{this._openSnack=!1,this.invalidate()},4e3)}onAttach(){document.cookie="TOKEN_USER= ; expires = Thu, 01 Jan 1970 00:00:00 GMT",console.log("Borrar")}render(){return Object(a.j)("div",{classes:[i.root]},[Object(a.j)("div",{classes:[i.body]},[Object(a.j)("div",{classes:i.wrapper},[Object(a.j)("div",{classes:[i.container]},[Object(a.j)("h1",{},["Registro"]),Object(a.j)("form",{classes:i.form,action:"/register",method:"post",onsubmit:e=>{if(e.target){let r=e.target.getElementsByTagName("input"),a=0;var t={};let s="",i="";for(a=0;a<r.length;a++)Object.defineProperty(t,r[a].name,{value:r[a].value,enumerable:!0}),"pwd"==r[a].name&&(s=r[a].value),"pwd2"==r[a].name&&(i=r[a].value),a+1==r.length&&(s==i?(async()=>{let e=await fetch("/register",{method:"POST",body:JSON.stringify(t),headers:{"Content-Type":"application/json"}}),r=await e.json();200==e.status?(console.log(r),r.Register?(this.SnackBar("success",r.Message),setTimeout(()=>{window.location.href="/#login"},5e3)):this.SnackBar("error",r.Message)):(console.log("No se pudo registrar",r),this.SnackBar("error","no se pudo guardar"))})():this.SnackBar("error","Las contraseñas no coinciden"))}e.preventDefault()}},[Object(a.j)("input",{name:"firstname",type:"text",placeholder:"Nombre",required:"required"}),Object(a.j)("input",{name:"lastname",type:"text",placeholder:"Apellido",required:"required"}),Object(a.j)("input",{name:"username",type:"email",placeholder:"Email",required:"required"}),Object(a.j)("input",{name:"pwd",type:"password",placeholder:"Contraseña",required:"required"}),Object(a.j)("input",{name:"pwd2",type:"password",placeholder:"Confirme Contraseña",required:"required"}),Object(a.j)("input",{name:"register",type:"submit",value:"Aceptar"}),Object(a.j)("div",{classes:i.links_block},[Object(a.j)("a",{href:"/#login"},["Login"])])])]),Object(a.k)(o.a,{open:this._openSnack,leading:!1,type:this._SnackType,messageRenderer:()=>this._MsgSnackBar})])]),Object(a.j)("ul",{classes:i.bg_bubbles},[Object(a.j)("li"),Object(a.j)("li"),Object(a.j)("li"),Object(a.j)("li"),Object(a.j)("li"),Object(a.j)("li"),Object(a.j)("li"),Object(a.j)("li"),Object(a.j)("li"),Object(a.j)("li")])])}}}}]);
//# sourceMappingURL=10.6b2cbbc8218737d412a5.bundle.js.map