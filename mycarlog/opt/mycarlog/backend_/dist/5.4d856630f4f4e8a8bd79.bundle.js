/*!
 * 
 * [Dojo](https://dojo.io/)
 * Copyright [JS Foundation](https://js.foundation/) & contributors
 * [New BSD license](https://github.com/dojo/meta/blob/master/LICENSE)
 * All rights reserved
 * 
 */
(window.dojoWebpackJsonputomotive_og=window.dojoWebpackJsonputomotive_og||[]).push([[5],{251:function(e,t,n){e.exports={" _key":"AutomotiveLog/Login",btn:"Login-m__btn__fef755nE8Yn",active:"Login-m__active__fef7553zbIo",disabled:"Login-m__disabled__fef755u520u",btn_large:"Login-m__btn_large__fef7552o3AI",btn_primary:"Login-m__btn_primary__fef7553C7TY",btn_block:"Login-m__btn_block__fef7551C_uT",container:"Login-m__container__fef755aargL",container_html:"Login-m__container_html__fef7551Xdl8",root:"Login-m__root__fef7553B_u0",login:"Login-m__login__fef755r6iOW",input:"Login-m__input__fef755_mk6S",register:"Login-m__register__fef75513VHD",anchor:"Login-m__anchor__fef755JV_sF"}},258:function(e,t,n){"use strict";n.r(t),n.d(t,"default",function(){return _});var o=n(36),a=n(18),i=n(19),r=n(251),s=n(44),c=n(35);class _ extends i.b{constructor(){super(...arguments),this._openSnack=!1,this._MsgSnackBar="-"}SnackBar(e){console.log("SnackBar "+e),this._openSnack=!0,this._MsgSnackBar=e,this.invalidate(),setTimeout(()=>{this._openSnack=!1,this.invalidate()},4e3)}onAttach(){document.cookie="TOKEN_USER= ; expires = Thu, 01 Jan 1970 00:00:00 GMT",console.log("Borrar")}render(){return Object(a.j)("div",{classes:[r.root]},[Object(a.j)("div",{classes:[r.login,r.container,r.container_html]},[Object(a.j)("h1",{},["Login"]),Object(a.j)("form",{action:"/login",method:"post",onsubmit:e=>{if(e.target){let n=e.target.getElementsByTagName("input"),o=0;var t={};for(o=0;o<n.length;o++)Object.defineProperty(t,n[o].name,{value:n[o].value,enumerable:!0}),o+1==n.length&&(async()=>{let e=await fetch("/login",{method:"POST",body:JSON.stringify(t),headers:{"Content-Type":"application/json"}});var n=await e.json();console.log(n),200==e.status?n.login?(localStorage.setItem("idaccount",n.idaccount),localStorage.setItem("iduser",n.iduser),localStorage.setItem("preferences",n.preferences),localStorage.setItem("fullname",n.fullname),localStorage.setItem("user",JSON.stringify(n)),window.location.href="/#home"):this.SnackBar(n.message):this.SnackBar("Sucedió un inconveniente con el servidor")})()}e.preventDefault()}},[Object(a.j)("input",{classes:[r.input],name:"username",type:"text",placeholder:"Usuario",required:"required"},[]),Object(a.j)("input",{classes:[r.input],name:"pwd",type:"password",placeholder:"Contraseña",required:"required"},[]),Object(a.j)("input",{name:"carlog",classes:[r.btn,r.btn_primary,r.btn_block,r.btn_large],type:"submit",value:"Aceptar"})]),Object(a.j)("div",{classes:r.register},[Object(a.j)("a",{classes:[r.anchor],href:"/#register"},["Registro"])])]),Object(a.k)(s.a,{open:this._openSnack,leading:!1,type:"error",messageRenderer:()=>this._MsgSnackBar})])}}Object(o.a)([Object(c.a)()],_.prototype,"_openSnack",void 0),Object(o.a)([Object(c.a)()],_.prototype,"_MsgSnackBar",void 0)}}]);
//# sourceMappingURL=5.4d856630f4f4e8a8bd79.bundle.js.map