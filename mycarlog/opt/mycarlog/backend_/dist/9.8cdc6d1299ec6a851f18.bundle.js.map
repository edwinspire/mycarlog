{"version":3,"sources":["webpack://utomotive_og/wrapper.ts","webpack://utomotive_og/./src/widgets/contacts/Contacts.ts","webpack://utomotive_og/./src/widgets/Contacts.ts"],"names":["__webpack_require__","d","__webpack_exports__","wrapper","_global__WEBPACK_IMPORTED_MODULE_0__","nameOnGlobal","constructor","bind","Contacts_Contacts","WidgetBase","[object Object]","this","columnConfig","id","title","filterable","sortable","resizable","res","fetch","method","body","JSON","stringify","idaccount","localStorage","getItem","headers","Content-Type","data","json","console","log","_fetcher","Object","utils","invalidate","vdom","toolbar","heading","collapseWidth","Icon","label","classes","ShowLabel","onClick","e","window","location","href","grid","fetcher","height","onRowSelect","items","idcontact","rowkey","factory","properties","Profile_m","Menu","url"],"mappings":";;;;;;;;yHAAAA,EAAAC,EAAAC,EAAA,sBAAAC,IAAA,IAAAC,EAAAJ,EAAA,GAAAA,EAAA,GAGc,SAAUG,EAAQE,EAAsBC,GAAc,EAAOC,GAAO,GAajF,OAAOA,EAAOH,EAAA,QAAOC,GAAcE,KAAKH,EAAA,SAAUA,EAAA,QAAOC,yGCL3C,MAAMG,UAAiBC,EAAA,EAAtCC,kCAESC,KAAAC,aAAe,CACvB,CACCC,GAAI,SACJC,MAAO,SACPC,YAAY,EACZC,UAAU,EAEVC,WAAW,GAEZ,CACCJ,GAAI,2BACJC,MAAO,UACPC,YAAY,EACZC,UAAU,EAEVC,WAAW,GAEZ,CACCJ,GAAI,iBACJC,MAAO,iBACPC,YAAY,EACZC,UAAU,EAEVC,WAAW,GAEZ,CACCJ,GAAI,eACJC,MAAO,SACPC,YAAY,EACZC,UAAU,EAEVC,WAAW,GAGZ,CACCJ,GAAI,mBACJC,MAAO,gBACPC,YAAY,EACZC,UAAU,EAEVC,WAAW,GAEZ,CACCJ,GAAI,OACJC,MAAO,QAEPE,UAAU,EAEVC,WAAW,IAMZP,iBACC,MAAMQ,QAAYC,MACjB,cAAc,CACbC,OAAQ,OACRC,KAAMC,KAAKC,UAAU,CAACC,UAAWC,aAAaC,QAAQ,eACtDC,QAAS,CACRC,eAAgB,sBAInB,IAAIC,QAAaX,EAAIY,OACrBC,QAAQC,IAAIH,GACZlB,KAAKsB,SAAWC,OAAAC,EAAA,EAAAD,CAAcL,GAC9BlB,KAAKyB,aAGI1B,SAET,OAAOwB,OAAAG,EAAA,EAAAH,CAAE,MAAO,GAAK,CACpBA,OAAAG,EAAA,EAAAH,CAAEI,EAAA,EAAS,CAACC,QAAS,YAAaC,cAAe,KAAM,CACtDN,OAAAG,EAAA,EAAAH,CAAEO,EAAA,EAAO,CAACC,MAAO,QAASC,QAAS,CAAC,MAAO,gBAAiBC,WAAW,EACtEC,QAAUC,IACTC,OAAOC,SAASC,KAAO,4CAA4CxB,aAAaC,QAAQ,kBAI3FQ,OAAAG,EAAA,EAAAH,CAAE,MAAO,GAAK,CACbvB,KAAKsB,SAAWC,OAAAG,EAAA,EAAAH,CAAEgB,EAAA,EAAM,CACvBtC,aAAcD,KAAKC,aACnBuC,QAASxC,KAAKsB,SACdmB,OAAQ,IACRC,YAAcC,IACbvB,QAAQC,IAAIsB,EAAO3C,KAAKsB,UACxBc,OAAOC,SAASC,KAAO,uBAAuBK,EAAM,GAAGC,UAAU,WAAWD,EAAM,GAAGE,OAAO,cAAc/B,aAAaC,QAAQ,gBAE5H,sBC9FT,MAAM+B,EAAUvB,OAAAG,EAAA,EAAAH,GAEDhC,EAAA,QAAAuD,EAAQ,UAAiBC,WAAEA,IAEzC,OAAOxB,OAAAG,EAAA,EAAAH,CAAE,MAAO,CAAES,QAAS,CAACgB,EAAA,OAAa,CACxCzB,OAAAG,EAAA,EAAAH,CAAE0B,EAAA,EAAM,IACR1B,OAAAG,EAAA,EAAAH,CAAE1B,EAAU,CAACqD,IAAK","file":"9.8cdc6d1299ec6a851f18.bundle.js","sourcesContent":["import global from '../global';\nimport has from '../../core/has';\n\nexport default function wrapper(nameOnGlobal: string, constructor = false, bind = false): any {\n\tif (has('test')) {\n\t\tif (constructor) {\n\t\t\treturn function(...args: any[]) {\n\t\t\t\treturn new global[nameOnGlobal](...args);\n\t\t\t};\n\t\t} else {\n\t\t\treturn function(...args: any[]) {\n\t\t\t\treturn global[nameOnGlobal](...args);\n\t\t\t};\n\t\t}\n\t}\n\n\treturn bind ? global[nameOnGlobal].bind(global) : global[nameOnGlobal];\n}\n","import { v, w } from '@dojo/framework/core/vdom';\nimport WidgetBase from '@dojo/framework/core/WidgetBase';\nimport Grid from '@dojo/widgets/grid';\nimport { createFetcher } from '@dojo/widgets/grid/utils';\nimport ToolBar from '@dojo/widgets/toolbar';\nimport IconX from '.././Icon/Icon';\n\nexport interface ContactsProperties {\n\turl: string;\n}\n\nexport default class Contacts extends WidgetBase <ContactsProperties> {\n\n\tprivate columnConfig = [\n\t{\n\t\tid: 'lfname',\n\t\ttitle: 'Nombre',\n\t\tfilterable: true,\n\t\tsortable: true,\n\t\t//editable: true,\n\t\tresizable: true\n\t},\t\n\t{\n\t\tid: 'identificationtype_label',\n\t\ttitle: 'Tipo ID',\n\t\tfilterable: true,\n\t\tsortable: true,\n\t\t//editable: true,\n\t\tresizable: true\n\t},\n\t{\n\t\tid: 'identification',\n\t\ttitle: 'Identificación',\n\t\tfilterable: true,\n\t\tsortable: true,\n\t\t//editable: true,\n\t\tresizable: true\n\t},\n\t{\n\t\tid: 'gender_label',\n\t\ttitle: 'Género',\n\t\tfilterable: true,\n\t\tsortable: true,\n\t\t//editable: true,\n\t\tresizable: true\n\t},\n\n\t{\n\t\tid: 'contactype_label',\n\t\ttitle: 'Tipo Contacto',\n\t\tfilterable: true,\n\t\tsortable: true,\n\t\t//editable: true,\n\t\tresizable: true\n\t},\n\t{\n\t\tid: 'note',\n\t\ttitle: 'Notas',\n\t\t//filterable: true,\n\t\tsortable: true,\n\t\t//editable: true,\n\t\tresizable: true\n\t}\n\t];\n\n\tprivate _fetcher: any;\n\n\tasync onAttach() {\n\t\tconst res = await fetch(\n\t\t\t\"/contacts_r\",{\n\t\t\t\tmethod: 'POST',\n\t\t\t\tbody: JSON.stringify({idaccount: localStorage.getItem('idaccount')}),\n\t\t\t\theaders: {\n\t\t\t\t\t'Content-Type': 'application/json'\n\t\t\t\t}\n\t\t\t}\n\t\t\t);\n\t\tlet data = await res.json();\n\t\tconsole.log(data);\n\t\tthis._fetcher = createFetcher(data);\n\t\tthis.invalidate(); \n\t}\n\n\tprotected render(){\n\n\t\treturn v('div', { }, [\n\t\t\tw(ToolBar, {heading: 'CONTACTOS', collapseWidth: 150}, [\n\t\t\t\tw(IconX, {label: 'NUEVO', classes: ['fas', 'fa-user-plus'], ShowLabel: true,\n\t\t\t\t\tonClick: (e)=>{    \n\t\t\t\t\t\twindow.location.href = \"/#contact?idcontact=0&rowkey=0&idaccount=\"+localStorage.getItem('idaccount');\n\t\t\t\t\t}\n\t\t\t\t})\n\t\t\t\t]),\n\t\t\tv('div', { }, [\n\t\t\t\tthis._fetcher ? w(Grid, {\n\t\t\t\t\tcolumnConfig: this.columnConfig,\n\t\t\t\t\tfetcher: this._fetcher,\n\t\t\t\t\theight: 400,\n\t\t\t\t\tonRowSelect: (items: any[]) => {\n\t\t\t\t\t\tconsole.log(items, this._fetcher)\n\t\t\t\t\t\twindow.location.href = \"/#contact?idcontact=\"+items[0].idcontact+\"&rowkey=\"+items[0].rowkey+\"&idaccount=\"+localStorage.getItem('idaccount');\n\t\t\t\t\t}\n\t\t\t\t}) : null\n\t\t\t\t])\n\t\t\t]);\n\t}\n\n}","import { create, v, w } from '@dojo/framework/core/vdom';\nimport Menu from './Menu';\n\n//import watch from '@dojo/framework/core/decorators/watch';\nimport Contacts from './contacts/Contacts';\n\nimport * as css from './styles/Profile.m.css';\n\nconst factory = create();\n\nexport default factory(function Profile({ properties }) {\n\t//const { username, name } = properties();\n\treturn v('div', { classes: [css.root] }, [\n\t\tw(Menu, {}),\n\t\tw(Contacts, {url: '/contacts'})\n\t\t]);\n});\n"],"sourceRoot":""}